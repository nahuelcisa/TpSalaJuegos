"use strict";var TI=Object.defineProperty,DI=Object.defineProperties,AI=Object.getOwnPropertyDescriptors,oI=Object.getOwnPropertySymbols,SI=Object.prototype.hasOwnProperty,MI=Object.prototype.propertyIsEnumerable,aI=(Bt,Ge,U)=>Ge in Bt?TI(Bt,Ge,{enumerable:!0,configurable:!0,writable:!0,value:U}):Bt[Ge]=U,lI=(Bt,Ge)=>{for(var U in Ge||(Ge={}))SI.call(Ge,U)&&aI(Bt,U,Ge[U]);if(oI)for(var U of oI(Ge))MI.call(Ge,U)&&aI(Bt,U,Ge[U]);return Bt},uI=(Bt,Ge)=>DI(Bt,AI(Ge));(self.webpackChunkTpSalaDeJuegos=self.webpackChunkTpSalaDeJuegos||[]).push([[179],{7128:(Bt,Ge,U)=>{U.d(Ge,{nm:()=>re});var C=U(1907),Ae=(U(5e3),U(3692),U(5867),U(5861)),Le=U(9681),K=U(4859),Ve=U(2090),ze=U(1877);const ne=new Map,le={activated:!1,tokenObservers:[]},Se={initialized:!1,enabled:!1};function mt(ye){return ne.get(ye)||le}function We(ye,he){ne.set(ye,he)}function dt(){return Se}class Ue{constructor(he,Ee,ft,_t,Wt){if(this.operation=he,this.retryPolicy=Ee,this.getWaitDuration=ft,this.lowerBound=_t,this.upperBound=Wt,this.pending=null,this.nextErrorWaitInterval=_t,_t>Wt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(he){var Ee=this;return(0,Ae.Z)(function*(){Ee.stop();try{Ee.pending=new Ve.BH,yield function De(ye){return new Promise(he=>{setTimeout(he,ye)})}(Ee.getNextRun(he)),Ee.pending.resolve(),yield Ee.pending.promise,Ee.pending=new Ve.BH,yield Ee.operation(),Ee.pending.resolve(),yield Ee.pending.promise,Ee.process(!0).catch(()=>{})}catch(ft){Ee.retryPolicy(ft)?Ee.process(!1).catch(()=>{}):Ee.stop()}})()}getNextRun(he){if(he)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ee=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ee}}}const ct=new Ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function se(ye){if(!mt(ye).activated)throw ct.create("use-before-activation",{appName:ye.name})}function tt(ye,he){return it.apply(this,arguments)}function it(){return(it=(0,Ae.Z)(function*({url:ye,body:he},Ee){var ft,_t;const Wt={"Content-Type":"application/json"},On=Ee.getImmediate({optional:!0});if(On){const as=yield On.getHeartbeatsHeader();as&&(Wt["X-Firebase-Client"]=as)}const dr={method:"POST",body:JSON.stringify(he),headers:Wt};let Xn,yn;try{Xn=yield fetch(ye,dr)}catch(as){throw ct.create("fetch-network-error",{originalErrorMessage:null===(ft=as)||void 0===ft?void 0:ft.message})}if(200!==Xn.status)throw ct.create("fetch-status-error",{httpStatus:Xn.status});try{yn=yield Xn.json()}catch(as){throw ct.create("fetch-parse-error",{originalErrorMessage:null===(_t=as)||void 0===_t?void 0:_t.message})}const gn=yn.ttl.match(/^([\d.]+)(s)$/);if(!gn||!gn[2]||isNaN(Number(gn[1])))throw ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${yn.ttl}`});const Vr=1e3*Number(gn[1]),Ns=Date.now();return{token:yn.token,expireTimeMillis:Ns+Vr,issuedAtTimeMillis:Ns}})).apply(this,arguments)}function pn(ye,he){const{projectId:Ee,appId:ft,apiKey:_t}=ye.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ee}/apps/${ft}:exchangeDebugToken?key=${_t}`,body:{debug_token:he}}}const rn="firebase-app-check-store";let Vn=null;function ut(){return Vn||(Vn=new Promise((ye,he)=>{var Ee;try{const ft=indexedDB.open("firebase-app-check-database",1);ft.onsuccess=_t=>{ye(_t.target.result)},ft.onerror=_t=>{var Wt;he(ct.create("storage-open",{originalErrorMessage:null===(Wt=_t.target.error)||void 0===Wt?void 0:Wt.message}))},ft.onupgradeneeded=_t=>{0===_t.oldVersion&&_t.target.result.createObjectStore(rn,{keyPath:"compositeKey"})}}catch(ft){he(ct.create("storage-open",{originalErrorMessage:null===(Ee=ft)||void 0===Ee?void 0:Ee.message}))}}),Vn)}function Cn(){return(Cn=(0,Ae.Z)(function*(ye,he){const ft=(yield ut()).transaction(rn,"readwrite"),Wt=ft.objectStore(rn).put({compositeKey:ye,value:he});return new Promise((On,dr)=>{Wt.onsuccess=Xn=>{On()},ft.onerror=Xn=>{var yn;dr(ct.create("storage-set",{originalErrorMessage:null===(yn=Xn.target.error)||void 0===yn?void 0:yn.message}))}})})).apply(this,arguments)}const nr=new ze.Yd("@firebase/app-check");function Xt(ye,he){return(0,Ve.hl)()?function xe(ye,he){return function un(ye,he){return Cn.apply(this,arguments)}(function Yn(ye){return`${ye.options.appId}-${ye.name}`}(ye),he)}(ye,he).catch(Ee=>{nr.warn(`Failed to write token to IndexedDB. Error: ${Ee}`)}):Promise.resolve()}function ir(){return dt().enabled}function Pr(){return ht.apply(this,arguments)}function ht(){return(ht=(0,Ae.Z)(function*(){const ye=dt();if(ye.enabled&&ye.token)return ye.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ve={error:"UNKNOWN_ERROR"};function It(ye){return Ve.US.encodeString(JSON.stringify(ye),!1)}function rt(ye){return lt.apply(this,arguments)}function lt(){return(lt=(0,Ae.Z)(function*(ye,he=!1){const Ee=ye.app;se(Ee);const ft=mt(Ee);let Wt,_t=ft.token;if(!_t){const Xn=yield ft.cachedTokenPromise;Xn&&Bn(Xn)&&(_t=Xn)}if(!he&&_t&&Bn(_t))return{token:_t.token};let dr,On=!1;if(ir()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=tt(pn(Ee,yield Pr()),ye.heartbeatServiceProvider).then(yn=>(ft.exchangeTokenPromise=void 0,yn)),On=!0);const Xn=yield ft.exchangeTokenPromise;return yield Xt(Ee,Xn),We(Ee,Object.assign(Object.assign({},ft),{token:Xn})),{token:Xn.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().then(Xn=>(ft.exchangeTokenPromise=void 0,Xn)),On=!0),_t=yield ft.exchangeTokenPromise}catch(Xn){"appCheck/throttled"===Xn.code?nr.warn(Xn.message):nr.error(Xn),Wt=Xn}return _t?(dr={token:_t.token},We(Ee,Object.assign(Object.assign({},ft),{token:_t})),yield Xt(Ee,_t)):dr=Jn(Wt),On&&en(Ee,dr),dr})).apply(this,arguments)}function jt(ye,he){const Ee=mt(ye),ft=Ee.tokenObservers.filter(_t=>_t.next!==he);0===ft.length&&Ee.tokenRefresher&&Ee.tokenRefresher.isRunning()&&Ee.tokenRefresher.stop(),We(ye,Object.assign(Object.assign({},Ee),{tokenObservers:ft}))}function wn(ye){const{app:he}=ye,Ee=mt(he);let ft=Ee.tokenRefresher;ft||(ft=function Qn(ye){const{app:he}=ye;return new Ue((0,Ae.Z)(function*(){let ft;if(ft=mt(he).token?yield rt(ye,!0):yield rt(ye),ft.error)throw ft.error}),()=>!0,()=>{const Ee=mt(he);if(Ee.token){let ft=Ee.token.issuedAtTimeMillis+.5*(Ee.token.expireTimeMillis-Ee.token.issuedAtTimeMillis)+3e5;return ft=Math.min(ft,Ee.token.expireTimeMillis-3e5),Math.max(0,ft-Date.now())}return 0},3e4,96e4)}(ye),We(he,Object.assign(Object.assign({},Ee),{tokenRefresher:ft}))),!ft.isRunning()&&Ee.isTokenAutoRefreshEnabled&&ft.start()}function en(ye,he){const Ee=mt(ye).tokenObservers;for(const ft of Ee)try{"EXTERNAL"===ft.type&&null!=he.error?ft.error(he.error):ft.next(he)}catch(_t){}}function Bn(ye){return ye.expireTimeMillis-Date.now()>0}function Jn(ye){return{token:It(ve),error:ye}}class cn{constructor(he,Ee){this.app=he,this.heartbeatServiceProvider=Ee}_delete(){const{tokenObservers:he}=mt(this.app);for(const Ee of he)jt(this.app,Ee.next);return Promise.resolve()}}const ke="app-check-internal";!function Pt(){(0,Le._registerComponent)(new K.wA("app-check",ye=>function Je(ye,he){return new cn(ye,he)}(ye.getProvider("app").getImmediate(),ye.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ye,he,Ee)=>{ye.getProvider(ke).initialize()})),(0,Le._registerComponent)(new K.wA(ke,ye=>function Gn(ye){return{getToken:he=>rt(ye,he),addTokenListener:he=>function Rt(ye,he,Ee,ft){const{app:_t}=ye,Wt=mt(_t),On={next:Ee,error:ft,type:he};if(We(_t,Object.assign(Object.assign({},Wt),{tokenObservers:[...Wt.tokenObservers,On]})),Wt.token&&Bn(Wt.token)){const dr=Wt.token;Promise.resolve().then(()=>{Ee({token:dr.token}),wn(ye)}).catch(()=>{})}Wt.cachedTokenPromise.then(()=>wn(ye))}(ye,"INTERNAL",he),removeTokenListener:he=>jt(ye.app,he)}}(ye.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Le.registerVersion)("@firebase/app-check","0.5.12")}();class re{constructor(){return(0,C.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Bt,Ge,U)=>{U.d(Ge,{Ot:()=>be,z6:()=>Ae,ZF:()=>He,hX:()=>mt});var C=U(5867),g=U(5e3),me=U(1907);class be{constructor(Ue){return Ue}}class Ae{constructor(){return(0,C.C6)()}}const Ve=new g.OlP("angularfire2._apps"),ze={provide:be,useFactory:function K(qe){return qe&&1===qe.length?qe[0]:new be((0,C.Mq)())},deps:[[new g.FiY,Ve]]},ne={provide:Ae,deps:[[new g.FiY,Ve]]};function le(qe){return(Ue,De)=>{const Mt=Ue.runOutsideAngular(()=>qe(De));return new be(Mt)}}let Se=(()=>{class qe{constructor(De){(0,C.KN)("angularfire",me.q4.full,"core"),(0,C.KN)("angularfire",me.q4.full,"app"),(0,C.KN)("angular",g.q4F.full,De.toString())}}return qe.\u0275fac=function(De){return new(De||qe)(g.LFG(g.Lbi))},qe.\u0275mod=g.oAB({type:qe}),qe.\u0275inj=g.cJS({providers:[ze,ne]}),qe})();function mt(qe,...Ue){return{ngModule:Se,providers:[{provide:Ve,useFactory:le(qe),multi:!0,deps:[g.R0b,g.zs3,me.HU,...Ue]}]}}const He=(0,me.u3)(C.ZF,!0)},2011:(Bt,Ge,U)=>{U.d(Ge,{hO:()=>mt,xv:()=>ze,Dh:()=>Ve,GT:()=>Le,cc:()=>We,on:()=>ne,pX:()=>Ae});var C=U(5e3),g=U(127),me=U(1907);Bt=U.hmd(Bt);const be=["ngOnDestroy"],Ae=(Ze,Tt,bt,qe={})=>new Proxy(Ze,{get:(Ue,De)=>bt.runOutsideAngular(()=>{var Mt;if(Ze[De])return(null===(Mt=null==qe?void 0:qe.spy)||void 0===Mt?void 0:Mt.get)&&qe.spy.get(De,Ze[De]),Ze[De];if(be.indexOf(De)>-1)return()=>{};const ct=Tt.toPromise().then(je=>{const se=je&&je[De];return"function"==typeof se?se.bind(je):se&&se.then?se.then(Me=>bt.run(()=>Me)):bt.run(()=>se)});return new Proxy(()=>{},{get:(je,se)=>ct[se],apply:(je,se,Me)=>ct.then(Fe=>{var tt;const it=Fe&&Fe(...Me);return(null===(tt=null==qe?void 0:qe.spy)||void 0===tt?void 0:tt.apply)&&qe.spy.apply(De,Me,it),it})})})}),Le=(Ze,Tt)=>{Tt.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(qe=>{Object.defineProperty(Ze.prototype,qe,Object.getOwnPropertyDescriptor(bt.prototype||bt,qe))})})};class K{constructor(Tt){return Tt}}const Ve=new C.OlP("angularfire2.app.options"),ze=new C.OlP("angularfire2.app.name");function ne(Ze,Tt,bt){const Ue="object"==typeof bt&&bt||{};Ue.name=Ue.name||"string"==typeof bt&&bt||"[DEFAULT]";const Mt=g.Z.apps.filter(ct=>ct&&ct.name===Ue.name)[0]||Tt.runOutsideAngular(()=>g.Z.initializeApp(Ze,Ue));try{JSON.stringify(Ze)!==JSON.stringify(Mt.options)&&le("error",`${Mt.name} Firebase App already initialized with different options${Bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ct){}return new K(Mt)}const le=(Ze,...Tt)=>{(0,C.X6Q)()&&"undefined"!=typeof console&&console[Ze](...Tt)},Se={provide:K,useFactory:ne,deps:[Ve,C.R0b,[new C.FiY,ze]]};let mt=(()=>{class Ze{constructor(bt){g.Z.registerVersion("angularfire",me.q4.full,"core"),g.Z.registerVersion("angularfire",me.q4.full,"app-compat"),g.Z.registerVersion("angular",C.q4F.full,bt.toString())}static initializeApp(bt,qe){return{ngModule:Ze,providers:[{provide:Ve,useValue:bt},{provide:ze,useValue:qe}]}}}return Ze.\u0275fac=function(bt){return new(bt||Ze)(C.LFG(C.Lbi))},Ze.\u0275mod=C.oAB({type:Ze}),Ze.\u0275inj=C.cJS({providers:[Se]}),Ze})();function We(Ze,Tt,bt,qe,Ue){const[,De,Mt]=globalThis.\u0275AngularfireInstanceCache.find(ct=>ct[0]===Ze)||[];if(De)return function dt(Ze,Tt){try{return Ze.toString()===Tt.toString()}catch(bt){return Ze===Tt}}(Ue,Mt)||(He("error",`${Tt} was already initialized on the ${bt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:Ue,was:Mt})),De;{const ct=qe();return globalThis.\u0275AngularfireInstanceCache.push([Ze,ct,Ue]),ct}}const at=!!Bt.hot,He=(Ze,...Tt)=>{(0,C.X6Q)()&&"undefined"!=typeof console&&console[Ze](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9318:(Bt,Ge,U)=>{U.d(Ge,{gg:()=>Ip,ET:()=>py,hJ:()=>ob,BS:()=>rb,ad:()=>wo,Cm:()=>Tp});var C=U(1907),g=U(5e3),me=U(3692),be=U(5867);U(8937);class Ve{constructor(){return(0,C.vb)("auth")}}var Ne,cn=U(7128),Je=U(5861),Gn=U(9681),ie=U(4859),oe=U(1877),ee=U(2090),ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},de={},Lt=Lt||{},At=ae||self;function Hn(){}function Mn(l){var e=typeof l;return"array"==(e="object"!=e?e:l?Array.isArray(l)?"array":e:"null")||"object"==e&&"number"==typeof l.length}function sr(l){var e=typeof l;return"object"==e&&null!=l||"function"==e}var Fr="closure_uid_"+(1e9*Math.random()>>>0),Pe=0;function _e(l,e,s){return l.call.apply(l.bind,arguments)}function X(l,e,s){if(!l)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),l.apply(e,f)}}return function(){return l.apply(e,arguments)}}function Ce(l,e,s){return(Ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_e:X).apply(null,arguments)}function ot(l,e){var s=Array.prototype.slice.call(arguments,1);return function(){var c=s.slice();return c.push.apply(c,arguments),l.apply(this,c)}}function Ft(l,e){function s(){}s.prototype=e.prototype,l.X=e.prototype,l.prototype=new s,l.prototype.constructor=l,l.Vb=function(c,f,y){for(var w=Array(arguments.length-2),k=2;k<arguments.length;k++)w[k-2]=arguments[k];return e.prototype[f].apply(c,w)}}function dn(){this.s=this.s,this.o=this.o}var Ir={};dn.prototype.s=!1,dn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function Nn(l){return Object.prototype.hasOwnProperty.call(l,Fr)&&l[Fr]||(l[Fr]=++Pe)}(this);delete Ir[l]}},dn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lr=Array.prototype.indexOf?function(l,e){return Array.prototype.indexOf.call(l,e,void 0)}:function(l,e){if("string"==typeof l)return"string"!=typeof e||1!=e.length?-1:l.indexOf(e,0);for(let s=0;s<l.length;s++)if(s in l&&l[s]===e)return s;return-1};function yr(l){const e=l.length;if(0<e){const s=Array(e);for(let c=0;c<e;c++)s[c]=l[c];return s}return[]}function Ie(l,e){for(let s=1;s<arguments.length;s++){const c=arguments[s];if(Mn(c)){const f=l.length||0,y=c.length||0;l.length=f+y;for(let w=0;w<y;w++)l[f+w]=c[w]}else l.push(c)}}function ke(l,e){this.type=l,this.g=this.target=e,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var Pt=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var l=!1,e=Object.defineProperty({},"passive",{get:function(){l=!0}});try{At.addEventListener("test",Hn,e),At.removeEventListener("test",Hn,e)}catch(s){}return l}();function Ht(l){return/^[\s\xa0]*$/.test(l)}var pt=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function re(l,e){return l<e?-1:l>e?1:0}function Re(){var l=At.navigator;return l&&(l=l.userAgent)?l:""}function Xe(l){return-1!=Re().indexOf(l)}function zt(l){return zt[" "](l),l}zt[" "]=Hn;var Hi,l,Dn=Xe("Opera"),$t=Xe("Trident")||Xe("MSIE"),lr=Xe("Edge"),Hr=lr||$t,_n=Xe("Gecko")&&!(-1!=Re().toLowerCase().indexOf("webkit")&&!Xe("Edge"))&&!(Xe("Trident")||Xe("MSIE"))&&!Xe("Edge"),ji=-1!=Re().toLowerCase().indexOf("webkit")&&!Xe("Edge");function ti(){var l=At.document;return l?l.documentMode:void 0}e:{var _i="",$r=(l=Re(),_n?/rv:([^\);]+)(\)|;)/.exec(l):lr?/Edge\/([\d\.]+)/.exec(l):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):ji?/WebKit\/(\S+)/.exec(l):Dn?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if($r&&(_i=$r?$r[1]:""),$t){var ni=ti();if(null!=ni&&ni>parseFloat(_i)){Hi=String(ni);break e}}Hi=_i}var ye={};var _t=At.document&&$t&&(ti()||parseInt(Hi,10))||void 0;function Wt(l,e){if(ke.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var s=this.type=l.type,c=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=e,e=l.relatedTarget){if(_n){e:{try{zt(e.nodeName);var f=!0;break e}catch(y){}f=!1}f||(e=null)}}else"mouseover"==s?e=l.fromElement:"mouseout"==s&&(e=l.toElement);this.relatedTarget=e,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:On[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Wt.X.h.call(this)}}Ft(Wt,ke);var On={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.X.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var dr="closure_listenable_"+(1e6*Math.random()|0),Xn=0;function yn(l,e,s,c,f){this.listener=l,this.proxy=null,this.src=e,this.type=s,this.capture=!!c,this.ha=f,this.key=++Xn,this.ba=this.ea=!1}function gn(l){l.ba=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Vr(l,e,s){for(const c in l)e.call(s,l[c],c,l)}function Ns(l){const e={};for(const s in l)e[s]=l[s];return e}const as="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hr(l,e){let s,c;for(let f=1;f<arguments.length;f++){for(s in c=arguments[f],c)l[s]=c[s];for(let y=0;y<as.length;y++)s=as[y],Object.prototype.hasOwnProperty.call(c,s)&&(l[s]=c[s])}}function wa(l){this.src=l,this.g={},this.h=0}function ls(l,e){var s=e.type;if(s in l.g){var y,c=l.g[s],f=Lr(c,e);(y=0<=f)&&Array.prototype.splice.call(c,f,1),y&&(gn(e),0==l.g[s].length&&(delete l.g[s],l.h--))}}function Ca(l,e,s,c){for(var f=0;f<l.length;++f){var y=l[f];if(!y.ba&&y.listener==e&&y.capture==!!s&&y.ha==c)return f}return-1}wa.prototype.add=function(l,e,s,c,f){var y=l.toString();(l=this.g[y])||(l=this.g[y]=[],this.h++);var w=Ca(l,e,c,f);return-1<w?(e=l[w],s||(e.ea=!1)):((e=new yn(e,this.src,y,!!c,f)).ea=s,l.push(e)),e};var bs="closure_lm_"+(1e6*Math.random()|0),Mi={};function Gs(l,e,s,c,f){if(c&&c.once)return il(l,e,s,c,f);if(Array.isArray(e)){for(var y=0;y<e.length;y++)Gs(l,e[y],s,c,f);return null}return s=Yi(s),l&&l[dr]?l.N(e,s,sr(c)?!!c.capture:!!c,f):us(l,e,s,!1,c,f)}function us(l,e,s,c,f,y){if(!e)throw Error("Invalid event type");var w=sr(f)?!!f.capture:!!f,k=$i(l);if(k||(l[bs]=k=new wa(l)),(s=k.add(e,s,c,w,y)).proxy)return s;if(c=function qo(){const e=hu;return function l(s){return e.call(l.src,l.listener,s)}}(),s.proxy=c,c.src=l,c.listener=s,l.addEventListener)Pt||(f=w),void 0===f&&(f=!1),l.addEventListener(e.toString(),c,f);else if(l.attachEvent)l.attachEvent(Ia(e.toString()),c);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(c)}return s}function il(l,e,s,c,f){if(Array.isArray(e)){for(var y=0;y<e.length;y++)il(l,e[y],s,c,f);return null}return s=Yi(s),l&&l[dr]?l.O(e,s,sr(c)?!!c.capture:!!c,f):us(l,e,s,!0,c,f)}function Co(l,e,s,c,f){if(Array.isArray(e))for(var y=0;y<e.length;y++)Co(l,e[y],s,c,f);else c=sr(c)?!!c.capture:!!c,s=Yi(s),l&&l[dr]?(l=l.i,(e=String(e).toString())in l.g&&-1<(s=Ca(y=l.g[e],s,c,f))&&(gn(y[s]),Array.prototype.splice.call(y,s,1),0==y.length&&(delete l.g[e],l.h--))):l&&(l=$i(l))&&(e=l.g[e.toString()],l=-1,e&&(l=Ca(e,s,c,f)),(s=-1<l?e[l]:null)&&Ko(s))}function Ko(l){if("number"!=typeof l&&l&&!l.ba){var e=l.src;if(e&&e[dr])ls(e.i,l);else{var s=l.type,c=l.proxy;e.removeEventListener?e.removeEventListener(s,c,l.capture):e.detachEvent?e.detachEvent(Ia(s),c):e.addListener&&e.removeListener&&e.removeListener(c),(s=$i(e))?(ls(s,l),0==s.h&&(s.src=null,e[bs]=null)):gn(l)}}}function Ia(l){return l in Mi?Mi[l]:Mi[l]="on"+l}function hu(l,e){if(l.ba)l=!0;else{e=new Wt(e,this);var s=l.listener,c=l.ha||l.src;l.ea&&Ko(l),l=s.call(c,e)}return l}function $i(l){return(l=l[bs])instanceof wa?l:null}var Fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yi(l){return"function"==typeof l?l:(l[Fn]||(l[Fn]=function(e){return l.handleEvent(e)}),l[Fn])}function Br(){dn.call(this),this.i=new wa(this),this.P=this,this.I=null}function Kr(l,e){var s,c=l.I;if(c)for(s=[];c;c=c.I)s.push(c);if(l=l.P,c=e.type||e,"string"==typeof e)e=new ke(e,l);else if(e instanceof ke)e.target=e.target||l;else{var f=e;hr(e=new ke(c,l),f)}if(f=!0,s)for(var y=s.length-1;0<=y;y--){var w=e.g=s[y];f=yi(w,c,!0,e)&&f}if(f=yi(w=e.g=l,c,!0,e)&&f,f=yi(w,c,!1,e)&&f,s)for(y=0;y<s.length;y++)f=yi(w=e.g=s[y],c,!1,e)&&f}function yi(l,e,s,c){if(!(e=l.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,y=0;y<e.length;++y){var w=e[y];if(w&&!w.ba&&w.capture==s){var k=w.listener,V=w.ha||w.src;w.ea&&ls(l.i,w),f=!1!==k.call(V,c)&&f}}return f&&!c.defaultPrevented}Ft(Br,dn),Br.prototype[dr]=!0,Br.prototype.removeEventListener=function(l,e,s,c){Co(this,l,e,s,c)},Br.prototype.M=function(){if(Br.X.M.call(this),this.i){var e,l=this.i;for(e in l.g){for(var s=l.g[e],c=0;c<s.length;c++)gn(s[c]);delete l.g[e],l.h--}}this.I=null},Br.prototype.N=function(l,e,s,c){return this.i.add(String(l),e,!1,s,c)},Br.prototype.O=function(l,e,s,c){return this.i.add(String(l),e,!0,s,c)};var li=At.JSON.stringify;function xi(){var l=Ta;let e=null;return l.g&&(e=l.g,l.g=l.g.next,l.g||(l.h=null),e.next=null),e}var Gi,Zr=new class{constructor(l,e){this.i=l,this.j=e,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new zs,l=>l.reset());class zs{constructor(){this.next=this.g=this.h=null}set(e,s){this.h=e,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function vi(l){At.setTimeout(()=>{throw l},0)}function Oi(l,e){Gi||function Pl(){var l=At.Promise.resolve(void 0);Gi=function(){l.then(Mr)}}(),bi||(Gi(),bi=!0),Ta.add(l,e)}var bi=!1,Ta=new class Es{constructor(){this.h=this.g=null}add(e,s){const c=Zr.get();c.set(e,s),this.h?this.h.next=c:this.g=c,this.h=c}};function Mr(){for(var l;l=xi();){try{l.h.call(l.g)}catch(s){vi(s)}var e=Zr;e.j(l),100>e.h&&(e.h++,l.next=e.g,e.g=l)}bi=!1}function Qi(l,e){Br.call(this),this.h=l||1,this.g=e||At,this.j=Ce(this.kb,this),this.l=Date.now()}function cs(l){l.ca=!1,l.R&&(l.g.clearTimeout(l.R),l.R=null)}function Zo(l,e,s){if("function"==typeof l)s&&(l=Ce(l,s));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Ce(l.handleEvent,l)}return 2147483647<Number(e)?-1:At.setTimeout(l,e||0)}function Ri(l){l.g=Zo(()=>{l.g=null,l.i&&(l.i=!1,Ri(l))},l.j);const e=l.h;l.h=null,l.m.apply(null,e)}Ft(Qi,Br),(Ne=Qi.prototype).ca=!1,Ne.R=null,Ne.kb=function(){if(this.ca){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-l):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kr(this,"tick"),this.ca&&(cs(this),this.start()))}},Ne.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ne.M=function(){Qi.X.M.call(this),cs(this),delete this.g};class Io extends dn{constructor(e,s){super(),this.m=e,this.j=s,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ri(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(l){dn.call(this),this.h=l,this.g={}}Ft(Kn,dn);var vr=[];function ws(l,e,s,c){Array.isArray(s)||(s&&(vr[0]=s.toString()),s=vr);for(var f=0;f<s.length;f++){var y=Gs(e,s[f],c||l.handleEvent,!1,l.h||l);if(!y)break;l.g[y.key]=y}}function To(l){Vr(l.g,function(e,s){this.g.hasOwnProperty(s)&&Ko(e)},l),l.g={}}function Tr(){this.g=!0}function S(l,e,s,c){l.info(function(){return"XMLHTTP TEXT ("+e+"): "+function H(l,e){if(!l.g)return e;if(!e)return null;try{var s=JSON.parse(e);if(s)for(l=0;l<s.length;l++)if(Array.isArray(s[l])){var c=s[l];if(!(2>c.length)){var f=c[1];if(Array.isArray(f)&&!(1>f.length)){var y=f[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var w=1;w<f.length;w++)f[w]=""}}}return li(s)}catch(k){return e}}(l,s)+(c?" "+c:"")})}Kn.prototype.M=function(){Kn.X.M.call(this),To(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tr.prototype.Aa=function(){this.g=!1},Tr.prototype.info=function(){};var J={},ce=null;function Te(){return ce=ce||new Br}function xt(l){ke.call(this,J.Oa,l)}function Yt(l){const e=Te();Kr(e,new xt(e,l))}function on(l,e){ke.call(this,J.STAT_EVENT,l),this.stat=e}function Ut(l){const e=Te();Kr(e,new on(e,l))}function vn(l,e){ke.call(this,J.Pa,l),this.size=e}function bn(l,e){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){l()},e)}J.Oa="serverreachability",Ft(xt,ke),J.STAT_EVENT="statevent",Ft(on,ke),J.Pa="timingevent",Ft(vn,ke);var Gt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Gr={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dr(){}function ki(){}Dr.prototype.h=null;var Et,Ci={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Ii(){ke.call(this,"d")}function Ni(){ke.call(this,"c")}function Un(){}function zi(l,e,s,c){this.l=l,this.j=e,this.m=s,this.U=c||1,this.S=new Kn(this),this.O=sl,this.T=new Qi(l=Hr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Wr}function Wr(){this.i=null,this.g="",this.h=!1}Ft(Ii,ke),Ft(Ni,ke),Ft(Un,Dr),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},Et=new Un;var sl=45e3,lo={},Ti={};function ol(l,e,s){l.K=1,l.v=ho(co(e)),l.s=s,l.P=!0,Ps(l,null)}function Ps(l,e){l.F=Date.now(),Cs(l),l.A=co(l.v);var s=l.A,c=l.U;Array.isArray(c)||(c=[String(c)]),ea(s.i,"t",c),l.C=0,s=l.l.H,l.h=new Wr,l.g=ps(l.l,s?e:null,!l.s),0<l.N&&(l.L=new Io(Ce(l.Ka,l,l.g),l.N)),ws(l.S,l.g,"readystatechange",l.hb),e=l.H?Ns(l.H):{},l.s?(l.u||(l.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",l.g.da(l.A,l.u,l.s,e)):(l.u="GET",l.g.da(l.A,l.u,null,e)),Yt(1),function L(l,e,s,c,f,y){l.info(function(){if(l.g)if(y)for(var w="",k=y.split("&"),V=0;V<k.length;V++){var G=k[V].split("=");if(1<G.length){var Y=G[0];G=G[1];var fe=Y.split("_");w=2<=fe.length&&"type"==fe[1]?w+(Y+"=")+G+"&":w+(Y+"=redacted&")}}else w=null;else w=y;return"XMLHTTP REQ ("+c+") [attempt "+f+"]: "+e+"\n"+s+"\n"+w})}(l.j,l.u,l.A,l.m,l.U,l.s)}function Rc(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Da}function al(l,e,s){let f,c=!0;for(;!l.I&&l.C<s.length;){if(f=Ws(l,s),f==Ti){4==e&&(l.o=4,Ut(14),c=!1),S(l.j,l.m,null,"[Incomplete Response]");break}if(f==lo){l.o=4,Ut(15),S(l.j,l.m,s,"[Invalid Chunk]"),c=!1;break}S(l.j,l.m,f,null),hs(l,f)}Rc(l)&&f!=Ti&&f!=lo&&(l.h.g="",l.C=0),4!=e||0!=s.length||l.h.h||(l.o=1,Ut(16),c=!1),l.i=l.i&&c,c?0<s.length&&!l.$&&(l.$=!0,(e=l.l).g==l&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),Jt(e),e.K=!0,Ut(11))):(S(l.j,l.m,s,"[Invalid Chunked Response]"),ds(l),uo(l))}function Ws(l,e){var s=l.C,c=e.indexOf("\n",s);return-1==c?Ti:(s=Number(e.substring(s,c)),isNaN(s)?lo:(c+=1)+s>e.length?Ti:(e=e.substr(c,s),l.C=c+s,e))}function Cs(l){l.V=Date.now()+l.O,Di(l,l.O)}function Di(l,e){if(null!=l.B)throw Error("WatchDog timer not null");l.B=bn(Ce(l.fb,l),e)}function Xi(l){l.B&&(At.clearTimeout(l.B),l.B=null)}function uo(l){0==l.l.G||l.I||rr(l.l,l)}function ds(l){Xi(l);var e=l.L;e&&"function"==typeof e.na&&e.na(),l.L=null,cs(l.T),To(l.S),l.g&&(e=l.g,l.g=null,e.abort(),e.na())}function hs(l,e){try{var s=l.l;if(0!=s.G&&(s.g==l||Ma(s.h,l)))if(!l.J&&Ma(s.h,l)&&3==s.G){try{var c=s.Fa.g.parse(e)}catch(G){c=null}if(Array.isArray(c)&&3==c.length){var f=c;if(0==f[0])e:if(s.u)s.Ba=f[1],0<s.Ba-s.T&&37500>f[2]&&s.L&&0==s.A&&!s.v&&(s.v=bn(Ce(s.bb,s),6e3));else{if(s.g){if(!(s.g.F+3e3<l.F))break e;hn(s),N(s)}st(s),Ut(18)}if(1>=ts(s.h)&&s.ja){try{s.ja()}catch(G){}s.ja=void 0}}else fr(s,11)}else if((l.J||s.g==l)&&hn(s),!Ht(e))for(f=s.Fa.g.parse(e),e=0;e<f.length;e++){let G=f[e];if(s.T=G[0],G=G[1],2==s.G)if("c"==G[0]){s.I=G[1],s.ka=G[2];const Y=G[3];null!=Y&&(s.ma=Y,s.j.info("VER="+s.ma));const fe=G[4];null!=fe&&(s.Ca=fe,s.j.info("SVER="+s.Ca));const Ye=G[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(s.J=c=1.5*Ye,s.j.info("backChannelRequestTimeoutMs_="+c)),c=s;const gt=l.g;if(gt){const vt=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vt){var y=c.h;y.g||-1==vt.indexOf("spdy")&&-1==vt.indexOf("quic")&&-1==vt.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(Ur(y,y.h),y.h=null))}if(c.D){const tn=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;tn&&(c.za=tn,xr(c.F,c.D,tn))}}s.G=3,s.l&&s.l.xa(),s.$&&(s.P=Date.now()-l.F,s.j.info("Handshake RTT: "+s.P+"ms"));var w=l;if((c=s).sa=Li(c,c.H?c.ka:null,c.V),w.J){xa(c.h,w);var k=w,V=c.J;V&&k.setTimeout(V),k.B&&(Xi(k),Cs(k)),c.g=w}else pe(c);0<s.i.length&&D(s)}else"stop"!=G[0]&&"close"!=G[0]||fr(s,7);else 3==s.G&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?fr(s,7):Bl(s):"noop"!=G[0]&&s.l&&s.l.wa(G),s.A=0)}Yt(4)}catch(G){}}function ll(l,e){if(l.forEach&&"function"==typeof l.forEach)l.forEach(e,void 0);else if(Mn(l)||"string"==typeof l)Array.prototype.forEach.call(l,e,void 0);else for(var s=function fu(l){if(l.oa&&"function"==typeof l.oa)return l.oa();if(!l.W||"function"!=typeof l.W){if("undefined"!=typeof Map&&l instanceof Map)return Array.from(l.keys());if(!("undefined"!=typeof Set&&l instanceof Set)){if(Mn(l)||"string"==typeof l){var e=[];l=l.length;for(var s=0;s<l;s++)e.push(s);return e}e=[],s=0;for(const c in l)e[s++]=c;return e}}}(l),c=function Yo(l){if(l.W&&"function"==typeof l.W)return l.W();if("undefined"!=typeof Map&&l instanceof Map||"undefined"!=typeof Set&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(Mn(l)){for(var e=[],s=l.length,c=0;c<s;c++)e.push(l[c]);return e}for(c in e=[],s=0,l)e[s++]=l[c];return e}(l),f=c.length,y=0;y<f;y++)e.call(void 0,c[y],s&&s[y],l)}(Ne=zi.prototype).setTimeout=function(l){this.O=l},Ne.hb=function(l){l=l.target;const e=this.L;e&&3==fs(l)?e.l():this.Ka(l)},Ne.Ka=function(l){try{if(l==this.g)e:{const Y=fs(this.g);var e=this.g.Ea();const fe=this.g.aa();if(!(3>Y)&&(3!=Y||Hr||this.g&&(this.h.h||this.g.fa()||go(this.g)))){this.I||4!=Y||7==e||Yt(8==e||0>=fe?3:2),Xi(this);var s=this.g.aa();this.Y=s;t:if(Rc(this)){var c=go(this.g);l="";var f=c.length,y=4==fs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ds(this),uo(this);var w="";break t}this.h.i=new At.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,l+=this.h.i.decode(c[e],{stream:y&&e==f-1});c.splice(0,f),this.h.g+=l,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==s,function W(l,e,s,c,f,y,w){l.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+f+"]: "+e+"\n"+s+"\n"+y+" "+w})}(this.j,this.u,this.A,this.m,this.U,Y,s),this.i){if(this.Z&&!this.J){t:{if(this.g){var k,V=this.g;if((k=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ht(k)){var G=k;break t}}G=null}if(!(s=G)){this.i=!1,this.o=3,Ut(12),ds(this),uo(this);break e}S(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hs(this,s)}this.P?(al(this,Y,w),Hr&&this.i&&3==Y&&(ws(this.S,this.T,"tick",this.gb),this.T.start())):(S(this.j,this.m,w,null),hs(this,w)),4==Y&&ds(this),this.i&&!this.I&&(4==Y?rr(this.l,this):(this.i=!1,Cs(this)))}else 400==s&&0<w.indexOf("Unknown SID")?(this.o=3,Ut(12)):(this.o=0,Ut(13)),ds(this),uo(this)}}}catch(Y){}},Ne.gb=function(){if(this.g){var l=fs(this.g),e=this.g.fa();this.C<e.length&&(Xi(this),al(this,l,e),this.i&&4!=l&&Cs(this))}},Ne.cancel=function(){this.I=!0,ds(this)},Ne.fb=function(){this.B=null;const l=Date.now();0<=l-this.V?(function R(l,e){l.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yt(3),Ut(17)),ds(this),this.o=2,uo(this)):Di(this,this.V-l)};var ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Is(l,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,l instanceof Is){this.h=void 0!==e?e:l.h,Qo(this,l.j),this.s=l.s,this.g=l.g,pu(this,l.m),this.l=l.l,e=l.i;var s=new ur;s.i=e.i,e.g&&(s.g=new Map(e.g),s.h=e.h),Pi(this,s),this.o=l.o}else l&&(s=String(l).match(ul))?(this.h=!!e,Qo(this,s[1]||"",!0),this.s=fo(s[2]||""),this.g=fo(s[3]||"",!0),pu(this,s[4]),this.l=fo(s[5]||"",!0),Pi(this,s[6]||"",!0),this.o=fo(s[7]||"")):(this.h=!!e,this.i=new ur(null,this.h))}function co(l){return new Is(l)}function Qo(l,e,s){l.j=s?fo(e,!0):e,l.j&&(l.j=l.j.replace(/:$/,""))}function pu(l,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);l.m=e}else l.m=null}function Pi(l,e,s){e instanceof ur?(l.i=e,function mu(l,e){e&&!l.j&&(Xo(l),l.i=null,l.g.forEach(function(s,c){var f=c.toLowerCase();c!=f&&(kc(this,c),ea(this,f,s))},l)),l.j=e}(l.i,l.h)):(s||(e=Fs(e,es)),l.i=new ur(e,l.h))}function xr(l,e,s){l.i.set(e,s)}function ho(l){return xr(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function fo(l,e){return l?e?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fs(l,e,s){return"string"==typeof l?(l=encodeURI(l).replace(e,Da),s&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Da(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Is.prototype.toString=function(){var l=[],e=this.j;e&&l.push(Fs(e,Ts,!0),":");var s=this.g;return(s||"file"==e)&&(l.push("//"),(e=this.s)&&l.push(Fs(e,Ts,!0),"@"),l.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(s=this.m)&&l.push(":",String(s))),(s=this.l)&&(this.g&&"/"!=s.charAt(0)&&l.push("/"),l.push(Fs(s,"/"==s.charAt(0)?po:cl,!0))),(s=this.i.toString())&&l.push("?",s),(s=this.o)&&l.push("#",Fs(s,Jo)),l.join("")};var Ts=/[#\/\?@]/g,cl=/[#\?:]/g,po=/[#\?]/g,es=/[#\?@]/g,Jo=/#/g;function ur(l,e){this.h=this.g=null,this.i=l||null,this.j=!!e}function Xo(l){l.g||(l.g=new Map,l.h=0,l.i&&function Fl(l,e){if(l){l=l.split("&");for(var s=0;s<l.length;s++){var c=l[s].indexOf("="),f=null;if(0<=c){var y=l[s].substring(0,c);f=l[s].substring(c+1)}else y=l[s];e(y,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(l.i,function(e,s){l.add(decodeURIComponent(e.replace(/\+/g," ")),s)}))}function kc(l,e){Xo(l),e=mo(l,e),l.g.has(e)&&(l.i=null,l.h-=l.g.get(e).length,l.g.delete(e))}function Aa(l,e){return Xo(l),e=mo(l,e),l.g.has(e)}function ea(l,e,s){kc(l,e),0<s.length&&(l.i=null,l.g.set(mo(l,e),yr(s)),l.h+=s.length)}function mo(l,e){return e=String(e),l.j&&(e=e.toLowerCase()),e}function Sa(l){this.l=l||dl,l=At.PerformanceNavigationTiming?0<(l=At.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(At.g&&At.g.Ga&&At.g.Ga()&&At.g.Ga().Zb),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ne=ur.prototype).add=function(l,e){Xo(this),this.i=null,l=mo(this,l);var s=this.g.get(l);return s||this.g.set(l,s=[]),s.push(e),this.h+=1,this},Ne.forEach=function(l,e){Xo(this),this.g.forEach(function(s,c){s.forEach(function(f){l.call(e,f,c,this)},this)},this)},Ne.oa=function(){Xo(this);const l=Array.from(this.g.values()),e=Array.from(this.g.keys()),s=[];for(let c=0;c<e.length;c++){const f=l[c];for(let y=0;y<f.length;y++)s.push(e[c])}return s},Ne.W=function(l){Xo(this);let e=[];if("string"==typeof l)Aa(this,l)&&(e=e.concat(this.g.get(mo(this,l))));else{l=Array.from(this.g.values());for(let s=0;s<l.length;s++)e=e.concat(l[s])}return e},Ne.set=function(l,e){return Xo(this),this.i=null,Aa(this,l=mo(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[e]),this.h+=1,this},Ne.get=function(l,e){return l&&0<(l=this.W(l)).length?String(l[0]):e},Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],e=Array.from(this.g.keys());for(var s=0;s<e.length;s++){var c=e[s];const y=encodeURIComponent(String(c)),w=this.W(c);for(c=0;c<w.length;c++){var f=y;""!==w[c]&&(f+="="+encodeURIComponent(String(w[c]))),l.push(f)}}return this.i=l.join("&")};var dl=10;function br(l){return!!l.h||!!l.g&&l.g.size>=l.j}function ts(l){return l.h?1:l.g?l.g.size:0}function Ma(l,e){return l.h?l.h==e:!!l.g&&l.g.has(e)}function Ur(l,e){l.g?l.g.add(e):l.h=e}function xa(l,e){l.h&&l.h==e?l.h=null:l.g&&l.g.has(e)&&l.g.delete(e)}function Do(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let e=l.i;for(const s of l.g.values())e=e.concat(s.D);return e}return yr(l.i)}function Vs(){}function Ao(){this.g=new Vs}function Wi(l,e,s){const c=s||"";try{ll(l,function(f,y){let w=f;sr(f)&&(w=li(f)),e.push(c+y+"="+encodeURIComponent(w))})}catch(f){throw e.push(c+"type="+encodeURIComponent("_badmap")),f}}function So(l,e,s,c,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(c)}catch(y){}}function qs(l){this.l=l.$b||null,this.j=l.ib||!1}function Oa(l,e){Br.call(this),this.D=l,this.u=e,this.m=void 0,this.readyState=Ra,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sa.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},Vs.prototype.stringify=function(l){return At.JSON.stringify(l,void 0)},Vs.prototype.parse=function(l){return At.JSON.parse(l,void 0)},Ft(qs,Dr),qs.prototype.g=function(){return new Oa(this.l,this.j)},qs.prototype.i=function(l){return function(){return l}}({}),Ft(Oa,Br);var Ra=0;function gu(l){l.j.read().then(l.Sa.bind(l)).catch(l.ga.bind(l))}function Mo(l){l.readyState=4,l.l=null,l.j=null,l.A=null,ka(l)}function ka(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(Ne=Oa.prototype).open=function(l,e){if(this.readyState!=Ra)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=e,this.readyState=1,ka(this)},Ne.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(e.body=l),(this.D||At).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mo(this)),this.readyState=Ra},Ne.Va=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==At.ReadableStream&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gu(this)}else l.text().then(this.Ua.bind(this),this.ga.bind(this))},Ne.Sa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var e=l.value?l.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!l.done}))&&(this.response=this.responseText+=e)}l.done?Mo(this):ka(this),3==this.readyState&&gu(this)}},Ne.Ua=function(l){this.g&&(this.response=this.responseText=l,Mo(this))},Ne.Ta=function(l){this.g&&(this.response=l,Mo(this))},Ne.ga=function(){this.g&&Mo(this)},Ne.setRequestHeader=function(l,e){this.v.append(l,e)},Ne.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},Ne.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],e=this.h.entries();for(var s=e.next();!s.done;)l.push((s=s.value)[0]+": "+s[1]),s=e.next();return l.join("\r\n")},Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var ta=At.JSON.parse;function ui(l){Br.call(this),this.headers=new Map,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hl,this.K=this.L=!1}Ft(ui,Br);var hl="",kd=/^https?$/i,fl=["POST","PUT"];function _u(l,e){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=e,l.m=5,Nd(l),Na(l)}function Nd(l){l.D||(l.D=!0,Kr(l,"complete"),Kr(l,"error"))}function Ku(l){if(l.h&&void 0!==Lt&&(!l.C[1]||4!=fs(l)||2!=l.aa()))if(l.v&&4==fs(l))Zo(l.Ha,0,l);else if(Kr(l,"readystatechange"),4==fs(l)){l.h=!1;try{const k=l.aa();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var s;if(!(s=e)){var c;if(c=0===k){var f=String(l.H).match(ul)[1]||null;if(!f&&At.self&&At.self.location){var y=At.self.location.protocol;f=y.substr(0,y.length-1)}c=!kd.test(f?f.toLowerCase():"")}s=c}if(s)Kr(l,"complete"),Kr(l,"success");else{l.m=6;try{var w=2<fs(l)?l.g.statusText:""}catch(V){w=""}l.j=w+" ["+l.aa()+"]",Nd(l)}}finally{Na(l)}}}function Na(l,e){if(l.g){na(l);const s=l.g,c=l.C[0]?Hn:null;l.g=null,l.C=null,e||Kr(l,"ready");try{s.onreadystatechange=c}catch(f){}}}function na(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&(At.clearTimeout(l.A),l.A=null)}function fs(l){return l.g?l.g.readyState:0}function go(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case hl:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vl(l){let e="";return Vr(l,function(s,c){e+=c,e+=":",e+=s,e+="\r\n"}),e}function ra(l,e,s){e:{for(c in s){var c=!1;break e}c=!0}c||(s=Vl(s),"string"==typeof l?null!=s&&encodeURIComponent(String(s)):xr(l,e,s))}function xo(l,e,s){return s&&s.internalChannelParams&&s.internalChannelParams[l]||e}function Oo(l){this.Ca=0,this.i=[],this.j=new Tr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=xo("failFast",!1,l),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=xo("baseRetryDelayMs",5e3,l),this.ab=xo("retryDelaySeedMs",1e4,l),this.Za=xo("forwardChannelMaxRetries",2,l),this.ta=xo("forwardChannelRequestTimeoutMs",2e4,l),this.ra=l&&l.xmlHttpFactory||void 0,this.Da=l&&l.Yb||!1,this.J=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.I="",this.h=new Sa(l&&l.concurrentRequestLimit),this.Fa=new Ao,this.O=l&&l.fastHandshake||!1,this.N=l&&l.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=l&&l.Wb||!1,l&&l.Aa&&this.j.Aa(),l&&l.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&l&&l.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Bl(l){if(x(l),3==l.G){var e=l.U++,s=co(l.F);xr(s,"SID",l.I),xr(s,"RID",e),xr(s,"TYPE","terminate"),q(l,s),(e=new zi(l,l.j,e,void 0)).K=2,e.v=ho(co(s)),s=!1,At.navigator&&At.navigator.sendBeacon&&(s=At.navigator.sendBeacon(e.v.toString(),"")),!s&&At.Image&&((new Image).src=e.v,s=!0),s||(e.g=ps(e.l,null),e.g.da(e.v)),e.F=Date.now(),Cs(e)}Fi(l)}function N(l){l.g&&(Jt(l),l.g.cancel(),l.g=null)}function x(l){N(l),l.u&&(At.clearTimeout(l.u),l.u=null),hn(l),l.h.cancel(),l.m&&("number"==typeof l.m&&At.clearTimeout(l.m),l.m=null)}function D(l){br(l.h)||l.m||(l.m=!0,Oi(l.Ja,l),l.C=0)}function B(l,e){var s;s=e?e.m:l.U++;const c=co(l.F);xr(c,"SID",l.I),xr(c,"RID",s),xr(c,"AID",l.T),q(l,c),l.o&&l.s&&ra(c,l.o,l.s),s=new zi(l,l.j,s,l.C+1),null===l.o&&(s.H=l.s),e&&(l.i=e.D.concat(l.i)),e=te(l,s,1e3),s.setTimeout(Math.round(.5*l.ta)+Math.round(.5*l.ta*Math.random())),Ur(l.h,s),ol(s,c,e)}function q(l,e){l.ia&&Vr(l.ia,function(s,c){xr(e,c,s)}),l.l&&ll({},function(s,c){xr(e,c,s)})}function te(l,e,s){s=Math.min(l.i.length,s);var c=l.l?Ce(l.l.Qa,l.l,l):null;e:{var f=l.i;let y=-1;for(;;){const w=["count="+s];-1==y?0<s?(y=f[0].h,w.push("ofs="+y)):y=0:w.push("ofs="+y);let k=!0;for(let V=0;V<s;V++){let G=f[V].h;const Y=f[V].g;if(G-=y,0>G)y=Math.max(0,f[V].h-100),k=!1;else try{Wi(Y,w,"req"+G+"_")}catch(fe){c&&c(Y)}}if(k){c=w.join("&");break e}}}return l=l.i.splice(0,s),e.D=l,c}function pe(l){l.g||l.u||(l.Z=1,Oi(l.Ia,l),l.A=0)}function st(l){return!(l.g||l.u||3<=l.A||(l.Z++,l.u=bn(Ce(l.Ia,l),mr(l,l.A)),l.A++,0))}function Jt(l){null!=l.B&&(At.clearTimeout(l.B),l.B=null)}function $n(l){l.g=new zi(l,l.j,"rpc",l.Z),null===l.o&&(l.g.H=l.s),l.g.N=0;var e=co(l.sa);xr(e,"RID","rpc"),xr(e,"SID",l.I),xr(e,"CI",l.L?"0":"1"),xr(e,"AID",l.T),xr(e,"TYPE","xmlhttp"),q(l,e),l.o&&l.s&&ra(e,l.o,l.s),l.J&&l.g.setTimeout(l.J);var s=l.g;l=l.ka,s.K=1,s.v=ho(co(e)),s.s=null,s.P=!0,Ps(s,l)}function hn(l){null!=l.v&&(At.clearTimeout(l.v),l.v=null)}function rr(l,e){var s=null;if(l.g==e){hn(l),Jt(l),l.g=null;var c=2}else{if(!Ma(l.h,e))return;s=e.D,xa(l.h,e),c=1}if(0!=l.G)if(l.pa=e.Y,e.i)if(1==c){s=e.s?e.s.length:0,e=Date.now()-e.F;var f=l.C;Kr(c=Te(),new vn(c,s,e,f)),D(l)}else pe(l);else if(3==(f=e.o)||0==f&&0<l.pa||!(1==c&&function P(l,e){return!(ts(l.h)>=l.h.j-(l.m?1:0)||(l.m?(l.i=e.D.concat(l.i),0):1==l.G||2==l.G||l.C>=(l.Ya?0:l.Za)||(l.m=bn(Ce(l.Ja,l,e),mr(l,l.C)),l.C++,0)))}(l,e)||2==c&&st(l)))switch(s&&0<s.length&&(e=l.h,e.i=e.i.concat(s)),f){case 1:fr(l,5);break;case 4:fr(l,10);break;case 3:fr(l,6);break;default:fr(l,2)}}function mr(l,e){let s=l.Wa+Math.floor(Math.random()*l.ab);return l.l||(s*=2),s*e}function fr(l,e){if(l.j.info("Error code "+e),2==e){var s=null;l.l&&(s=null);var c=Ce(l.jb,l);s||(s=new Is("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||Qo(s,"https"),ho(s)),function Ll(l,e){const s=new Tr;if(At.Image){const c=new Image;c.onload=ot(So,s,c,"TestLoadImage: loaded",!0,e),c.onerror=ot(So,s,c,"TestLoadImage: error",!1,e),c.onabort=ot(So,s,c,"TestLoadImage: abort",!1,e),c.ontimeout=ot(So,s,c,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=l}else e(!1)}(s.toString(),c)}else Ut(2);l.G=0,l.l&&l.l.va(e),Fi(l),x(l)}function Fi(l){if(l.G=0,l.la=[],l.l){const e=Do(l.h);(0!=e.length||0!=l.i.length)&&(Ie(l.la,e),Ie(l.la,l.i),l.h.i.length=0,yr(l.i),l.i.length=0),l.l.ua()}}function Li(l,e,s){var c=s instanceof Is?co(s):new Is(s,void 0);if(""!=c.g)e&&(c.g=e+"."+c.g),pu(c,c.m);else{var f=At.location;c=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var y=new Is(null,void 0);c&&Qo(y,c),e&&(y.g=e),f&&pu(y,f),s&&(y.l=s),c=y}return e=l.za,(s=l.D)&&e&&xr(c,s,e),xr(c,"VER",l.ma),q(l,c),c}function ps(l,e,s){if(e&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ui(s&&l.Da&&!l.ra?new qs({ib:!0}):l.ra)).L=l.H,e}function ia(){}function ms(){if($t&&!(10<=Number(_t)))throw Error("Environmental error: no available transport.")}function ri(l,e){Br.call(this),this.g=new Oo(e),this.l=l,this.h=e&&e.messageUrlParams||null,l=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(l?l["X-WebChannel-Content-Type"]=e.messageContentType:l={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(l?l["X-WebChannel-Client-Profile"]=e.ya:l={"X-WebChannel-Client-Profile":e.ya}),this.g.S=l,(l=e&&e.Xb)&&!Ht(l)&&(this.g.o=l),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ht(e)&&(this.g.D=e,null!==(l=this.h)&&e in l&&e in(l=this.h)&&delete l[e]),this.j=new Ar(this)}function Pc(l){Ii.call(this);var e=l.__sm__;if(e){e:{for(const s in e){l=s;break e}l=void 0}(this.i=l)&&(l=this.i,e=null!==e&&l in e?e[l]:void 0),this.data=e}else this.data=l}function af(){Ni.call(this),this.status=1}function Ar(l){this.g=l}(Ne=ui.prototype).da=function(l,e,s,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);e=e?e.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Et.g(),this.C=function Ji(l){return l.h||(l.h=l.i())}(this.u?this.u:Et),this.g.onreadystatechange=Ce(this.Ha,this);try{this.F=!0,this.g.open(e,String(l),!0),this.F=!1}catch(y){return void _u(this,y)}if(l=s||"",s=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var f in c)s.set(f,c[f]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const y of c.keys())s.set(y,c.get(y))}c=Array.from(s.keys()).find(y=>"content-type"==y.toLowerCase()),f=At.FormData&&l instanceof At.FormData,!(0<=Lr(fl,e))||c||f||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,w]of s)this.g.setRequestHeader(y,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{na(this),0<this.B&&((this.K=function Nc(l){return $t&&function he(){return function Pn(l){var e=ye;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=l(9)}(function(){let l=0;const e=pt(String(Hi)).split("."),s=pt("9").split("."),c=Math.max(e.length,s.length);for(let w=0;0==l&&w<c;w++){var f=e[w]||"",y=s[w]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;l=re(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||re(0==f[2].length,0==y[2].length)||re(f[2],y[2]),f=f[3],y=y[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.qa,this)):this.A=Zo(this.qa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(y){_u(this,y)}},Ne.qa=function(){void 0!==Lt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},Ne.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,Kr(this,"complete"),Kr(this,"abort"),Na(this))},Ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Na(this,!0)),ui.X.M.call(this)},Ne.Ha=function(){this.s||(this.F||this.v||this.l?Ku(this):this.eb())},Ne.eb=function(){Ku(this)},Ne.aa=function(){try{return 2<fs(this)?this.g.status:-1}catch(l){return-1}},Ne.fa=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},Ne.Ra=function(l){if(this.g){var e=this.g.responseText;return l&&0==e.indexOf(l)&&(e=e.substring(l.length)),ta(e)}},Ne.Ea=function(){return this.m},Ne.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ne=Oo.prototype).ma=8,Ne.G=1,Ne.Ja=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const f=new zi(this,this.j,l,void 0);let y=this.s;if(this.S&&(y?(y=Ns(y),hr(y,this.S)):y=this.S),null!==this.o||this.N||(f.H=y,y=null),this.O)e:{for(var e=0,s=0;s<this.i.length;s++){var c=this.i[s];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(e+=c)){e=s;break e}if(4096===e||s===this.i.length-1){e=s+1;break e}}e=1e3}else e=1e3;e=te(this,f,e),xr(s=co(this.F),"RID",l),xr(s,"CVER",22),this.D&&xr(s,"X-HTTP-Session-Id",this.D),q(this,s),y&&(this.N?e="headers="+encodeURIComponent(String(Vl(y)))+"&"+e:this.o&&ra(s,this.o,y)),Ur(this.h,f),this.Xa&&xr(s,"TYPE","init"),this.O?(xr(s,"$req",e),xr(s,"SID","null"),f.Z=!0,ol(f,s,null)):ol(f,s,e),this.G=2}}else 3==this.G&&(l?B(this,l):0==this.i.length||br(this.h)||B(this))},Ne.Ia=function(){if(this.u=null,$n(this),this.$&&!(this.K||null==this.g||0>=this.P)){var l=2*this.P;this.j.info("BP detection timer enabled: "+l),this.B=bn(Ce(this.cb,this),l)}},Ne.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ut(10),N(this),$n(this))},Ne.bb=function(){null!=this.v&&(this.v=null,N(this),st(this),Ut(19))},Ne.jb=function(l){l?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))},(Ne=ia.prototype).xa=function(){},Ne.wa=function(){},Ne.va=function(){},Ne.ua=function(){},Ne.Qa=function(){},ms.prototype.g=function(l,e){return new ri(l,e)},Ft(ri,Br),ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var l=this.g,e=this.l,s=this.h||void 0;Ut(0),l.V=e,l.ia=s||{},l.L=l.Y,l.F=Li(l,null,l.V),D(l)},ri.prototype.close=function(){Bl(this.g)},ri.prototype.u=function(l){var e=this.g;if("string"==typeof l){var s={};s.__data__=l,l=s}else this.v&&((s={}).__data__=li(l),l=s);e.i.push(new class{constructor(l,e){this.h=l,this.g=e}}(e.$a++,l)),3==e.G&&D(e)},ri.prototype.M=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,ri.X.M.call(this)},Ft(Pc,Ii),Ft(af,Ni),Ft(Ar,ia),Ar.prototype.xa=function(){Kr(this.g,"a")},Ar.prototype.wa=function(l){Kr(this.g,new Pc(l))},Ar.prototype.va=function(l){Kr(this.g,new af(l))},Ar.prototype.ua=function(){Kr(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,ri.prototype.send=ri.prototype.u,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,Gr.COMPLETE="complete",ki.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",Br.prototype.listen=Br.prototype.N,ui.prototype.listenOnce=ui.prototype.O,ui.prototype.getLastError=ui.prototype.Na,ui.prototype.getLastErrorCode=ui.prototype.Ea,ui.prototype.getStatus=ui.prototype.aa,ui.prototype.getResponseJson=ui.prototype.Ra,ui.prototype.getResponseText=ui.prototype.fa,ui.prototype.send=ui.prototype.da;var lf=de.createWebChannelTransport=function(){return new ms},Zu=de.getStatEventTarget=function(){return Te()},yu=de.ErrorCode=Gt,Dg=de.EventType=Gr,Pd=de.Event=J,Yu=de.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fd=de.FetchXmlHttpFactory=qs,pl=de.WebChannel=ki,uf=de.XhrIo=ui;const Ei="@firebase/firestore";class hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let Ro="9.10.0";const vu=new oe.Yd("@firebase/firestore");function Fc(){return vu.logLevel}function Dt(l,...e){if(vu.logLevel<=oe.in.DEBUG){const s=e.map(Bs);vu.debug(`Firestore (${Ro}): ${l}`,...s)}}function ci(l,...e){if(vu.logLevel<=oe.in.ERROR){const s=e.map(Bs);vu.error(`Firestore (${Ro}): ${l}`,...s)}}function yo(l,...e){if(vu.logLevel<=oe.in.WARN){const s=e.map(Bs);vu.warn(`Firestore (${Ro}): ${l}`,...s)}}function Bs(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(s){return l}}function fn(l="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+l;throw ci(e),new Error(e)}function xn(l,e){l||fn()}function an(l,e){return l}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends ee.ZR{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}class Lc{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ds{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(hi.UNAUTHENTICATED))}shutdown(){}}class cf{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){var c=this;let f=this.i;const y=G=>this.i!==f?(f=this.i,s(G)):Promise.resolve();let w=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new Er,e.enqueueRetryable(()=>y(this.currentUser))};const k=()=>{const G=w;e.enqueueRetryable((0,Je.Z)(function*(){yield G.promise,yield y(c.currentUser)}))},V=G=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(G=>V(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?V(G):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new Er)}},0),k()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(c=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(xn("string"==typeof c.accessToken),new Lc(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xn(null===e||"string"==typeof e),new hi(e)}}class Lp{constructor(e,s,c,f){this.h=e,this.l=s,this.m=c,this.g=f,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Vp{constructor(e,s,c,f){this.h=e,this.l=s,this.m=c,this.g=f}getToken(){return Promise.resolve(new Lp(this.h,this.l,this.m,this.g))}start(e,s){e.enqueueRetryable(()=>s(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ld{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,s){const c=y=>{null!=y.error&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const w=y.token!==this.A;return this.A=y.token,Dt("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?s(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>c(y))};const f=y=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>f(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?f(y):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(xn("string"==typeof s.token),this.A=s.token,new Qu(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bc(l){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(s);else for(let c=0;c<l;c++)s[c]=Math.floor(256*Math.random());return s}class Ul{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/e.length)*e.length;let c="";for(;c.length<20;){const f=Bc(40);for(let y=0;y<f.length;++y)c.length<20&&f[y]<s&&(c+=e.charAt(f[y]%e.length))}return c}}function Ln(l,e){return l<e?-1:l>e?1:0}function sa(l,e,s){return l.length===e.length&&l.every((c,f)=>s(c,e[f]))}class Yr{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new kt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new kt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new kt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*s));return new Yr(s,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new Yr(0,0))}static max(){return new Sn(new Yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fa{constructor(e,s,c){void 0===s?s=0:s>e.length&&fn(),void 0===c?c=e.length-s:c>e.length-s&&fn(),this.segments=e,this.offset=s,this.len=c}get length(){return this.len}isEqual(e){return 0===Fa.comparator(this,e)}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(c=>{s.push(c)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,c=this.limit();s<c;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const c=Math.min(e.length,s.length);for(let f=0;f<c;f++){const y=e.get(f),w=s.get(f);if(y<w)return-1;if(y>w)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class tr extends Fa{construct(e,s,c){return new tr(e,s,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const s=[];for(const c of e){if(c.indexOf("//")>=0)throw new kt(nt.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);s.push(...c.split("/").filter(f=>f.length>0))}return new tr(s)}static emptyPath(){return new tr([])}}const bu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends Fa{construct(e,s,c){return new Qr(e,s,c)}static isValidIdentifier(e){return bu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const s=[];let c="",f=0;const y=()=>{if(0===c.length)throw new kt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(c),c=""};let w=!1;for(;f<e.length;){const k=e[f];if("\\"===k){if(f+1===e.length)throw new kt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[f+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new kt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=V,f+=2}else"`"===k?(w=!w,f++):"."!==k||w?(c+=k,f++):(y(),f++)}if(y(),w)throw new kt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(s)}static emptyPath(){return new Qr([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(tr.fromString(e))}static fromName(e){return new Zt(tr.fromString(e).popFirst(5))}static empty(){return new Zt(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,s){return tr.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new tr(e.slice()))}}function Uc(l){return new Zs(l.readTime,l.key,-1)}class Zs{constructor(e,s,c){this.readTime=e,this.documentKey=s,this.largestBatchId=c}static min(){return new Zs(Sn.min(),Zt.empty(),-1)}static max(){return new Zs(Sn.max(),Zt.empty(),-1)}}function Bd(l,e){let s=l.readTime.compareTo(e.readTime);return 0!==s?s:(s=Zt.comparator(l.documentKey,e.documentKey),0!==s?s:Ln(l.largestBatchId,e.largestBatchId))}const Va="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ys(l){return aa.apply(this,arguments)}function aa(){return aa=(0,Je.Z)(function*(l){if(l.code!==nt.FAILED_PRECONDITION||l.message!==Va)throw l;Dt("LocalStore","Unexpectedly lost primary lease")}),aa.apply(this,arguments)}class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new Qe((c,f)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(c,f)},this.catchCallback=y=>{this.wrapFailure(s,y).next(c,f)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof Qe?s:Qe.resolve(s)}catch(s){return Qe.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):Qe.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):Qe.reject(s)}static resolve(e){return new Qe((s,c)=>{s(e)})}static reject(e){return new Qe((s,c)=>{c(e)})}static waitFor(e){return new Qe((s,c)=>{let f=0,y=0,w=!1;e.forEach(k=>{++f,k.next(()=>{++y,w&&y===f&&s()},V=>c(V))}),w=!0,y===f&&s()})}static or(e){let s=Qe.resolve(!1);for(const c of e)s=s.next(f=>f?Qe.resolve(f):c());return s}static forEach(e,s){const c=[];return e.forEach((f,y)=>{c.push(s.call(this,f,y))}),this.waitFor(c)}static mapArray(e,s){return new Qe((c,f)=>{const y=e.length,w=new Array(y);let k=0;for(let V=0;V<y;V++){const G=V;s(e[G]).next(Y=>{w[G]=Y,++k,k===y&&c(w)},Y=>f(Y))}})}static doWhile(e,s){return new Qe((c,f)=>{const y=()=>{!0===e()?s().next(()=>{y()},f):c()};y()})}}function ko(l){return"IndexedDbTransactionError"===l.name}class Ss{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>s.writeSequenceNumber(c))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function jd(l){let e=0;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&e++;return e}function la(l,e){for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&e(s,l[s])}function ec(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}Ss.at=-1;class fi{constructor(e,s){this.comparator=e,this.root=s||Or.EMPTY}insert(e,s){return new fi(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return s.value;c<0?s=s.left:c>0&&(s=s.right)}return null}indexOf(e){let s=0,c=this.root;for(;!c.isEmpty();){const f=this.comparator(e,c.key);if(0===f)return s+c.left.size;f<0?c=c.left:(s+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,c)=>(e(s,c),!1))}toString(){const e=[];return this.inorderTraversal((s,c)=>(e.push(`${s}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,s,c,f){this.isReverse=f,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=s?c(e.key,s):1,s&&f&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Or{constructor(e,s,c,f,y){this.key=e,this.value=s,this.color=null!=c?c:Or.RED,this.left=null!=f?f:Or.EMPTY,this.right=null!=y?y:Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,c,f,y){return new Or(null!=e?e:this.key,null!=s?s:this.value,null!=c?c:this.color,null!=f?f:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,c){let f=this;const y=c(e,f.key);return f=y<0?f.copy(null,null,null,f.left.insert(e,s,c),null):0===y?f.copy(null,s,null,null,null):f.copy(null,null,null,null,f.right.insert(e,s,c)),f.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let c,f=this;if(s(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,s),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===s(e,f.key)){if(f.right.isEmpty())return Or.EMPTY;c=f.right.min(),f=f.copy(c.key,c.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,s))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const e=this.left.check();if(e!==this.right.check())throw fn();return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1,Or.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(l,e,s,c,f){return this}insert(l,e,s){return new Or(l,e)}remove(l,e){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,c)=>(e(s),!1))}forEachInRange(e,s){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const f=c.getNext();if(this.comparator(f.key,e[1])>=0)return;s(f.key)}}forEachWhile(e,s){let c;for(c=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new df(this.data.getIterator())}getIteratorFrom(e){return new df(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(c=>{s=s.add(c)}),s}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const s=this.data.getIterator(),c=e.data.getIterator();for(;s.hasNext();){const f=s.getNext().key,y=c.getNext().key;if(0!==this.comparator(f,y))return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new or(this.comparator);return s.data=e,s}}class df{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class js{constructor(e){this.fields=e,e.sort(Qr.comparator)}static empty(){return new js([])}unionWith(e){let s=new or(Qr.comparator);for(const c of this.fields)s=s.add(c);for(const c of e)s=s.add(c);return new js(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(s,c)=>s.isEqual(c))}}class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const s=atob(e);return new ii(s)}static fromUint8Array(e){const s=function(c){let f="";for(let y=0;y<c.length;++y)f+=String.fromCharCode(c[y]);return f}(e);return new ii(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let c=0;c<e.length;c++)s[c]=e.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const Hc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(l){if(xn(!!l),"string"==typeof l){let e=0;const s=Hc.exec(l);if(xn(!!s),s[1]){let f=s[1];f=(f+"000000000").substr(0,9),e=Number(f)}const c=new Date(l);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:Jr(l.seconds),nanos:Jr(l.nanos)}}function Jr(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Js(l){return"string"==typeof l?ii.fromBase64String(l):ii.fromUint8Array(l)}function jl(l){var e,s;return"server_timestamp"===(null===(s=((null===(e=null==l?void 0:l.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function $c(l){const e=l.mapValue.fields.__previous_value__;return jl(e)?$c(e):e}function qi(l){const e=Vi(l.mapValue.fields.__local_write_time__.timestampValue);return new Yr(e.seconds,e.nanos)}class hf{constructor(e,s,c,f,y,w,k,V){this.databaseId=e,this.appId=s,this.persistenceKey=c,this.host=f,this.ssl=y,this.forceLongPolling=w,this.autoDetectLongPolling=k,this.useFetchStreams=V}}class _l{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new _l("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}function gs(l){return null==l}function ua(l){return 0===l&&1/l==-1/0}const yl_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Po(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?jl(l)?4:Gd(l)?9007199254740991:10:fn()}function Fo(l,e){if(l===e)return!0;const s=Po(l);if(s!==Po(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return qi(l).isEqual(qi(e));case 3:return function(c,f){if("string"==typeof c.timestampValue&&"string"==typeof f.timestampValue&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const y=Vi(c.timestampValue),w=Vi(f.timestampValue);return y.seconds===w.seconds&&y.nanos===w.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return f=e,Js(l.bytesValue).isEqual(Js(f.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(c,f){return Jr(c.geoPointValue.latitude)===Jr(f.geoPointValue.latitude)&&Jr(c.geoPointValue.longitude)===Jr(f.geoPointValue.longitude)}(l,e);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return Jr(c.integerValue)===Jr(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const y=Jr(c.doubleValue),w=Jr(f.doubleValue);return y===w?ua(y)===ua(w):isNaN(y)&&isNaN(w)}return!1}(l,e);case 9:return sa(l.arrayValue.values||[],e.arrayValue.values||[],Fo);case 10:return function(c,f){const y=c.mapValue.fields||{},w=f.mapValue.fields||{};if(jd(y)!==jd(w))return!1;for(const k in y)if(y.hasOwnProperty(k)&&(void 0===w[k]||!Fo(y[k],w[k])))return!1;return!0}(l,e);default:return fn()}var f}function $l(l,e){return void 0!==(l.values||[]).find(s=>Fo(s,e))}function $a(l,e){if(l===e)return 0;const s=Po(l),c=Po(e);if(s!==c)return Ln(s,c);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ln(l.booleanValue,e.booleanValue);case 2:return function(f,y){const w=Jr(f.integerValue||f.doubleValue),k=Jr(y.integerValue||y.doubleValue);return w<k?-1:w>k?1:w===k?0:isNaN(w)?isNaN(k)?0:-1:1}(l,e);case 3:return Gl(l.timestampValue,e.timestampValue);case 4:return Gl(qi(l),qi(e));case 5:return Ln(l.stringValue,e.stringValue);case 6:return function(f,y){const w=Js(f),k=Js(y);return w.compareTo(k)}(l.bytesValue,e.bytesValue);case 7:return function(f,y){const w=f.split("/"),k=y.split("/");for(let V=0;V<w.length&&V<k.length;V++){const G=Ln(w[V],k[V]);if(0!==G)return G}return Ln(w.length,k.length)}(l.referenceValue,e.referenceValue);case 8:return function(f,y){const w=Ln(Jr(f.latitude),Jr(y.latitude));return 0!==w?w:Ln(Jr(f.longitude),Jr(y.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(f,y){const w=f.values||[],k=y.values||[];for(let V=0;V<w.length&&V<k.length;++V){const G=$a(w[V],k[V]);if(G)return G}return Ln(w.length,k.length)}(l.arrayValue,e.arrayValue);case 10:return function(f,y){if(f===yl_mapValue&&y===yl_mapValue)return 0;if(f===yl_mapValue)return 1;if(y===yl_mapValue)return-1;const w=f.fields||{},k=Object.keys(w),V=y.fields||{},G=Object.keys(V);k.sort(),G.sort();for(let Y=0;Y<k.length&&Y<G.length;++Y){const fe=Ln(k[Y],G[Y]);if(0!==fe)return fe;const Ye=$a(w[k[Y]],V[G[Y]]);if(0!==Ye)return Ye}return Ln(k.length,G.length)}(l.mapValue,e.mapValue);default:throw fn()}}function Gl(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return Ln(l,e);const s=Vi(l),c=Vi(e),f=Ln(s.seconds,c.seconds);return 0!==f?f:Ln(s.nanos,c.nanos)}function Ga(l){return $d(l)}function $d(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(c){const f=Vi(c);return`time(${f.seconds},${f.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Js(l.bytesValue).toBase64():"referenceValue"in l?Zt.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(e=l.geoPointValue).latitude},${e.longitude})`:"arrayValue"in l?function(c){let f="[",y=!0;for(const w of c.values||[])y?y=!1:f+=",",f+=$d(w);return f+"]"}(l.arrayValue):"mapValue"in l?function(c){const f=Object.keys(c.fields||{}).sort();let y="{",w=!0;for(const k of f)w?w=!1:y+=",",y+=`${k}:${$d(c.fields[k])}`;return y+"}"}(l.mapValue):fn();var e}function ff(l){return!!l&&"integerValue"in l}function tc(l){return!!l&&"arrayValue"in l}function wu(l){return!!l&&"nullValue"in l}function Gc(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Xs(l){return!!l&&"mapValue"in l}function Lo(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return la(l.mapValue.fields,(s,c)=>e.mapValue.fields[s]=Lo(c)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(l.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Lo(l.arrayValue.values[s]);return e}return Object.assign({},l)}function Gd(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let c=0;c<e.length-1;++c)if(s=(s.mapValue.fields||{})[e.get(c)],!Xs(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(s)}setAll(e){let s=Qr.emptyPath(),c={},f=[];e.forEach((w,k)=>{if(!s.isImmediateParentOf(k)){const V=this.getFieldsMap(s);this.applyChanges(V,c,f),c={},f=[],s=k.popLast()}w?c[k.lastSegment()]=Lo(w):f.push(k.lastSegment())});const y=this.getFieldsMap(s);this.applyChanges(y,c,f)}delete(e){const s=this.field(e.popLast());Xs(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Fo(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let c=0;c<e.length;++c){let f=s.mapValue.fields[e.get(c)];Xs(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},s.mapValue.fields[e.get(c)]=f),s=f}return s.mapValue.fields}applyChanges(e,s,c){la(s,(f,y)=>e[f]=y);for(const f of c)delete e[f]}clone(){return new si(Lo(this.value))}}function Wc(l){const e=[];return la(l.fields,(s,c)=>{const f=new Qr([s]);if(Xs(c)){const y=Wc(c.mapValue).fields;if(0===y.length)e.push(f);else for(const w of y)e.push(f.child(w))}else e.push(f)}),new js(e)}class Rr{constructor(e,s,c,f,y,w){this.key=e,this.documentType=s,this.version=c,this.readTime=f,this.data=y,this.documentState=w}static newInvalidDocument(e){return new Rr(e,0,Sn.min(),Sn.min(),si.empty(),0)}static newFoundDocument(e,s,c){return new Rr(e,1,s,Sn.min(),c,0)}static newNoDocument(e,s){return new Rr(e,2,s,Sn.min(),si.empty(),0)}static newUnknownDocument(e,s){return new Rr(e,3,s,Sn.min(),si.empty(),2)}convertToFoundDocument(e,s){return this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Iu{constructor(e,s=null,c=[],f=[],y=null,w=null,k=null){this.path=e,this.collectionGroup=s,this.orderBy=c,this.filters=f,this.limit=y,this.startAt=w,this.endAt=k,this.ht=null}}function jp(l,e=null,s=[],c=[],f=null,y=null,w=null){return new Iu(l,e,s,c,f,y,w)}function eo(l){const e=an(l);if(null===e.ht){let s=e.path.canonicalString();null!==e.collectionGroup&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(c=>{return(f=c).field.canonicalString()+f.op.toString()+Ga(f.value);var f}).join(","),s+="|ob:",s+=e.orderBy.map(c=>{return(f=c).field.canonicalString()+f.dir;var f}).join(","),gs(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(c=>Ga(c)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(c=>Ga(c)).join(",")),e.ht=s}return e.ht}function vl(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<l.orderBy.length;f++)if(!j(l.orderBy[f],e.orderBy[f]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let f=0;f<l.filters.length;f++)if((s=l.filters[f]).op!==(c=e.filters[f]).op||!s.field.isEqual(c.field)||!Fo(s.value,c.value))return!1;var s,c;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!we(l.startAt,e.startAt)&&we(l.endAt,e.endAt)}function nc(l){return Zt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class pi extends class{}{constructor(e,s,c){super(),this.field=e,this.op=s,this.value=c}static create(e,s,c){return e.isKeyField()?"in"===s||"not-in"===s?this.lt(e,s,c):new Wd(e,s,c):"array-contains"===s?new Kd(e,c):"in"===s?new mf(e,c):"not-in"===s?new I(e,c):"array-contains-any"===s?new _(e,c):new pi(e,s,c)}static lt(e,s,c){return"in"===s?new qc(e,c):new qd(e,c)}matches(e){const s=e.data.field(this.field);return"!="===this.op?null!==s&&this.ft($a(s,this.value)):null!==s&&Po(this.value)===Po(s)&&this.ft($a(s,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wd extends pi{constructor(e,s,c){super(e,s,c),this.key=Zt.fromName(c.referenceValue)}matches(e){const s=Zt.comparator(e.key,this.key);return this.ft(s)}}class qc extends pi{constructor(e,s){super(e,"in",s),this.keys=mi(0,s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class qd extends pi{constructor(e,s){super(e,"not-in",s),this.keys=mi(0,s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function mi(l,e){var s;return((null===(s=e.arrayValue)||void 0===s?void 0:s.values)||[]).map(c=>Zt.fromName(c.referenceValue))}class Kd extends pi{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return tc(s)&&$l(s.arrayValue,this.value)}}class mf extends pi{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return null!==s&&$l(this.value.arrayValue,s)}}class I extends pi{constructor(e,s){super(e,"not-in",s)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return null!==s&&!$l(this.value.arrayValue,s)}}class _ extends pi{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!tc(s)||!s.arrayValue.values)&&s.arrayValue.values.some(c=>$l(this.value.arrayValue,c))}}class b{constructor(e,s){this.position=e,this.inclusive=s}}class M{constructor(e,s="asc"){this.field=e,this.dir=s}}function j(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}function z(l,e,s){let c=0;for(let f=0;f<l.position.length;f++){const y=e[f],w=l.position[f];if(c=y.field.isKeyField()?Zt.comparator(Zt.fromName(w.referenceValue),s.key):$a(w,s.data.field(y.field)),"desc"===y.dir&&(c*=-1),0!==c)break}return c}function we(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let s=0;s<l.position.length;s++)if(!Fo(l.position[s],e.position[s]))return!1;return!0}class et{constructor(e,s=null,c=[],f=[],y=null,w="F",k=null,V=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=c,this.filters=f,this.limit=y,this.limitType=w,this.startAt=k,this.endAt=V,this._t=null,this.wt=null}}function Nt(l){return new et(l)}function ln(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Nr(l){const e=an(l);if(null===e._t){e._t=[];const s=function kr(l){for(const e of l.filters)if(e.dt())return e.field;return null}(e),c=function pr(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}(e);if(null!==s&&null===c)s.isKeyField()||e._t.push(new M(s)),e._t.push(new M(Qr.keyField(),"asc"));else{let f=!1;for(const y of e.explicitOrderBy)e._t.push(y),y.field.isKeyField()&&(f=!0);if(!f){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new M(Qr.keyField(),y))}}}return e._t}function Si(l){const e=an(l);if(!e.wt)if("F"===e.limitType)e.wt=jp(e.path,e.collectionGroup,Nr(e),e.filters,e.limit,e.startAt,e.endAt);else{const s=[];for(const y of Nr(e))s.push(new M(y.field,"desc"===y.dir?"asc":"desc"));const c=e.endAt?new b(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new b(e.startAt.position,e.startAt.inclusive):null;e.wt=jp(e.path,e.collectionGroup,s,e.filters,e.limit,c,f)}return e.wt}function Wl(l,e,s){return new et(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,s,l.startAt,l.endAt)}function ic(l,e){return vl(Si(l),Si(e))&&l.limitType===e.limitType}function gf(l){return`${eo(Si(l))}|lt:${l.limitType}`}function ca(l){return`Query(target=${function pf(l){let e=l.path.canonicalString();return null!==l.collectionGroup&&(e+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(e+=`, filters: [${l.filters.map(s=>{return`${(c=s).field.canonicalString()} ${c.op} ${Ga(c.value)}`;var c}).join(", ")}]`),gs(l.limit)||(e+=", limit: "+l.limit),l.orderBy.length>0&&(e+=`, orderBy: [${l.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),l.startAt&&(e+=", startAt: ",e+=l.startAt.inclusive?"b:":"a:",e+=l.startAt.position.map(s=>Ga(s)).join(",")),l.endAt&&(e+=", endAt: ",e+=l.endAt.inclusive?"a:":"b:",e+=l.endAt.position.map(s=>Ga(s)).join(",")),`Target(${e})`}(Si(l))}; limitType=${l.limitType})`}function ql(l,e){return e.isFoundDocument()&&function(s,c){const f=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Zt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,e)&&function(s,c){for(const f of s.explicitOrderBy)if(!f.field.isKeyField()&&null===c.data.field(f.field))return!1;return!0}(l,e)&&function(s,c){for(const f of s.filters)if(!f.matches(c))return!1;return!0}(l,e)&&(c=e,!((s=l).startAt&&!function(f,y,w){const k=z(f,y,w);return f.inclusive?k<=0:k<0}(s.startAt,Nr(s),c)||s.endAt&&!function(f,y,w){const k=z(f,y,w);return f.inclusive?k>=0:k>0}(s.endAt,Nr(s),c)));var s,c}function Du(l){return(e,s)=>{let c=!1;for(const f of Nr(l)){const y=_f(f,e,s);if(0!==y)return y;c=c||f.field.isKeyField()}return 0}}function _f(l,e,s){const c=l.field.isKeyField()?Zt.comparator(e.key,s.key):function(f,y,w){const k=y.data.field(f),V=w.data.field(f);return null!==k&&null!==V?$a(k,V):fn()}(l.field,e,s);switch(l.dir){case"asc":return c;case"desc":return-1*c;default:return fn()}}function Hp(l,e){if(l.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ua(e)?"-0":e}}function Zd(l){return{integerValue:""+l}}function Yd(l,e){return function Hd(l){return"number"==typeof l&&Number.isInteger(l)&&!ua(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(e)?Zd(e):Hp(l,e)}class $p{constructor(){this._=void 0}}function Vb(l,e,s){return l instanceof Kc?function(c,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&(y.fields.__previous_value__=f),{mapValue:y}}(s,e):l instanceof El?Gp(l,e):l instanceof Zc?Mg(l,e):function(c,f){const y=Fy(c,f),w=xg(y)+xg(c.yt);return ff(y)&&ff(c.yt)?Zd(w):Hp(c.It,w)}(l,e)}function yf(l,e,s){return l instanceof El?Gp(l,e):l instanceof Zc?Mg(l,e):s}function Fy(l,e){return l instanceof Qd?ff(s=e)||(c=s)&&"doubleValue"in c?e:{integerValue:0}:null;var c,s}class Kc extends $p{}class El extends $p{constructor(e){super(),this.elements=e}}function Gp(l,e){const s=Og(e);for(const c of l.elements)s.some(f=>Fo(f,c))||s.push(c);return{arrayValue:{values:s}}}class Zc extends $p{constructor(e){super(),this.elements=e}}function Mg(l,e){let s=Og(e);for(const c of l.elements)s=s.filter(f=>!Fo(f,c));return{arrayValue:{values:s}}}class Qd extends $p{constructor(e,s){super(),this.It=e,this.yt=s}}function xg(l){return Jr(l.integerValue||l.doubleValue)}function Og(l){return tc(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Ly{constructor(e,s){this.version=e,this.transformResults=s}}class wi{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class zp{}function Rg(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new Au(l.key,wi.none()):new vf(l.key,l.data,wi.none());{const s=l.data,c=si.empty();let f=new or(Qr.comparator);for(let y of e.fields)if(!f.has(y)){let w=s.field(y);null===w&&y.length>1&&(y=y.popLast(),w=s.field(y)),null===w?c.delete(y):c.set(y,w),f=f.add(y)}return new Zl(l.key,c,new js(f.toArray()),wi.none())}}function Ub(l,e,s){l instanceof vf?function(c,f,y){const w=c.value.clone(),k=Vo(c.fieldTransforms,f,y.transformResults);w.setAll(k),f.convertToFoundDocument(y.version,w).setHasCommittedMutations()}(l,e,s):l instanceof Zl?function(c,f,y){if(!Xd(c.precondition,f))return void f.convertToUnknownDocument(y.version);const w=Vo(c.fieldTransforms,f,y.transformResults),k=f.data;k.setAll(By(c)),k.setAll(w),f.convertToFoundDocument(y.version,k).setHasCommittedMutations()}(l,e,s):e.convertToNoDocument(s.version).setHasCommittedMutations()}function wl(l,e,s,c){return l instanceof vf?function(f,y,w,k){if(!Xd(f.precondition,y))return w;const V=f.value.clone(),G=eh(f.fieldTransforms,k,y);return V.setAll(G),y.convertToFoundDocument(y.version,V).setHasLocalMutations(),null}(l,e,s,c):l instanceof Zl?function(f,y,w,k){if(!Xd(f.precondition,y))return w;const V=eh(f.fieldTransforms,k,y),G=y.data;return G.setAll(By(f)),G.setAll(V),y.convertToFoundDocument(y.version,G).setHasLocalMutations(),null===w?null:w.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Y=>Y.field))}(l,e,s,c):(w=s,Xd(l.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):w);var y,w}function Kl(l,e){let s=null;for(const c of l.fieldTransforms){const f=e.data.field(c.field),y=Fy(c.transform,f||null);null!=y&&(null===s&&(s=si.empty()),s.set(c.field,y))}return s||null}function Vy(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===c||s&&c&&sa(s,c,(f,y)=>function Bb(l,e){return l.field.isEqual(e.field)&&(c=e.transform,(s=l.transform)instanceof El&&c instanceof El||s instanceof Zc&&c instanceof Zc?sa(s.elements,c.elements,Fo):s instanceof Qd&&c instanceof Qd?Fo(s.yt,c.yt):s instanceof Kc&&c instanceof Kc);var s,c}(f,y))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,c}class vf extends zp{constructor(e,s,c,f=[]){super(),this.key=e,this.value=s,this.precondition=c,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class Zl extends zp{constructor(e,s,c,f,y=[]){super(),this.key=e,this.data=s,this.fieldMask=c,this.precondition=f,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function By(l){const e=new Map;return l.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const c=l.data.field(s);e.set(s,c)}}),e}function Vo(l,e,s){const c=new Map;xn(l.length===s.length);for(let f=0;f<s.length;f++){const y=l[f],w=y.transform,k=e.data.field(y.field);c.set(y.field,yf(w,k,s[f]))}return c}function eh(l,e,s){const c=new Map;for(const f of l){const y=f.transform,w=s.data.field(f.field);c.set(f.field,Vb(y,w,e))}return c}class Au extends zp{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wp extends zp{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kg{constructor(e){this.count=e}}var gi,gr;function qp(l){switch(l){default:return fn();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function th(l){if(void 0===l)return ci("GRPC error has no .code"),nt.UNKNOWN;switch(l){case gi.OK:return nt.OK;case gi.CANCELLED:return nt.CANCELLED;case gi.UNKNOWN:return nt.UNKNOWN;case gi.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case gi.INTERNAL:return nt.INTERNAL;case gi.UNAVAILABLE:return nt.UNAVAILABLE;case gi.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case gi.NOT_FOUND:return nt.NOT_FOUND;case gi.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case gi.ABORTED:return nt.ABORTED;case gi.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case gi.DATA_LOSS:return nt.DATA_LOSS;default:return fn()}}(gr=gi||(gi={}))[gr.OK=0]="OK",gr[gr.CANCELLED=1]="CANCELLED",gr[gr.UNKNOWN=2]="UNKNOWN",gr[gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gr[gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gr[gr.NOT_FOUND=5]="NOT_FOUND",gr[gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",gr[gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",gr[gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",gr[gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gr[gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gr[gr.ABORTED=10]="ABORTED",gr[gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",gr[gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",gr[gr.INTERNAL=13]="INTERNAL",gr[gr.UNAVAILABLE=14]="UNAVAILABLE",gr[gr.DATA_LOSS=15]="DATA_LOSS";class Yl{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0!==c)for(const[f,y]of c)if(this.equalsFn(f,e))return y}has(e){return void 0!==this.get(e)}set(e,s){const c=this.mapKeyFn(e),f=this.inner[c];if(void 0===f)return this.inner[c]=[[e,s]],void this.innerSize++;for(let y=0;y<f.length;y++)if(this.equalsFn(f[y][0],e))return void(f[y]=[e,s]);f.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return!1;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return 1===c.length?delete this.inner[s]:c.splice(f,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(s,c)=>{for(const[f,y]of c)e(f,y)})}isEmpty(){return ec(this.inner)}size(){return this.innerSize}}const Uy=new fi(Zt.comparator);function bo(){return Uy}const Yc=new fi(Zt.comparator);function Qc(...l){let e=Yc;for(const s of l)e=e.insert(s.key,s);return e}function Ng(l){let e=Yc;return l.forEach((s,c)=>e=e.insert(s,c.overlayedDocument)),e}function Ql(){return nh()}function bf(){return nh()}function nh(){return new Yl(l=>l.toString(),(l,e)=>l.isEqual(e))}const jb=new fi(Zt.comparator),Hb=new or(Zt.comparator);function er(...l){let e=Hb;for(const s of l)e=e.add(s);return e}const $b=new or(Ln);function Kp(){return $b}class rh{constructor(e,s,c,f,y){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=c,this.documentUpdates=f,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,s){const c=new Map;return c.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,s)),new rh(Sn.min(),c,Kp(),bo(),er())}}class Wa{constructor(e,s,c,f,y){this.resumeToken=e,this.current=s,this.addedDocuments=c,this.modifiedDocuments=f,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,s){return new Wa(ii.EMPTY_BYTE_STRING,s,er(),er(),er())}}class ih{constructor(e,s,c,f){this.Tt=e,this.removedTargetIds=s,this.key=c,this.Et=f}}class Su{constructor(e,s){this.targetId=e,this.At=s}}class rs{constructor(e,s,c=ii.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=s,this.resumeToken=c,this.cause=f}}class Ef{constructor(){this.Rt=0,this.bt=Jl(),this.Pt=ii.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=er(),s=er(),c=er();return this.bt.forEach((f,y)=>{switch(y){case 0:e=e.add(f);break;case 2:s=s.add(f);break;case 1:c=c.add(f);break;default:fn()}}),new Wa(this.Pt,this.vt,e,s,c)}Nt(){this.Vt=!1,this.bt=Jl()}kt(e,s){this.Vt=!0,this.bt=this.bt.insert(e,s)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class wf{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=bo(),this.qt=Zp(),this.Kt=new or(Ln)}Gt(e){for(const s of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(s,e.Et):this.jt(s,e.key,e.Et);for(const s of e.removedTargetIds)this.jt(s,e.key,e.Et)}Wt(e){this.forEachTarget(e,s=>{const c=this.zt(s);switch(e.state){case 0:this.Ht(s)&&c.Ct(e.resumeToken);break;case 1:c.Ft(),c.St||c.Nt(),c.Ct(e.resumeToken);break;case 2:c.Ft(),c.St||this.removeTarget(s);break;case 3:this.Ht(s)&&(c.$t(),c.Ct(e.resumeToken));break;case 4:this.Ht(s)&&(this.Jt(s),c.Ct(e.resumeToken));break;default:fn()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Lt.forEach((c,f)=>{this.Ht(f)&&s(f)})}Yt(e){const s=e.targetId,c=e.At.count,f=this.Xt(s);if(f){const y=f.target;if(nc(y))if(0===c){const w=new Zt(y.path);this.jt(s,w,Rr.newNoDocument(w,Sn.min()))}else xn(1===c);else this.Zt(s)!==c&&(this.Jt(s),this.Kt=this.Kt.add(s))}}te(e){const s=new Map;this.Lt.forEach((y,w)=>{const k=this.Xt(w);if(k){if(y.current&&nc(k.target)){const V=new Zt(k.target.path);null!==this.Ut.get(V)||this.ee(w,V)||this.jt(w,V,Rr.newNoDocument(V,e))}y.Dt&&(s.set(w,y.xt()),y.Nt())}});let c=er();this.qt.forEach((y,w)=>{let k=!0;w.forEachWhile(V=>{const G=this.Xt(V);return!G||2===G.purpose||(k=!1,!1)}),k&&(c=c.add(y))}),this.Ut.forEach((y,w)=>w.setReadTime(e));const f=new rh(e,s,this.Kt,this.Ut,c);return this.Ut=bo(),this.qt=Zp(),this.Kt=new or(Ln),f}Qt(e,s){if(!this.Ht(e))return;const c=this.ee(e,s.key)?2:0;this.zt(e).kt(s.key,c),this.Ut=this.Ut.insert(s.key,s),this.qt=this.qt.insert(s.key,this.ne(s.key).add(e))}jt(e,s,c){if(!this.Ht(e))return;const f=this.zt(e);this.ee(e,s)?f.kt(s,1):f.Mt(s),this.qt=this.qt.insert(s,this.ne(s).delete(e)),c&&(this.Ut=this.Ut.insert(s,c))}removeTarget(e){this.Lt.delete(e)}Zt(e){const s=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let s=this.Lt.get(e);return s||(s=new Ef,this.Lt.set(e,s)),s}ne(e){let s=this.qt.get(e);return s||(s=new or(Ln),this.qt=this.qt.insert(e,s)),s}Ht(e){const s=null!==this.Xt(e);return s||Dt("WatchChangeAggregator","Detected inactive target",e),s}Xt(e){const s=this.Lt.get(e);return s&&s.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ef),this.Bt.getRemoteKeysForTarget(e).forEach(s=>{this.jt(e,s,null)})}ee(e,s){return this.Bt.getRemoteKeysForTarget(e).has(s)}}function Zp(){return new fi(Zt.comparator)}function Jl(){return new fi(Zt.comparator)}const Pg={asc:"ASCENDING",desc:"DESCENDING"},Cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jy{constructor(e,s){this.databaseId=e,this.gt=s}}function Mu(l,e){return l.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fg(l,e){return l.gt?e.toBase64():e.toUint8Array()}function sh(l,e){return Mu(l,e.toTimestamp())}function Ki(l){return xn(!!l),Sn.fromTimestamp(function(e){const s=Vi(e);return new Yr(s.seconds,s.nanos)}(l))}function Cl(l,e){return(s=l,new tr(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function to(l){const e=tr.fromString(l);return xn(jg(e)),e}function Jc(l,e){return Cl(l.databaseId,e.path)}function Eo(l,e){const s=to(e);if(s.get(1)!==l.databaseId.projectId)throw new kt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+l.databaseId.projectId);if(s.get(3)!==l.databaseId.database)throw new kt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+l.databaseId.database);return new Zt(Xl(s))}function Xc(l,e){return Cl(l.databaseId,e)}function sc(l){return new tr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Xl(l){return xn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function qa(l,e,s){return{name:Jc(l,e),fields:s.value.mapValue.fields}}function ah(l,e){return{documents:[Xc(l,e.path)]}}function If(l,e){const s={structuredQuery:{}},c=e.path;null!==e.collectionGroup?(s.parent=Xc(l,c),s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s.parent=Xc(l,c.popLast()),s.structuredQuery.from=[{collectionId:c.lastSegment()}]);const f=function(V){if(0===V.length)return;const G=V.map(Y=>function(fe){if("=="===fe.op){if(Gc(fe.value))return{unaryFilter:{field:Il(fe.field),op:"IS_NAN"}};if(wu(fe.value))return{unaryFilter:{field:Il(fe.field),op:"IS_NULL"}}}else if("!="===fe.op){if(Gc(fe.value))return{unaryFilter:{field:Il(fe.field),op:"IS_NOT_NAN"}};if(wu(fe.value))return{unaryFilter:{field:Il(fe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(fe.field),op:Vg(fe.op),value:fe.value}}}(Y));return 1===G.length?G[0]:{compositeFilter:{op:"AND",filters:G}}}(e.filters);f&&(s.structuredQuery.where=f);const y=function(V){if(0!==V.length)return V.map(G=>{return{field:Il((Y=G).field),direction:tm(Y.dir)};var Y})}(e.orderBy);y&&(s.structuredQuery.orderBy=y);const w=(G=e.limit,l.gt||gs(G)?G:{value:G});var G,k,V;return null!==w&&(s.structuredQuery.limit=w),e.startAt&&(s.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(s.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),s}function Lg(l){let e=function Yp(l){const e=to(l);return 4===e.length?tr.emptyPath():Xl(e)}(l.parent);const s=l.structuredQuery,c=s.from?s.from.length:0;let f=null;if(c>0){xn(1===c);const Y=s.from[0];Y.allDescendants?f=Y.collectionId:e=e.child(Y.collectionId)}let y=[];s.where&&(y=em(s.where));let w=[];s.orderBy&&(w=s.orderBy.map(Y=>{return new M(Ms((fe=Y).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(fe.direction));var fe}));let k=null;s.limit&&(k=function(Y){let fe;return fe="object"==typeof Y?Y.value:Y,gs(fe)?null:fe}(s.limit));let V=null;var Y;s.startAt&&(V=new b((Y=s.startAt).values||[],!!Y.before));let G=null;return s.endAt&&(G=function(Y){return new b(Y.values||[],!Y.before)}(s.endAt)),function qt(l,e,s,c,f,y,w,k){return new et(l,e,s,c,f,y,w,k)}(e,f,w,y,k,"F",V,G)}function em(l){return l?void 0!==l.unaryFilter?[nm(l)]:void 0!==l.fieldFilter?[Bg(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(e=>em(e)).reduce((e,s)=>e.concat(s)):fn():[]}function tm(l){return Pg[l]}function Vg(l){return Cf[l]}function Il(l){return{fieldPath:l.canonicalString()}}function Ms(l){return Qr.fromServerFormat(l.fieldPath)}function Bg(l){return pi.create(Ms(l.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fn()}}(l.fieldFilter.op),l.fieldFilter.value)}function nm(l){switch(l.unaryFilter.op){case"IS_NAN":const e=Ms(l.unaryFilter.field);return pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const s=Ms(l.unaryFilter.field);return pi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ms(l.unaryFilter.field);return pi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ms(l.unaryFilter.field);return pi.create(f,"!=",{nullValue:"NULL_VALUE"});default:return fn()}}function Ug(l){const e=[];return l.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function jg(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class zg{constructor(e,s,c,f){this.batchId=e,this.localWriteTime=s,this.baseMutations=c,this.mutations=f}applyToRemoteDocument(e,s){const c=s.mutationResults;for(let f=0;f<this.mutations.length;f++){const y=this.mutations[f];y.key.isEqual(e.key)&&Ub(y,e,c[f])}}applyToLocalView(e,s){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(s=wl(c,e,s,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(s=wl(c,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const c=bf();return this.mutations.forEach(f=>{const y=e.get(f.key),w=y.overlayedDocument;let k=this.applyToLocalView(w,y.mutatedFields);k=s.has(f.key)?null:k;const V=Rg(w,k);null!==V&&c.set(f.key,V),w.isValidDocument()||w.convertToNoDocument(Sn.min())}),c}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),er())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(s,c)=>Vy(s,c))&&sa(this.baseMutations,e.baseMutations,(s,c)=>Vy(s,c))}}class Wg{constructor(e,s,c,f){this.batch=e,this.commitVersion=s,this.mutationResults=c,this.docVersions=f}static from(e,s,c){xn(e.mutations.length===c.length);let f=jb;const y=e.mutations;for(let w=0;w<y.length;w++)f=f.insert(y[w].key,c[w].version);return new Wg(e,s,c,f)}}class am{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dl{constructor(e,s,c,f,y=Sn.min(),w=Sn.min(),k=ii.EMPTY_BYTE_STRING){this.target=e,this.targetId=s,this.purpose=c,this.sequenceNumber=f,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=k}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,s){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zy{constructor(e){this.re=e}}function fh(l){const e=Lg({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Wl(e,e.limit,"L"):e}class Za{constructor(){}ce(e,s){this.ae(e,s),s.he()}ae(e,s){if("nullValue"in e)this.le(s,5);else if("booleanValue"in e)this.le(s,10),s.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(s,15),s.fe(Jr(e.integerValue));else if("doubleValue"in e){const c=Jr(e.doubleValue);isNaN(c)?this.le(s,13):(this.le(s,15),ua(c)?s.fe(0):s.fe(c))}else if("timestampValue"in e){const c=e.timestampValue;this.le(s,20),"string"==typeof c?s.de(c):(s.de(`${c.seconds||""}`),s.fe(c.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,s),this.we(s);else if("bytesValue"in e)this.le(s,30),s.me(Js(e.bytesValue)),this.we(s);else if("referenceValue"in e)this.ge(e.referenceValue,s);else if("geoPointValue"in e){const c=e.geoPointValue;this.le(s,45),s.fe(c.latitude||0),s.fe(c.longitude||0)}else"mapValue"in e?Gd(e)?this.le(s,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,s),this.we(s)):"arrayValue"in e?(this.pe(e.arrayValue,s),this.we(s)):fn()}_e(e,s){this.le(s,25),this.Ie(e,s)}Ie(e,s){s.de(e)}ye(e,s){const c=e.fields||{};this.le(s,55);for(const f of Object.keys(c))this._e(f,s),this.ae(c[f],s)}pe(e,s){const c=e.values||[];this.le(s,50);for(const f of c)this.ae(f,s)}ge(e,s){this.le(s,37),Zt.fromName(e).path.forEach(c=>{this.le(s,60),this.Ie(c,s)})}le(e,s){e.fe(s)}we(e){e.fe(2)}}Za.Te=new Za;class Qy{constructor(){this.Ye=new td}addToCollectionParentIndex(e,s){return this.Ye.add(s),Qe.resolve()}getCollectionParents(e,s){return Qe.resolve(this.Ye.getEntries(s))}addFieldIndex(e,s){return Qe.resolve()}deleteFieldIndex(e,s){return Qe.resolve()}getDocumentsMatchingTarget(e,s){return Qe.resolve(null)}getIndexType(e,s){return Qe.resolve(0)}getFieldIndexes(e,s){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,s){return Qe.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,s){return Qe.resolve(Zs.min())}updateCollectionGroup(e,s,c){return Qe.resolve()}updateIndexEntries(e,s){return Qe.resolve()}}class td{constructor(){this.index={}}add(e){const s=e.lastSegment(),c=e.popLast(),f=this.index[s]||new or(tr.comparator),y=!f.has(c);return this.index[s]=f.add(c),y}has(e){const s=e.lastSegment(),c=e.popLast(),f=this.index[s];return f&&f.has(c)}getEntries(e){return(this.index[e]||new or(tr.comparator)).toArray()}}new Uint8Array(0);class no{constructor(e,s,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=c}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class _a{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new _a(0)}static vn(){return new _a(-1)}}class r_{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class Rf{constructor(e,s,c,f){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=c,this.indexManager=f}getDocument(e,s){let c=null;return this.documentOverlayCache.getOverlay(e,s).next(f=>(c=f,this.getBaseDocument(e,s,c))).next(f=>(null!==c&&wl(c.mutation,f,js.empty(),Yr.now()),f))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(c=>this.getLocalViewOfDocuments(e,c,er()).next(()=>c))}getLocalViewOfDocuments(e,s,c=er()){const f=Ql();return this.populateOverlays(e,f,s).next(()=>this.computeViews(e,s,f,c).next(y=>{let w=Qc();return y.forEach((k,V)=>{w=w.insert(k,V.overlayedDocument)}),w}))}getOverlayedDocuments(e,s){const c=Ql();return this.populateOverlays(e,c,s).next(()=>this.computeViews(e,s,c,er()))}populateOverlays(e,s,c){const f=[];return c.forEach(y=>{s.has(y)||f.push(y)}),this.documentOverlayCache.getOverlays(e,f).next(y=>{y.forEach((w,k)=>{s.set(w,k)})})}computeViews(e,s,c,f){let y=bo();const w=nh(),k=nh();return s.forEach((V,G)=>{const Y=c.get(G.key);f.has(G.key)&&(void 0===Y||Y.mutation instanceof Zl)?y=y.insert(G.key,G):void 0!==Y&&(w.set(G.key,Y.mutation.getFieldMask()),wl(Y.mutation,G,Y.mutation.getFieldMask(),Yr.now()))}),this.recalculateAndSaveOverlays(e,y).next(V=>(V.forEach((G,Y)=>w.set(G,Y)),s.forEach((G,Y)=>{var fe;return k.set(G,new r_(Y,null!==(fe=w.get(G))&&void 0!==fe?fe:null))}),k))}recalculateAndSaveOverlays(e,s){const c=nh();let f=new fi((w,k)=>w-k),y=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(w=>{for(const k of w)k.keys().forEach(V=>{const G=s.get(V);if(null===G)return;let Y=c.get(V)||js.empty();Y=k.applyToLocalView(G,Y),c.set(V,Y);const fe=(f.get(k.batchId)||er()).add(V);f=f.insert(k.batchId,fe)})}).next(()=>{const w=[],k=f.getReverseIterator();for(;k.hasNext();){const V=k.getNext(),G=V.key,Y=V.value,fe=bf();Y.forEach(Ye=>{if(!y.has(Ye)){const gt=Rg(s.get(Ye),c.get(Ye));null!==gt&&fe.set(Ye,gt),y=y.add(Ye)}}),w.push(this.documentOverlayCache.saveOverlays(e,G,fe))}return Qe.waitFor(w)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,s,c){return Zt.isDocumentKey((f=s).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,s.path):function ns(l){return null!==l.collectionGroup}(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,c):this.getDocumentsMatchingCollectionQuery(e,s,c);var f}getNextDocuments(e,s,c,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,c,f).next(y=>{const w=f-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,c.largestBatchId,f-y.size):Qe.resolve(Ql());let k=-1,V=y;return w.next(G=>Qe.forEach(G,(Y,fe)=>(k<fe.largestBatchId&&(k=fe.largestBatchId),y.get(Y)?Qe.resolve():this.getBaseDocument(e,Y,fe).next(Ye=>{V=V.insert(Y,Ye)}))).next(()=>this.populateOverlays(e,G,y)).next(()=>this.computeViews(e,V,G,er())).next(Y=>({batchId:k,changes:Ng(Y)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Zt(s)).next(c=>{let f=Qc();return c.isFoundDocument()&&(f=f.insert(c.key,c)),f})}getDocumentsMatchingCollectionGroupQuery(e,s,c){const f=s.collectionGroup;let y=Qc();return this.indexManager.getCollectionParents(e,f).next(w=>Qe.forEach(w,k=>{const V=(G=s,Y=k.child(f),new et(Y,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,Y;return this.getDocumentsMatchingCollectionQuery(e,V,c).next(G=>{G.forEach((Y,fe)=>{y=y.insert(Y,fe)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,s,c){let f;return this.remoteDocumentCache.getAllFromCollection(e,s.path,c).next(y=>(f=y,this.documentOverlayCache.getOverlaysForCollection(e,s.path,c.largestBatchId))).next(y=>{y.forEach((k,V)=>{const G=V.getKey();null===f.get(G)&&(f=f.insert(G,Rr.newInvalidDocument(G)))});let w=Qc();return f.forEach((k,V)=>{const G=y.get(k);void 0!==G&&wl(G.mutation,V,js.empty(),Yr.now()),ql(s,V)&&(w=w.insert(k,V))}),w})}getBaseDocument(e,s,c){return null===c||1===c.mutation.type?this.remoteDocumentCache.getEntry(e,s):Qe.resolve(Rr.newInvalidDocument(s))}}class nv{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,s){return Qe.resolve(this.Zn.get(s))}saveBundleMetadata(e,s){var c;return this.Zn.set(s.id,{id:(c=s).id,version:c.version,createTime:Ki(c.createTime)}),Qe.resolve()}getNamedQuery(e,s){return Qe.resolve(this.ts.get(s))}saveNamedQuery(e,s){return this.ts.set(s.name,{name:(c=s).name,query:fh(c.bundledQuery),readTime:Ki(c.readTime)}),Qe.resolve();var c}}class dm{constructor(){this.overlays=new fi(Zt.comparator),this.es=new Map}getOverlay(e,s){return Qe.resolve(this.overlays.get(s))}getOverlays(e,s){const c=Ql();return Qe.forEach(s,f=>this.getOverlay(e,f).next(y=>{null!==y&&c.set(f,y)})).next(()=>c)}saveOverlays(e,s,c){return c.forEach((f,y)=>{this.ue(e,s,y)}),Qe.resolve()}removeOverlaysForBatchId(e,s,c){const f=this.es.get(c);return void 0!==f&&(f.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(c)),Qe.resolve()}getOverlaysForCollection(e,s,c){const f=Ql(),y=s.length+1,w=new Zt(s.child("")),k=this.overlays.getIteratorFrom(w);for(;k.hasNext();){const V=k.getNext().value,G=V.getKey();if(!s.isPrefixOf(G.path))break;G.path.length===y&&V.largestBatchId>c&&f.set(V.getKey(),V)}return Qe.resolve(f)}getOverlaysForCollectionGroup(e,s,c,f){let y=new fi((G,Y)=>G-Y);const w=this.overlays.getIterator();for(;w.hasNext();){const G=w.getNext().value;if(G.getKey().getCollectionGroup()===s&&G.largestBatchId>c){let Y=y.get(G.largestBatchId);null===Y&&(Y=Ql(),y=y.insert(G.largestBatchId,Y)),Y.set(G.getKey(),G)}}const k=Ql(),V=y.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((G,Y)=>k.set(G,Y)),!(k.size()>=f)););return Qe.resolve(k)}ue(e,s,c){const f=this.overlays.get(c.key);if(null!==f){const w=this.es.get(f.largestBatchId).delete(c.key);this.es.set(f.largestBatchId,w)}this.overlays=this.overlays.insert(c.key,new am(s,c));let y=this.es.get(s);void 0===y&&(y=er(),this.es.set(s,y)),this.es.set(s,y.add(c.key))}}class hm{constructor(){this.ns=new or(Bi.ss),this.rs=new or(Bi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,s){const c=new Bi(e,s);this.ns=this.ns.add(c),this.rs=this.rs.add(c)}us(e,s){e.forEach(c=>this.addReference(c,s))}removeReference(e,s){this.cs(new Bi(e,s))}hs(e,s){e.forEach(c=>this.removeReference(c,s))}ls(e){const s=new Zt(new tr([])),c=new Bi(s,e),f=new Bi(s,e+1),y=[];return this.rs.forEachInRange([c,f],w=>{this.cs(w),y.push(w.key)}),y}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const s=new Zt(new tr([])),c=new Bi(s,e),f=new Bi(s,e+1);let y=er();return this.rs.forEachInRange([c,f],w=>{y=y.add(w.key)}),y}containsKey(e){const s=new Bi(e,0),c=this.ns.firstAfterOrEqual(s);return null!==c&&e.isEqual(c.key)}}class Bi{constructor(e,s){this.key=e,this._s=s}static ss(e,s){return Zt.comparator(e.key,s.key)||Ln(e._s,s._s)}static os(e,s){return Ln(e._s,s._s)||Zt.comparator(e.key,s.key)}}class i_{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.ws=1,this.gs=new or(Bi.ss)}checkEmpty(e){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,s,c,f){const y=this.ws;this.ws++;const w=new zg(y,s,c,f);this.mutationQueue.push(w);for(const k of f)this.gs=this.gs.add(new Bi(k.key,y)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Qe.resolve(w)}lookupMutationBatch(e,s){return Qe.resolve(this.ys(s))}getNextMutationBatchAfterBatchId(e,s){const f=this.ps(s+1),y=f<0?0:f;return Qe.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const c=new Bi(s,0),f=new Bi(s,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([c,f],w=>{const k=this.ys(w._s);y.push(k)}),Qe.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,s){let c=new or(Ln);return s.forEach(f=>{const y=new Bi(f,0),w=new Bi(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,w],k=>{c=c.add(k._s)})}),Qe.resolve(this.Is(c))}getAllMutationBatchesAffectingQuery(e,s){const c=s.path,f=c.length+1;let y=c;Zt.isDocumentKey(y)||(y=y.child(""));const w=new Bi(new Zt(y),0);let k=new or(Ln);return this.gs.forEachWhile(V=>{const G=V.key.path;return!!c.isPrefixOf(G)&&(G.length===f&&(k=k.add(V._s)),!0)},w),Qe.resolve(this.Is(k))}Is(e){const s=[];return e.forEach(c=>{const f=this.ys(c);null!==f&&s.push(f)}),s}removeMutationBatch(e,s){xn(0===this.Ts(s.batchId,"removed")),this.mutationQueue.shift();let c=this.gs;return Qe.forEach(s.mutations,f=>{const y=new Bi(f.key,s.batchId);return c=c.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=c})}An(e){}containsKey(e,s){const c=new Bi(s,0),f=this.gs.firstAfterOrEqual(c);return Qe.resolve(s.isEqual(f&&f.key))}performConsistencyCheck(e){return Qe.resolve()}Ts(e,s){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const s=this.ps(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class kf{constructor(e){this.Es=e,this.docs=new fi(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const c=s.key,f=this.docs.get(c),y=f?f.size:0,w=this.Es(s);return this.docs=this.docs.insert(c,{document:s.mutableCopy(),size:w}),this.size+=w-y,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const c=this.docs.get(s);return Qe.resolve(c?c.document.mutableCopy():Rr.newInvalidDocument(s))}getEntries(e,s){let c=bo();return s.forEach(f=>{const y=this.docs.get(f);c=c.insert(f,y?y.document.mutableCopy():Rr.newInvalidDocument(f))}),Qe.resolve(c)}getAllFromCollection(e,s,c){let f=bo();const y=new Zt(s.child("")),w=this.docs.getIteratorFrom(y);for(;w.hasNext();){const{key:k,value:{document:V}}=w.getNext();if(!s.isPrefixOf(k.path))break;k.path.length>s.length+1||Bd(Uc(V),c)<=0||(f=f.insert(V.key,V.mutableCopy()))}return Qe.resolve(f)}getAllFromCollectionGroup(e,s,c,f){fn()}As(e,s){return Qe.forEach(this.docs,c=>s(c))}newChangeBuffer(e){return new rv(this)}getSize(e){return Qe.resolve(this.size)}}class rv extends class ev{constructor(){this.changes=new Yl(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const c=this.changes.get(s);return void 0!==c?Qe.resolve(c):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const s=[];return this.changes.forEach((c,f)=>{f.isValidDocument()?s.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(c)}),Qe.waitFor(s)}getFromCache(e,s){return this.Yn.getEntry(e,s)}getAllFromCache(e,s){return this.Yn.getEntries(e,s)}}class ya{constructor(e){this.persistence=e,this.Rs=new Yl(s=>eo(s),vl),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new hm,this.targetCount=0,this.vs=_a.Pn()}forEachTarget(e,s){return this.Rs.forEach((c,f)=>s(f)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,s,c){return c&&(this.lastRemoteSnapshotVersion=c),s>this.bs&&(this.bs=s),Qe.resolve()}Dn(e){this.Rs.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.vs=new _a(s),this.highestTargetId=s),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,s){return this.Dn(s),this.targetCount+=1,Qe.resolve()}updateTargetData(e,s){return this.Dn(s),Qe.resolve()}removeTargetData(e,s){return this.Rs.delete(s.target),this.Ps.ls(s.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,s,c){let f=0;const y=[];return this.Rs.forEach((w,k)=>{k.sequenceNumber<=s&&null===c.get(k.targetId)&&(this.Rs.delete(w),y.push(this.removeMatchingKeysForTargetId(e,k.targetId)),f++)}),Qe.waitFor(y).next(()=>f)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,s){const c=this.Rs.get(s)||null;return Qe.resolve(c)}addMatchingKeys(e,s,c){return this.Ps.us(s,c),Qe.resolve()}removeMatchingKeys(e,s,c){this.Ps.hs(s,c);const f=this.persistence.referenceDelegate,y=[];return f&&s.forEach(w=>{y.push(f.markPotentiallyOrphaned(e,w))}),Qe.waitFor(y)}removeMatchingKeysForTargetId(e,s){return this.Ps.ls(s),Qe.resolve()}getMatchingKeysForTargetId(e,s){const c=this.Ps.ds(s);return Qe.resolve(c)}containsKey(e,s){return Qe.resolve(this.Ps.containsKey(s))}}class yh{constructor(e,s){this.Vs={},this.overlays={},this.Ss=new Ss(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ya(this),this.indexManager=new Qy,this.remoteDocumentCache=new kf(c=>this.referenceDelegate.xs(c)),this.It=new zy(s),this.Ns=new nv(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new dm,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let c=this.Vs[e.toKey()];return c||(c=new i_(s,this.referenceDelegate),this.Vs[e.toKey()]=c),c}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,s,c){Dt("MemoryPersistence","Starting transaction:",e);const f=new iv(this.Ss.next());return this.referenceDelegate.ks(),c(f).next(y=>this.referenceDelegate.Ms(f).next(()=>y)).toPromise().then(y=>(f.raiseOnCommittedEvent(),y))}Os(e,s){return Qe.or(Object.values(this.Vs).map(c=>()=>c.containsKey(e,s)))}}class iv extends class Ba{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class vh{constructor(e){this.persistence=e,this.Fs=new hm,this.$s=null}static Bs(e){return new vh(e)}get Ls(){if(this.$s)return this.$s;throw fn()}addReference(e,s,c){return this.Fs.addReference(c,s),this.Ls.delete(c.toString()),Qe.resolve()}removeReference(e,s,c){return this.Fs.removeReference(c,s),this.Ls.add(c.toString()),Qe.resolve()}markPotentiallyOrphaned(e,s){return this.Ls.add(s.toString()),Qe.resolve()}removeTarget(e,s){this.Fs.ls(s.targetId).forEach(f=>this.Ls.add(f.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,s.targetId).next(f=>{f.forEach(y=>this.Ls.add(y.toString()))}).next(()=>c.removeTargetData(e,s))}ks(){this.$s=new Set}Ms(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Ls,c=>{const f=Zt.fromPath(c);return this.Us(e,f).next(y=>{y||s.removeEntry(f,Sn.min())})}).next(()=>(this.$s=null,s.apply(e)))}updateLimboDocument(e,s){return this.Us(e,s).next(c=>{c?this.Ls.delete(s.toString()):this.Ls.add(s.toString())})}xs(e){return 0}Us(e,s){return Qe.or([()=>Qe.resolve(this.Fs.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Os(e,s)])}}class pm{constructor(e,s,c,f){this.targetId=e,this.fromCache=s,this.Si=c,this.Di=f}static Ci(e,s){let c=er(),f=er();for(const y of s.docChanges)switch(y.type){case 0:c=c.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}return new pm(e,s.fromCache,c,f)}}class Ff{constructor(){this.xi=!1}initialize(e,s){this.Ni=e,this.indexManager=s,this.xi=!0}getDocumentsMatchingQuery(e,s,c,f){return this.ki(e,s).next(y=>y||this.Mi(e,s,f,c)).next(y=>y||this.Oi(e,s))}ki(e,s){if(ln(s))return Qe.resolve(null);let c=Si(s);return this.indexManager.getIndexType(e,c).next(f=>0===f?null:(null!==s.limit&&1===f&&(s=Wl(s,null,"F"),c=Si(s)),this.indexManager.getDocumentsMatchingTarget(e,c).next(y=>{const w=er(...y);return this.Ni.getDocuments(e,w).next(k=>this.indexManager.getMinOffset(e,c).next(V=>{const G=this.Fi(s,k);return this.$i(s,G,w,V.readTime)?this.ki(e,Wl(s,null,"F")):this.Bi(e,G,s,V)}))})))}Mi(e,s,c,f){return ln(s)||f.isEqual(Sn.min())?this.Oi(e,s):this.Ni.getDocuments(e,c).next(y=>{const w=this.Fi(s,y);return this.$i(s,w,c,f)?this.Oi(e,s):(Fc()<=oe.in.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),ca(s)),this.Bi(e,w,s,function gl(l,e){const s=l.toTimestamp().seconds,c=l.toTimestamp().nanoseconds+1,f=Sn.fromTimestamp(1e9===c?new Yr(s+1,0):new Yr(s,c));return new Zs(f,Zt.empty(),e)}(f,-1)))})}Fi(e,s){let c=new or(Du(e));return s.forEach((f,y)=>{ql(e,y)&&(c=c.add(y))}),c}$i(e,s,c,f){if(null===e.limit)return!1;if(c.size!==s.size)return!0;const y="F"===e.limitType?s.last():s.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(f)>0)}Oi(e,s){return Fc()<=oe.in.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",ca(s)),this.Ni.getDocumentsMatchingQuery(e,s,Zs.min())}Bi(e,s,c,f){return this.Ni.getDocumentsMatchingQuery(e,c,f).next(y=>(s.forEach(w=>{y=y.insert(w.key,w)}),y))}}class wh{constructor(e,s,c,f){this.persistence=e,this.Li=s,this.It=f,this.Ui=new fi(Ln),this.qi=new Yl(y=>eo(y),vl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(c)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.Ui))}}function Ch(l,e){return ld.apply(this,arguments)}function ld(){return ld=(0,Je.Z)(function*(l,e){const s=an(l);return yield s.persistence.runTransaction("Handle user change","readonly",c=>{let f;return s.mutationQueue.getAllMutationBatches(c).next(y=>(f=y,s.Qi(e),s.mutationQueue.getAllMutationBatches(c))).next(y=>{const w=[],k=[];let V=er();for(const G of f){w.push(G.batchId);for(const Y of G.mutations)V=V.add(Y.key)}for(const G of y){k.push(G.batchId);for(const Y of G.mutations)V=V.add(Y.key)}return s.localDocuments.getDocuments(c,V).next(G=>({ji:G,removedBatchIds:w,addedBatchIds:k}))})})}),ld.apply(this,arguments)}function ud(l,e){const s=an(l);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const f=e.batch.keys(),y=s.Gi.newChangeBuffer({trackRemovals:!0});return function(w,k,V,G){const Y=V.batch,fe=Y.keys();let Ye=Qe.resolve();return fe.forEach(gt=>{Ye=Ye.next(()=>G.getEntry(k,gt)).next(vt=>{const tn=V.docVersions.get(gt);xn(null!==tn),vt.version.compareTo(tn)<0&&(Y.applyToRemoteDocument(vt,V),vt.isValidDocument()&&(vt.setReadTime(V.commitVersion),G.addEntry(vt)))})}),Ye.next(()=>w.mutationQueue.removeMutationBatch(k,Y))}(s,c,e,y).next(()=>y.apply(c)).next(()=>s.mutationQueue.performConsistencyCheck(c)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(c,f,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(w){let k=er();for(let V=0;V<w.mutationResults.length;++V)w.mutationResults[V].transformResults.length>0&&(k=k.add(w.batch.mutations[V].key));return k}(e))).next(()=>s.localDocuments.getDocuments(c,f))})}function o_(l){const e=an(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Cs.getLastRemoteSnapshotVersion(s))}function mm(l,e){const s=an(l),c=e.snapshotVersion;let f=s.Ui;return s.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const w=s.Gi.newChangeBuffer({trackRemovals:!0});f=s.Ui;const k=[];e.targetChanges.forEach((Y,fe)=>{const Ye=f.get(fe);if(!Ye)return;k.push(s.Cs.removeMatchingKeys(y,Y.removedDocuments,fe).next(()=>s.Cs.addMatchingKeys(y,Y.addedDocuments,fe)));let gt=Ye.withSequenceNumber(y.currentSequenceNumber);var vt,tn,mn;e.targetMismatches.has(fe)?gt=gt.withResumeToken(ii.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):Y.resumeToken.approximateByteSize()>0&&(gt=gt.withResumeToken(Y.resumeToken,c)),f=f.insert(fe,gt),tn=gt,mn=Y,(0===(vt=Ye).resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-vt.snapshotVersion.toMicroseconds()>=3e8||mn.addedDocuments.size+mn.modifiedDocuments.size+mn.removedDocuments.size>0)&&k.push(s.Cs.updateTargetData(y,gt))});let V=bo(),G=er();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&k.push(s.persistence.referenceDelegate.updateLimboDocument(y,Y))}),k.push(function Lf(l,e,s){let c=er(),f=er();return s.forEach(y=>c=c.add(y)),e.getEntries(l,c).next(y=>{let w=bo();return s.forEach((k,V)=>{const G=y.get(k);V.isFoundDocument()!==G.isFoundDocument()&&(f=f.add(k)),V.isNoDocument()&&V.version.isEqual(Sn.min())?(e.removeEntry(k,V.readTime),w=w.insert(k,V)):!G.isValidDocument()||V.version.compareTo(G.version)>0||0===V.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(V),w=w.insert(k,V)):Dt("LocalStore","Ignoring outdated watch update for ",k,". Current version:",G.version," Watch version:",V.version)}),{Wi:w,zi:f}})}(y,w,e.documentUpdates).next(Y=>{V=Y.Wi,G=Y.zi})),!c.isEqual(Sn.min())){const Y=s.Cs.getLastRemoteSnapshotVersion(y).next(fe=>s.Cs.setTargetsMetadata(y,y.currentSequenceNumber,c));k.push(Y)}return Qe.waitFor(k).next(()=>w.apply(y)).next(()=>s.localDocuments.getLocalViewOfDocuments(y,V,G)).next(()=>V)}).then(y=>(s.Ui=f,y))}function a_(l,e){const s=an(l);return s.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===e&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function cd(l,e){const s=an(l);return s.persistence.runTransaction("Allocate target","readwrite",c=>{let f;return s.Cs.getTargetData(c,e).next(y=>y?(f=y,Qe.resolve(f)):s.Cs.allocateTargetId(c).next(w=>(f=new Dl(e,w,0,c.currentSequenceNumber),s.Cs.addTargetData(c,f).next(()=>f))))}).then(c=>{const f=s.Ui.get(c.targetId);return(null===f||c.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(s.Ui=s.Ui.insert(c.targetId,c),s.qi.set(e,c.targetId)),c})}function gc(l,e,s){return dd.apply(this,arguments)}function dd(){return dd=(0,Je.Z)(function*(l,e,s){const c=an(l),f=c.Ui.get(e),y=s?"readwrite":"readwrite-primary";try{s||(yield c.persistence.runTransaction("Release target",y,w=>c.persistence.referenceDelegate.removeTarget(w,f)))}catch(w){if(!ko(w))throw w;Dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}c.Ui=c.Ui.remove(e),c.qi.delete(f.target)}),dd.apply(this,arguments)}function hd(l,e,s){const c=an(l);let f=Sn.min(),y=er();return c.persistence.runTransaction("Execute query","readonly",w=>function(k,V,G){const Y=an(k),fe=Y.qi.get(G);return void 0!==fe?Qe.resolve(Y.Ui.get(fe)):Y.Cs.getTargetData(V,G)}(c,w,Si(e)).next(k=>{if(k)return f=k.lastLimboFreeSnapshotVersion,c.Cs.getMatchingKeysForTargetId(w,k.targetId).next(V=>{y=V})}).next(()=>c.Li.getDocumentsMatchingQuery(w,e,s?f:Sn.min(),s?y:er())).next(k=>(function Ml(l,e,s){let c=Sn.min();s.forEach((f,y)=>{y.readTime.compareTo(c)>0&&(c=y.readTime)}),l.Ki.set(e,c)}(c,function bl(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}(e),k),{documents:k,Hi:y})))}class bm{constructor(){this.activeTargetIds=Kp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sv{constructor(){this.Lr=new bm,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,c){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,s,c){this.Ur[e]=s}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bm,Promise.resolve()}handleUserChange(e,s,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wm{qr(e){}shutdown(){}}class c_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ov={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class d_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class yc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,s,c,f,y){const w=this.ao(e,s);Dt("RestConnection","Sending: ",w,c);const k={};return this.ho(k,f,y),this.lo(e,w,k,c).then(V=>(Dt("RestConnection","Received: ",V),V),V=>{throw yo("RestConnection",`${e} failed with error: `,V,"url: ",w,"request:",c),V})}fo(e,s,c,f,y,w){return this.co(e,s,c,f,y)}ho(e,s,c){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ro,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,y)=>e[y]=f),c&&c.headers.forEach((f,y)=>e[y]=f)}ao(e,s){return`${this.oo}/v1/${s}:${ov[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,s,c,f){return new Promise((y,w)=>{const k=new uf;k.listenOnce(Dg.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case yu.NO_ERROR:const G=k.getResponseJson();Dt("Connection","XHR received:",JSON.stringify(G)),y(G);break;case yu.TIMEOUT:Dt("Connection",'RPC "'+e+'" timed out'),w(new kt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case yu.HTTP_ERROR:const Y=k.getStatus();if(Dt("Connection",'RPC "'+e+'" failed with status:',Y,"response text:",k.getResponseText()),Y>0){const fe=k.getResponseJson().error;if(fe&&fe.status&&fe.message){const Ye=function(gt){const vt=gt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(vt)>=0?vt:nt.UNKNOWN}(fe.status);w(new kt(Ye,fe.message))}else w(new kt(nt.UNKNOWN,"Server responded with status "+k.getStatus()))}else w(new kt(nt.UNAVAILABLE,"Connection failed."));break;default:fn()}}finally{Dt("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(f);k.send(s,"POST",V,c,15)})}_o(e,s,c){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=lf(),w=Zu(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(k.xmlHttpFactory=new Fd({})),this.ho(k.initMessageHeaders,s,c),k.encodeInitMessageHeaders=!0;const V=f.join("");Dt("Connection","Creating WebChannel: "+V,k);const G=y.createWebChannel(V,k);let Y=!1,fe=!1;const Ye=new d_({Hr:vt=>{fe?Dt("Connection","Not sending because WebChannel is closed:",vt):(Y||(Dt("Connection","Opening WebChannel transport."),G.open(),Y=!0),Dt("Connection","WebChannel sending:",vt),G.send(vt))},Jr:()=>G.close()}),gt=(vt,tn,mn)=>{vt.listen(tn,jr=>{try{mn(jr)}catch(Xr){setTimeout(()=>{throw Xr},0)}})};return gt(G,pl.EventType.OPEN,()=>{fe||Dt("Connection","WebChannel transport opened.")}),gt(G,pl.EventType.CLOSE,()=>{fe||(fe=!0,Dt("Connection","WebChannel transport closed"),Ye.io())}),gt(G,pl.EventType.ERROR,vt=>{fe||(fe=!0,yo("Connection","WebChannel transport errored:",vt),Ye.io(new kt(nt.UNAVAILABLE,"The operation could not be completed")))}),gt(G,pl.EventType.MESSAGE,vt=>{var tn;if(!fe){const mn=vt.data[0];xn(!!mn);const jr=mn,Xr=jr.error||(null===(tn=jr[0])||void 0===tn?void 0:tn.error);if(Xr){Dt("Connection","WebChannel received error:",Xr);const ai=Xr.status;let ss=function(ei){const ys=gi[ei];if(void 0!==ys)return th(ys)}(ai),zr=Xr.message;void 0===ss&&(ss=nt.INTERNAL,zr="Unknown error status: "+ai+" with message "+Xr.message),fe=!0,Ye.io(new kt(ss,zr)),G.close()}else Dt("Connection","WebChannel received:",mn),Ye.ro(mn)}}),gt(w,Pd.STAT_EVENT,vt=>{vt.stat===Yu.PROXY?Dt("Connection","Detected buffering proxy"):vt.stat===Yu.NOPROXY&&Dt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ye.so()},0),Ye}}function xl(){return"undefined"!=typeof document?document:null}function Ah(l){return new jy(l,!0)}class vc{constructor(e,s,c=1e3,f=1.5,y=6e4){this.Hs=e,this.timerId=s,this.wo=c,this.mo=f,this.yo=y,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const s=Math.floor(this.po+this.Ro()),c=Math.max(0,Date.now()-this.To),f=Math.max(0,s-c);f>0&&Dt("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.po} ms, delay with jitter: ${s} ms, last attempt: ${c} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class av{constructor(e,s,c,f,y,w,k,V){this.Hs=e,this.Po=c,this.vo=f,this.Vo=y,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=k,this.listener=V,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new vc(e,s)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Je.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Je.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,s){var c=this;return(0,Je.Z)(function*(){c.Lo(),c.Uo(),c.xo.cancel(),c.So++,4!==e?c.xo.reset():s&&s.code===nt.RESOURCE_EXHAUSTED?(ci(s.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),c.xo.Eo()):s&&s.code===nt.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.qo(),c.stream.close(),c.stream=null),c.state=e,yield c.listener.Zr(s)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),s=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,f])=>{this.So===s&&this.Go(c,f)},c=>{e(()=>{const f=new kt(nt.UNKNOWN,"Fetching auth token failed: "+c.message);return this.Qo(f)})})}Go(e,s){const c=this.Ko(this.So);this.stream=this.jo(e,s),this.stream.Yr(()=>{c(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{c(()=>this.Qo(f))}),this.stream.onMessage(f=>{c(()=>this.onMessage(f))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Je.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return s=>{this.Hs.enqueueAndForget(()=>this.So===e?s():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bc extends av{constructor(e,s,c,f,y,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,c,f,w),this.It=y}jo(e,s){return this.Vo._o("Listen",e,s)}onMessage(e){this.xo.reset();const s=function eu(l,e){let s;if("targetChange"in e){const c="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:fn(),f=e.targetChange.targetIds||[],y=function(V,G){return V.gt?(xn(void 0===G||"string"==typeof G),ii.fromBase64String(G||"")):(xn(void 0===G||G instanceof Uint8Array),ii.fromUint8Array(G||new Uint8Array))}(l,e.targetChange.resumeToken),w=e.targetChange.cause,k=w&&function(V){const G=void 0===V.code?nt.UNKNOWN:th(V.code);return new kt(G,V.message||"")}(w);s=new rs(c,f,y,k||null)}else if("documentChange"in e){const c=e.documentChange,f=Eo(l,c.document.name),y=Ki(c.document.updateTime),w=new si({mapValue:{fields:c.document.fields}}),k=Rr.newFoundDocument(f,y,w);s=new ih(c.targetIds||[],c.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const c=e.documentDelete,f=Eo(l,c.document),y=c.readTime?Ki(c.readTime):Sn.min(),w=Rr.newNoDocument(f,y);s=new ih([],c.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const c=e.documentRemove,f=Eo(l,c.document);s=new ih([],c.removedTargetIds||[],f,null)}else{if(!("filter"in e))return fn();{const c=e.filter,y=new kg(c.count||0);s=new Su(c.targetId,y)}}var V;return s}(this.It,e),c=function(f){if(!("targetChange"in f))return Sn.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?Sn.min():y.readTime?Ki(y.readTime):Sn.min()}(e);return this.listener.Wo(s,c)}zo(e){const s={};s.database=sc(this.It),s.addTarget=function(f,y){let w;const k=y.target;return w=nc(k)?{documents:ah(f,k)}:{query:If(f,k)},w.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?w.resumeToken=Fg(f,y.resumeToken):y.snapshotVersion.compareTo(Sn.min())>0&&(w.readTime=Mu(f,y.snapshotVersion.toTimestamp())),w}(this.It,e);const c=function Xp(l,e){const s=function(c,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fn()}}(0,e.purpose);return null==s?null:{"goog-listen-tags":s}}(0,e);c&&(s.labels=c),this.Bo(s)}Ho(e){const s={};s.database=sc(this.It),s.removeTarget=e,this.Bo(s)}}class Kb extends av{constructor(e,s,c,f,y,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,c,f,w),this.It=y,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,s){return this.Vo._o("Write",e,s)}onMessage(e){if(xn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const s=function Jp(l,e){return l&&l.length>0?(xn(void 0!==e),l.map(s=>function(c,f){let y=Ki(c.updateTime?c.updateTime:f);return y.isEqual(Sn.min())&&(y=Ki(f)),new Ly(y,c.transformResults||[])}(s,e))):[]}(e.writeResults,e.commitTime),c=Ki(e.commitTime);return this.listener.Zo(c,s)}return xn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=sc(this.It),this.Bo(e)}Xo(e){const s={streamToken:this.lastStreamToken,writes:e.map(c=>function oh(l,e){let s;if(e instanceof vf)s={update:qa(l,e.key,e.value)};else if(e instanceof Au)s={delete:Jc(l,e.key)};else if(e instanceof Zl)s={update:qa(l,e.key,e.data),updateMask:Ug(e.fieldMask)};else{if(!(e instanceof Wp))return fn();s={verify:Jc(l,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(c=>function(f,y){const w=y.transform;if(w instanceof Kc)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof El)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Zc)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Qd)return{fieldPath:y.field.canonicalString(),increment:w.yt};throw fn()}(0,c))),e.precondition.isNone||(s.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:sh(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:fn()),s;var f}(this.It,c))};this.Bo(s)}}class Cm extends class{}{constructor(e,s,c,f){super(),this.authCredentials=e,this.appCheckCredentials=s,this.Vo=c,this.It=f,this.nu=!1}su(){if(this.nu)throw new kt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,s,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.Vo.co(e,s,c,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new kt(nt.UNKNOWN,f.toString())})}fo(e,s,c,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,w])=>this.Vo.fo(e,s,c,y,w,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new kt(nt.UNKNOWN,y.toString())})}terminate(){this.nu=!0}}class Rs{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const s=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ci(s),this.ou=!1):Dt("OnlineStateTracker",s)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class h_{constructor(e,s,c,f,y){var w=this;this.localStore=e,this.datastore=s,this.asyncQueue=c,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=y,this.mu.qr(k=>{c.enqueueAndForget((0,Je.Z)(function*(){var V;Ja(w)&&(Dt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,Je.Z)(function*(G){const Y=an(G);Y._u.add(4),yield Ru(Y),Y.gu.set("Unknown"),Y._u.delete(4),yield Qa(Y)}),function(G){return V.apply(this,arguments)})(w))}))}),this.gu=new Rs(c,f)}}function Qa(l){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,Je.Z)(function*(l){if(Ja(l))for(const e of l.wu)yield e(!0)}),Sh.apply(this,arguments)}function Ru(l){return ku.apply(this,arguments)}function ku(){return ku=(0,Je.Z)(function*(l){for(const e of l.wu)yield e(!1)}),ku.apply(this,arguments)}function Uf(l,e){const s=an(l);s.du.has(e.targetId)||(s.du.set(e.targetId,e),lv(s)?Im(s):Xa(s).ko()&&pd(s,e))}function su(l,e){const s=an(l),c=Xa(s);s.du.delete(e),c.ko()&&Nu(s,e),0===s.du.size&&(c.ko()?c.Fo():Ja(s)&&s.gu.set("Unknown"))}function pd(l,e){l.yu.Ot(e.targetId),Xa(l).zo(e)}function Nu(l,e){l.yu.Ot(e),Xa(l).Ho(e)}function Im(l){l.yu=new wf({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),se:e=>l.du.get(e)||null}),Xa(l).start(),l.gu.uu()}function lv(l){return Ja(l)&&!Xa(l).No()&&l.du.size>0}function Ja(l){return 0===an(l)._u.size}function f_(l){l.yu=void 0}function uv(l){return cv.apply(this,arguments)}function cv(){return cv=(0,Je.Z)(function*(l){l.du.forEach((e,s)=>{pd(l,e)})}),cv.apply(this,arguments)}function jf(l,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,Je.Z)(function*(l,e){f_(l),lv(l)?(l.gu.hu(e),Im(l)):l.gu.set("Unknown")}),Mh.apply(this,arguments)}function dv(l,e,s){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,Je.Z)(function*(l,e,s){if(l.gu.set("Online"),e instanceof rs&&2===e.state&&e.cause)try{yield(c=(0,Je.Z)(function*(f,y){const w=y.cause;for(const k of y.targetIds)f.du.has(k)&&(yield f.remoteSyncer.rejectListen(k,w),f.du.delete(k),f.yu.removeTarget(k))}),function(f,y){return c.apply(this,arguments)})(l,e)}catch(c){Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),yield xh(l,c)}else if(e instanceof ih?l.yu.Gt(e):e instanceof Su?l.yu.Yt(e):l.yu.Wt(e),!s.isEqual(Sn.min()))try{const c=yield o_(l.localStore);s.compareTo(c)>=0&&(yield function(f,y){const w=f.yu.te(y);return w.targetChanges.forEach((k,V)=>{if(k.resumeToken.approximateByteSize()>0){const G=f.du.get(V);G&&f.du.set(V,G.withResumeToken(k.resumeToken,y))}}),w.targetMismatches.forEach(k=>{const V=f.du.get(k);if(!V)return;f.du.set(k,V.withResumeToken(ii.EMPTY_BYTE_STRING,V.snapshotVersion)),Nu(f,k);const G=new Dl(V.target,k,1,V.sequenceNumber);pd(f,G)}),f.remoteSyncer.applyRemoteEvent(w)}(l,s))}catch(c){Dt("RemoteStore","Failed to raise snapshot:",c),yield xh(l,c)}var c}),Hf.apply(this,arguments)}function xh(l,e,s){return p_.apply(this,arguments)}function p_(){return p_=(0,Je.Z)(function*(l,e,s){if(!ko(e))throw e;l._u.add(1),yield Ru(l),l.gu.set("Offline"),s||(s=()=>o_(l.localStore)),l.asyncQueue.enqueueRetryable((0,Je.Z)(function*(){Dt("RemoteStore","Retrying IndexedDB access"),yield s(),l._u.delete(1),yield Qa(l)}))}),p_.apply(this,arguments)}function va(l,e){return e().catch(s=>xh(l,s,e))}function $f(l){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Je.Z)(function*(l){const e=an(l),s=Pu(e);let c=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Dm(e);)try{const f=yield a_(e.localStore,c);if(null===f){0===e.fu.length&&s.Fo();break}c=f.batchId,m_(e,f)}catch(f){yield xh(e,f)}ou(e)&&md(e)}),Tm.apply(this,arguments)}function Dm(l){return Ja(l)&&l.fu.length<10}function m_(l,e){l.fu.push(e);const s=Pu(l);s.ko()&&s.Yo&&s.Xo(e.mutations)}function ou(l){return Ja(l)&&!Pu(l).No()&&l.fu.length>0}function md(l){Pu(l).start()}function xE(l){return Am.apply(this,arguments)}function Am(){return Am=(0,Je.Z)(function*(l){Pu(l).eu()}),Am.apply(this,arguments)}function g_(l){return __.apply(this,arguments)}function __(){return __=(0,Je.Z)(function*(l){const e=Pu(l);for(const s of l.fu)e.Xo(s.mutations)}),__.apply(this,arguments)}function y_(l,e,s){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,Je.Z)(function*(l,e,s){const c=l.fu.shift(),f=Wg.from(c,e,s);yield va(l,()=>l.remoteSyncer.applySuccessfulWrite(f)),yield $f(l)}),Sm.apply(this,arguments)}function hv(l,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Je.Z)(function*(l,e){var s;e&&Pu(l).Yo&&(yield(s=(0,Je.Z)(function*(c,f){if(qp(y=f.code)&&y!==nt.ABORTED){const w=c.fu.shift();Pu(c).Oo(),yield va(c,()=>c.remoteSyncer.rejectFailedWrite(w.batchId,f)),yield $f(c)}var y}),function(c,f){return s.apply(this,arguments)})(l,e)),ou(l)&&md(l)}),Mm.apply(this,arguments)}function fv(l,e){return v_.apply(this,arguments)}function v_(){return v_=(0,Je.Z)(function*(l,e){const s=an(l);s.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const c=Ja(s);s._u.add(3),yield Ru(s),c&&s.gu.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(e),s._u.delete(3),yield Qa(s)}),v_.apply(this,arguments)}function Oh(){return Oh=(0,Je.Z)(function*(l,e){const s=an(l);e?(s._u.delete(2),yield Qa(s)):e||(s._u.add(2),yield Ru(s),s.gu.set("Unknown"))}),Oh.apply(this,arguments)}function Xa(l){return l.pu||(l.pu=function(e,s,c){const f=an(e);return f.su(),new bc(s,f.Vo,f.authCredentials,f.appCheckCredentials,f.It,c)}(l.datastore,l.asyncQueue,{Yr:uv.bind(null,l),Zr:jf.bind(null,l),Wo:dv.bind(null,l)}),l.wu.push(function(){var e=(0,Je.Z)(function*(s){s?(l.pu.Oo(),lv(l)?Im(l):l.gu.set("Unknown")):(yield l.pu.stop(),f_(l))});return function(s){return e.apply(this,arguments)}}())),l.pu}function Pu(l){return l.Iu||(l.Iu=function(e,s,c){const f=an(e);return f.su(),new Kb(s,f.Vo,f.authCredentials,f.appCheckCredentials,f.It,c)}(l.datastore,l.asyncQueue,{Yr:xE.bind(null,l),Zr:hv.bind(null,l),tu:g_.bind(null,l),Zo:y_.bind(null,l)}),l.wu.push(function(){var e=(0,Je.Z)(function*(s){s?(l.Iu.Oo(),yield $f(l)):(yield l.Iu.stop(),l.fu.length>0&&(Dt("RemoteStore",`Stopping write stream with ${l.fu.length} pending writes`),l.fu=[]))});return function(s){return e.apply(this,arguments)}}())),l.Iu}class Ec{constructor(e,s,c,f,y){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=c,this.op=f,this.removalCallback=y,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,s,c,f,y){const w=Date.now()+c,k=new Ec(e,s,w,f,y);return k.start(c),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gd(l,e){if(ci("AsyncQueue",`${e}: ${l}`),ko(l))return new kt(nt.UNAVAILABLE,`${e}: ${l}`);throw l}class _d{constructor(e){this.comparator=e?(s,c)=>e(s,c)||Zt.comparator(s.key,c.key):(s,c)=>Zt.comparator(s.key,c.key),this.keyedMap=Qc(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new _d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,c)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof _d)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;s.hasNext();){const f=s.getNext().key,y=c.getNext().key;if(!f.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,s){const c=new _d;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=s,c}}class Gf{constructor(){this.Tu=new fi(Zt.comparator)}track(e){const s=e.doc.key,c=this.Tu.get(s);c?0!==e.type&&3===c.type?this.Tu=this.Tu.insert(s,e):3===e.type&&1!==c.type?this.Tu=this.Tu.insert(s,{type:c.type,doc:e.doc}):2===e.type&&2===c.type?this.Tu=this.Tu.insert(s,{type:2,doc:e.doc}):2===e.type&&0===c.type?this.Tu=this.Tu.insert(s,{type:0,doc:e.doc}):1===e.type&&0===c.type?this.Tu=this.Tu.remove(s):1===e.type&&2===c.type?this.Tu=this.Tu.insert(s,{type:1,doc:c.doc}):0===e.type&&1===c.type?this.Tu=this.Tu.insert(s,{type:2,doc:e.doc}):fn():this.Tu=this.Tu.insert(s,e)}Eu(){const e=[];return this.Tu.inorderTraversal((s,c)=>{e.push(c)}),e}}class io{constructor(e,s,c,f,y,w,k,V){this.query=e,this.docs=s,this.oldDocs=c,this.docChanges=f,this.mutatedKeys=y,this.fromCache=w,this.syncStateChanged=k,this.excludesMetadataChanges=V}static fromInitialDocuments(e,s,c,f){const y=[];return s.forEach(w=>{y.push({type:0,doc:w})}),new io(e,s,_d.emptySet(s),y,c,f,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,c=e.docChanges;if(s.length!==c.length)return!1;for(let f=0;f<s.length;f++)if(s[f].type!==c[f].type||!s[f].doc.isEqual(c[f].doc))return!1;return!0}}class Rh{constructor(){this.Au=void 0,this.listeners=[]}}class so{constructor(){this.queries=new Yl(e=>gf(e),ic),this.onlineState="Unknown",this.Ru=new Set}}function kh(){return kh=(0,Je.Z)(function*(l,e){const s=an(l),c=e.query;let f=!1,y=s.queries.get(c);if(y||(f=!0,y=new Rh),f)try{y.Au=yield s.onListen(c)}catch(w){const k=gd(w,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(k)}s.queries.set(c,y),y.listeners.push(e),e.bu(s.onlineState),y.Au&&e.Pu(y.Au)&&wc(s)}),kh.apply(this,arguments)}function zf(){return zf=(0,Je.Z)(function*(l,e){const s=an(l),c=e.query;let f=!1;const y=s.queries.get(c);if(y){const w=y.listeners.indexOf(e);w>=0&&(y.listeners.splice(w,1),f=0===y.listeners.length)}if(f)return s.queries.delete(c),s.onUnlisten(c)}),zf.apply(this,arguments)}function Nh(l,e){const s=an(l);let c=!1;for(const f of e){const w=s.queries.get(f.query);if(w){for(const k of w.listeners)k.Pu(f)&&(c=!0);w.Au=f}}c&&wc(s)}function Ph(l,e,s){const c=an(l),f=c.queries.get(e);if(f)for(const y of f.listeners)y.onError(s);c.queries.delete(e)}function wc(l){l.Ru.forEach(e=>{e.next()})}class Cc{constructor(e,s,c){this.query=e,this.vu=s,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=c||{}}Pu(e){if(!this.options.includeMetadataChanges){const c=[];for(const f of e.docChanges)3!==f.type&&c.push(f);e=new io(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let s=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),s=!0):this.Cu(e,this.onlineState)&&(this.xu(e),s=!0),this.Su=e,s}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let s=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),s=!0),s}Cu(e,s){return!e.fromCache||!(this.options.Nu&&"Offline"!==s||e.docs.isEmpty()&&"Offline"!==s)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class bd{constructor(e){this.key=e}}class E_{constructor(e){this.key=e}}class w_{constructor(e,s){this.query=e,this.Lu=s,this.Uu=null,this.current=!1,this.qu=er(),this.mutatedKeys=er(),this.Ku=Du(e),this.Gu=new _d(this.Ku)}get Qu(){return this.Lu}ju(e,s){const c=s?s.Wu:new Gf,f=s?s.Gu:this.Gu;let y=s?s.mutatedKeys:this.mutatedKeys,w=f,k=!1;const V="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,G="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((Y,fe)=>{const Ye=f.get(Y),gt=ql(this.query,fe)?fe:null,vt=!!Ye&&this.mutatedKeys.has(Ye.key),tn=!!gt&&(gt.hasLocalMutations||this.mutatedKeys.has(gt.key)&&gt.hasCommittedMutations);let mn=!1;Ye&&gt?Ye.data.isEqual(gt.data)?vt!==tn&&(c.track({type:3,doc:gt}),mn=!0):this.zu(Ye,gt)||(c.track({type:2,doc:gt}),mn=!0,(V&&this.Ku(gt,V)>0||G&&this.Ku(gt,G)<0)&&(k=!0)):!Ye&&gt?(c.track({type:0,doc:gt}),mn=!0):Ye&&!gt&&(c.track({type:1,doc:Ye}),mn=!0,(V||G)&&(k=!0)),mn&&(gt?(w=w.add(gt),y=tn?y.add(Y):y.delete(Y)):(w=w.delete(Y),y=y.delete(Y)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const Y="F"===this.query.limitType?w.last():w.first();w=w.delete(Y.key),y=y.delete(Y.key),c.track({type:1,doc:Y})}return{Gu:w,Wu:c,$i:k,mutatedKeys:y}}zu(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,c){const f=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const y=e.Wu.Eu();y.sort((G,Y)=>function(fe,Ye){const gt=vt=>{switch(vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn()}};return gt(fe)-gt(Ye)}(G.type,Y.type)||this.Ku(G.doc,Y.doc)),this.Hu(c);const w=s?this.Ju():[],k=0===this.qu.size&&this.current?1:0,V=k!==this.Uu;return this.Uu=k,0!==y.length||V?{snapshot:new io(this.query,e.Gu,f,y,e.mutatedKeys,0===k,V,!1),Yu:w}:{Yu:w}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Gf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(s=>this.Lu=this.Lu.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Lu=this.Lu.delete(s)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=er(),this.Gu.forEach(c=>{this.Xu(c.key)&&(this.qu=this.qu.add(c.key))});const s=[];return e.forEach(c=>{this.qu.has(c)||s.push(new E_(c))}),this.qu.forEach(c=>{e.has(c)||s.push(new bd(c))}),s}Zu(e){this.Lu=e.Hi,this.qu=er();const s=this.ju(e.documents);return this.applyChanges(s,!0)}tc(){return io.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class pv{constructor(e,s,c){this.query=e,this.targetId=s,this.view=c}}class mv{constructor(e){this.key=e,this.ec=!1}}class gv{constructor(e,s,c,f,y,w){this.localStore=e,this.remoteStore=s,this.eventManager=c,this.sharedClientState=f,this.currentUser=y,this.maxConcurrentLimboResolutions=w,this.nc={},this.sc=new Yl(k=>gf(k),ic),this.ic=new Map,this.rc=new Set,this.oc=new fi(Zt.comparator),this.uc=new Map,this.cc=new hm,this.ac={},this.hc=new Map,this.lc=_a.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function _v(l,e){return xm.apply(this,arguments)}function xm(){return xm=(0,Je.Z)(function*(l,e){const s=Yf(l);let c,f;const y=s.sc.get(e);if(y)c=y.targetId,s.sharedClientState.addLocalQueryTarget(c),f=y.view.tc();else{const w=yield cd(s.localStore,Si(e));s.isPrimaryClient&&Uf(s.remoteStore,w);const k=s.sharedClientState.addLocalQueryTarget(w.targetId);c=w.targetId,f=yield Om(s,e,c,"current"===k)}return f}),xm.apply(this,arguments)}function Om(l,e,s,c){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Je.Z)(function*(l,e,s,c){l.dc=(Y,fe,Ye)=>{return(gt=(0,Je.Z)(function*(vt,tn,mn,jr){let Xr=tn.view.ju(mn);Xr.$i&&(Xr=yield hd(vt.localStore,tn.query,!1).then(({documents:zr})=>tn.view.ju(zr,Xr)));const ai=jr&&jr.targetChanges.get(tn.targetId),ss=tn.view.applyChanges(Xr,vt.isPrimaryClient,ai);return wv(vt,tn.targetId,ss.Yu),ss.snapshot}),function(vt,tn,mn,jr){return gt.apply(this,arguments)})(l,Y,fe,Ye);var gt};const f=yield hd(l.localStore,e,!0),y=new w_(e,f.Hi),w=y.ju(f.documents),k=Wa.createSynthesizedTargetChangeForCurrentChange(s,c&&"Offline"!==l.onlineState),V=y.applyChanges(w,l.isPrimaryClient,k);wv(l,s,V.Yu);const G=new pv(e,s,y);return l.sc.set(e,G),l.ic.has(s)?l.ic.get(s).push(e):l.ic.set(s,[e]),V.snapshot}),Rm.apply(this,arguments)}function Zb(l,e){return km.apply(this,arguments)}function km(){return km=(0,Je.Z)(function*(l,e){const s=an(l),c=s.sc.get(e),f=s.ic.get(c.targetId);if(f.length>1)return s.ic.set(c.targetId,f.filter(y=>!ic(y,e))),void s.sc.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||(yield gc(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),su(s.remoteStore,c.targetId),Kf(s,c.targetId)}).catch(Ys))):(Kf(s,c.targetId),yield gc(s.localStore,c.targetId,!0))}),km.apply(this,arguments)}function Nm(){return Nm=(0,Je.Z)(function*(l,e,s){const c=F_(l);try{const f=yield function(y,w){const k=an(y),V=Yr.now(),G=w.reduce((Ye,gt)=>Ye.add(gt.key),er());let Y,fe;return k.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let gt=bo(),vt=er();return k.Gi.getEntries(Ye,G).next(tn=>{gt=tn,gt.forEach((mn,jr)=>{jr.isValidDocument()||(vt=vt.add(mn))})}).next(()=>k.localDocuments.getOverlayedDocuments(Ye,gt)).next(tn=>{Y=tn;const mn=[];for(const jr of w){const Xr=Kl(jr,Y.get(jr.key).overlayedDocument);null!=Xr&&mn.push(new Zl(jr.key,Xr,Wc(Xr.value.mapValue),wi.exists(!0)))}return k.mutationQueue.addMutationBatch(Ye,V,mn,w)}).next(tn=>{fe=tn;const mn=tn.applyToLocalDocumentSet(Y,vt);return k.documentOverlayCache.saveOverlays(Ye,tn.batchId,mn)})}).then(()=>({batchId:fe.batchId,changes:Ng(Y)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(f.batchId),function(y,w,k){let V=y.ac[y.currentUser.toKey()];V||(V=new fi(Ln)),V=V.insert(w,k),y.ac[y.currentUser.toKey()]=V}(c,f.batchId,s),yield Ic(c,f.changes),yield $f(c.remoteStore)}catch(f){const y=gd(f,"Failed to persist write");s.reject(y)}}),Nm.apply(this,arguments)}function C_(l,e){return I_.apply(this,arguments)}function I_(){return I_=(0,Je.Z)(function*(l,e){const s=an(l);try{const c=yield mm(s.localStore,e);e.targetChanges.forEach((f,y)=>{const w=s.uc.get(y);w&&(xn(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?w.ec=!0:f.modifiedDocuments.size>0?xn(w.ec):f.removedDocuments.size>0&&(xn(w.ec),w.ec=!1))}),yield Ic(s,c,e)}catch(c){yield Ys(c)}}),I_.apply(this,arguments)}function yv(l,e,s){const c=an(l);if(c.isPrimaryClient&&0===s||!c.isPrimaryClient&&1===s){const f=[];c.sc.forEach((y,w)=>{const k=w.view.bu(e);k.snapshot&&f.push(k.snapshot)}),function(y,w){const k=an(y);k.onlineState=w;let V=!1;k.queries.forEach((G,Y)=>{for(const fe of Y.listeners)fe.bu(w)&&(V=!0)}),V&&wc(k)}(c.eventManager,e),f.length&&c.nc.Wo(f),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}function vv(l,e,s){return T_.apply(this,arguments)}function T_(){return T_=(0,Je.Z)(function*(l,e,s){const c=an(l);c.sharedClientState.updateQueryState(e,"rejected",s);const f=c.uc.get(e),y=f&&f.key;if(y){let w=new fi(Zt.comparator);w=w.insert(y,Rr.newNoDocument(y,Sn.min()));const k=er().add(y),V=new rh(Sn.min(),new Map,new or(Ln),w,k);yield C_(c,V),c.oc=c.oc.remove(y),c.uc.delete(e),Zf(c)}else yield gc(c.localStore,e,!1).then(()=>Kf(c,e,s)).catch(Ys)}),T_.apply(this,arguments)}function bv(l,e){return D_.apply(this,arguments)}function D_(){return D_=(0,Je.Z)(function*(l,e){const s=an(l),c=e.batch.batchId;try{const f=yield ud(s.localStore,e);A_(s,c,null),qf(s,c),s.sharedClientState.updateMutationState(c,"acknowledged"),yield Ic(s,f)}catch(f){yield Ys(f)}}),D_.apply(this,arguments)}function Qb(l,e,s){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,Je.Z)(function*(l,e,s){const c=an(l);try{const f=yield function(y,w){const k=an(y);return k.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let G;return k.mutationQueue.lookupMutationBatch(V,w).next(Y=>(xn(null!==Y),G=Y.keys(),k.mutationQueue.removeMutationBatch(V,Y))).next(()=>k.mutationQueue.performConsistencyCheck(V)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(V,G,w)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,G)).next(()=>k.localDocuments.getDocuments(V,G))})}(c.localStore,e);A_(c,e,s),qf(c,e),c.sharedClientState.updateMutationState(e,"rejected",s),yield Ic(c,f)}catch(f){yield Ys(f)}}),Ev.apply(this,arguments)}function qf(l,e){(l.hc.get(e)||[]).forEach(s=>{s.resolve()}),l.hc.delete(e)}function A_(l,e,s){const c=an(l);let f=c.ac[c.currentUser.toKey()];if(f){const y=f.get(e);y&&(s?y.reject(s):y.resolve(),f=f.remove(e)),c.ac[c.currentUser.toKey()]=f}}function Kf(l,e,s=null){l.sharedClientState.removeLocalQueryTarget(e);for(const c of l.ic.get(e))l.sc.delete(c),s&&l.nc._c(c,s);l.ic.delete(e),l.isPrimaryClient&&l.cc.ls(e).forEach(c=>{l.cc.containsKey(c)||Xb(l,c)})}function Xb(l,e){l.rc.delete(e.path.canonicalString());const s=l.oc.get(e);null!==s&&(su(l.remoteStore,s),l.oc=l.oc.remove(e),l.uc.delete(s),Zf(l))}function wv(l,e,s){for(const c of s)c instanceof bd?(l.cc.addReference(c.key,e),e0(l,c)):c instanceof E_?(Dt("SyncEngine","Document no longer in limbo: "+c.key),l.cc.removeReference(c.key,e),l.cc.containsKey(c.key)||Xb(l,c.key)):fn()}function e0(l,e){const s=e.key,c=s.path.canonicalString();l.oc.get(s)||l.rc.has(c)||(Dt("SyncEngine","New document in limbo: "+s),l.rc.add(c),Zf(l))}function Zf(l){for(;l.rc.size>0&&l.oc.size<l.maxConcurrentLimboResolutions;){const e=l.rc.values().next().value;l.rc.delete(e);const s=new Zt(tr.fromString(e)),c=l.lc.next();l.uc.set(c,new mv(s)),l.oc=l.oc.insert(s,c),Uf(l.remoteStore,new Dl(Si(Nt(s.path)),c,2,Ss.at))}}function Ic(l,e,s){return S_.apply(this,arguments)}function S_(){return S_=(0,Je.Z)(function*(l,e,s){const c=an(l),f=[],y=[],w=[];var k;c.sc.isEmpty()||(c.sc.forEach((k,V)=>{w.push(c.dc(V,e,s).then(G=>{if(G){c.isPrimaryClient&&c.sharedClientState.updateQueryState(V.targetId,G.fromCache?"not-current":"current"),f.push(G);const Y=pm.Ci(V.targetId,G);y.push(Y)}}))}),yield Promise.all(w),c.nc.Wo(f),yield(k=(0,Je.Z)(function*(V,G){const Y=an(V);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",fe=>Qe.forEach(G,Ye=>Qe.forEach(Ye.Si,gt=>Y.persistence.referenceDelegate.addReference(fe,Ye.targetId,gt)).next(()=>Qe.forEach(Ye.Di,gt=>Y.persistence.referenceDelegate.removeReference(fe,Ye.targetId,gt)))))}catch(fe){if(!ko(fe))throw fe;Dt("LocalStore","Failed to update sequence numbers: "+fe)}for(const fe of G){const Ye=fe.targetId;if(!fe.fromCache){const gt=Y.Ui.get(Ye),tn=gt.withLastLimboFreeSnapshotVersion(gt.snapshotVersion);Y.Ui=Y.Ui.insert(Ye,tn)}}}),function(V,G){return k.apply(this,arguments)})(c.localStore,y))}),S_.apply(this,arguments)}function Vh(l,e){return M_.apply(this,arguments)}function M_(){return M_=(0,Je.Z)(function*(l,e){const s=an(l);if(!s.currentUser.isEqual(e)){Dt("SyncEngine","User change. New user:",e.toKey());const c=yield Ch(s.localStore,e);s.currentUser=e,(f=s).hc.forEach(w=>{w.forEach(k=>{k.reject(new kt(nt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.hc.clear(),s.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),yield Ic(s,c.ji)}var f}),M_.apply(this,arguments)}function Cv(l,e){const s=an(l),c=s.uc.get(e);if(c&&c.ec)return er().add(c.key);{let f=er();const y=s.ic.get(e);if(!y)return f;for(const w of y){const k=s.sc.get(w);f=f.unionWith(k.view.Qu)}return f}}function Yf(l){const e=an(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=C_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vv.bind(null,e),e.nc.Wo=Nh.bind(null,e.eventManager),e.nc._c=Ph.bind(null,e.eventManager),e}function F_(l){const e=an(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qb.bind(null,e),e}class Qf{constructor(){this.synchronizeTabs=!1}initialize(e){var s=this;return(0,Je.Z)(function*(){s.It=Ah(e.databaseInfo.databaseId),s.sharedClientState=s.mc(e),s.persistence=s.gc(e),yield s.persistence.start(),s.localStore=s.yc(e),s.gcScheduler=s.Ic(e,s.localStore),s.indexBackfillerScheduler=s.Tc(e,s.localStore)})()}Ic(e,s){return null}Tc(e,s){return null}yc(e){return function s_(l,e,s,c){return new wh(l,e,s,c)}(this.persistence,new Ff,e.initialUser,this.It)}gc(e){return new yh(vh.Bs,this.It)}mc(e){return new sv}terminate(){var e=this;return(0,Je.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jf{initialize(e,s){var c=this;return(0,Je.Z)(function*(){c.localStore||(c.localStore=e.localStore,c.sharedClientState=e.sharedClientState,c.datastore=c.createDatastore(s),c.remoteStore=c.createRemoteStore(s),c.eventManager=c.createEventManager(s),c.syncEngine=c.createSyncEngine(s,!e.synchronizeTabs),c.sharedClientState.onlineStateHandler=f=>yv(c.syncEngine,f,1),c.remoteStore.remoteSyncer.handleCredentialChange=Vh.bind(null,c.syncEngine),yield function b_(l,e){return Oh.apply(this,arguments)}(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(e){return new so}createDatastore(e){const s=Ah(e.databaseInfo.databaseId),c=new yc(e.databaseInfo);return new Cm(e.authCredentials,e.appCheckCredentials,c,s)}createRemoteStore(e){return s=this.localStore,c=this.datastore,f=e.asyncQueue,y=k=>yv(this.syncEngine,k,0),w=c_.C()?new c_:new wm,new h_(s,c,f,y,w);var s,c,f,y,w}createSyncEngine(e,s){return function(c,f,y,w,k,V,G){const Y=new gv(c,f,y,w,k,V);return G&&(Y.fc=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}terminate(){return(e=(0,Je.Z)(function*(s){const c=an(s);Dt("RemoteStore","RemoteStore shutting down."),c._u.add(5),yield Ru(c),c.mu.shutdown(),c.gu.set("Unknown")}),function(s){return e.apply(this,arguments)})(this.remoteStore);var e}}class Bh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,s){this.muted||setTimeout(()=>{this.muted||e(s)},0)}}class s0{constructor(e,s,c,f){var y=this;this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=c,this.databaseInfo=f,this.user=hi.UNAUTHENTICATED,this.clientId=Ul.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var w=(0,Je.Z)(function*(k){Dt("FirestoreClient","Received user=",k.uid),yield y.authCredentialListener(k),y.user=k});return function(k){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(c,w=>(Dt("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,Je.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const s=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Je.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),s.resolve()}catch(c){const f=gd(c,"Failed to shutdown persistence");s.reject(f)}})),s.promise}}function Vm(l,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Je.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const s=yield l.getConfiguration();yield e.initialize(s);let c=s.initialUser;l.setCredentialChangeListener(function(){var f=(0,Je.Z)(function*(y){c.isEqual(y)||(yield Ch(e.localStore,y),c=y)});return function(y){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=e}),Xf.apply(this,arguments)}function Ov(l,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Je.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const s=yield ep(l);Dt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield l.getConfiguration();yield e.initialize(s,c),l.setCredentialChangeListener(f=>fv(e.remoteStore,f)),l.setAppCheckTokenChangeListener((f,y)=>fv(e.remoteStore,y)),l.onlineComponents=e}),Bm.apply(this,arguments)}function ep(l){return Um.apply(this,arguments)}function Um(){return Um=(0,Je.Z)(function*(l){return l.offlineComponents||(Dt("FirestoreClient","Using default OfflineComponentProvider"),yield Vm(l,new Qf)),l.offlineComponents}),Um.apply(this,arguments)}function tp(l){return np.apply(this,arguments)}function np(){return np=(0,Je.Z)(function*(l){return l.onlineComponents||(Dt("FirestoreClient","Using default OnlineComponentProvider"),yield Ov(l,new Jf)),l.onlineComponents}),np.apply(this,arguments)}function Tc(l){return $m.apply(this,arguments)}function $m(){return $m=(0,Je.Z)(function*(l){const e=yield tp(l),s=e.eventManager;return s.onListen=_v.bind(null,e.syncEngine),s.onUnlisten=Zb.bind(null,e.syncEngine),s}),$m.apply(this,arguments)}const rp=new Map;function ip(l,e,s){if(!s)throw new kt(nt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function Nv(l){if(!Zt.isDocumentKey(l))throw new kt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function z_(l){if(Zt.isDocumentKey(l))throw new kt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Uh(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":fn()}function wr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new kt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Uh(l);throw new kt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return l}class Ui{constructor(e){var s;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(s=e.ssl)||void 0===s||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function G_(l,e,s,c){if(!0===e&&!0===c)throw new kt(nt.INVALID_ARGUMENT,`${l} and ${s} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,s,c,f){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=c,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ui({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ui(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Ds;switch(s.type){case"gapi":return new Vp(s.client,s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new kt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=rp.get(e);s&&(Dt("ComponentProvider","Removing Datastore"),rp.delete(e),s.terminate())}(this),Promise.resolve()}}class Zi{constructor(e,s,c){this.converter=s,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zi(this.firestore,e,this._key)}}class ks{constructor(e,s,c){this.converter=s,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class au extends ks{constructor(e,s,c){super(e,s,Nt(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zi(this.firestore,null,new Zt(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function Fv(l,e,...s){if(l=(0,ee.m9)(l),ip("collection","path",e),l instanceof jh){const c=tr.fromString(e,...s);return z_(c),new au(l,null,c)}{if(!(l instanceof Zi||l instanceof au))throw new kt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(tr.fromString(e,...s));return z_(c),new au(l.firestore,null,c)}}class Lv{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new vc(this,"async_queue_retry"),this.jc=()=>{const s=xl();s&&Dt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.xo.bo()};const e=xl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const s=xl();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const s=new Er;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Je.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(s){if(!ko(s))throw s;Dt("AsyncQueue","Operation failed with retryable error: "+s)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const s=this.$c.then(()=>(this.Kc=!0,e().catch(c=>{throw this.qc=c,this.Kc=!1,ci("INTERNAL UNHANDLED ERROR: ",function(y){let w=y.message||"";return y.stack&&(w=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),w}(c)),c}).then(c=>(this.Kc=!1,c))));return this.$c=s,s}enqueueAfterDelay(e,s,c){this.Wc(),this.Qc.indexOf(e)>-1&&(s=0);const f=Ec.createAndSchedule(this,e,s,c,y=>this.Jc(y));return this.Uc.push(f),f}Wc(){this.qc&&fn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Je.Z)(function*(){let s;do{s=e.$c,yield s}while(s!==e.$c)})()}Xc(e){for(const s of this.Uc)if(s.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((s,c)=>s.targetTimeMs-c.targetTimeMs);for(const s of this.Uc)if(s.skipDelay(),"all"!==e&&s.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const s=this.Uc.indexOf(e);this.Uc.splice(s,1)}}function W_(l){return function(e,s){if("object"!=typeof e||null===e)return!1;const c=e;for(const f of["next","error","complete"])if(f in c&&"function"==typeof c[f])return!0;return!1}(l)}class oi extends jh{constructor(e,s,c,f){super(e,s,c,f),this.type="firestore",this._queue=new Lv,this._persistenceKey=(null==f?void 0:f.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Km(this),this._firestoreClient.terminate()}}function Ol(l,e){const s="object"==typeof l?l:(0,Gn.getApp)(),c="string"==typeof l?l:e||"(default)";return(0,Gn._getProvider)(s,"firestore").getImmediate({identifier:c})}function is(l){return l._firestoreClient||Km(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Km(l){var e;const s=l._freezeSettings(),c=(y=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new hf(l._databaseId,y,l._persistenceKey,(k=s).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var y,k;l._firestoreClient=new s0(l._authCredentials,l._appCheckCredentials,l._queue,c)}class Gh{constructor(...e){for(let s=0;s<e.length;++s)if(0===e[s].length)throw new kt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lu(ii.fromBase64String(e))}catch(s){throw new kt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Lu(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sp{constructor(e){this._methodName=e}}class op{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new kt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new kt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const ap=/^__.*__$/;class K_{constructor(e,s,c){this.data=e,this.fieldMask=s,this.fieldTransforms=c}toMutation(e,s){return null!==this.fieldMask?new Zl(e,this.data,this.fieldMask,s,this.fieldTransforms):new vf(e,this.data,s,this.fieldTransforms)}}function Zm(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn()}}class zh{constructor(e,s,c,f,y,w){this.settings=e,this.databaseId=s,this.It=c,this.ignoreUndefinedProperties=f,void 0===y&&this.ea(),this.fieldTransforms=y||[],this.fieldMask=w||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var s;const c=null===(s=this.path)||void 0===s?void 0:s.child(e),f=this.sa({path:c,ra:!1});return f.oa(e),f}ua(e){var s;const c=null===(s=this.path)||void 0===s?void 0:s.child(e),f=this.sa({path:c,ra:!1});return f.ea(),f}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Id(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(s=>e.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>e.isPrefixOf(s.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Zm(this.na)&&ap.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class lp{constructor(e,s,c){this.databaseId=e,this.ignoreUndefinedProperties=s,this.It=c||Ah(e)}fa(e,s,c,f=!1){return new zh({na:e,methodName:s,la:c,path:Qr.emptyPath(),ra:!1,ha:f},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ed(l){const e=l._freezeSettings(),s=Ah(l._databaseId);return new lp(l._databaseId,!!e.ignoreUndefinedProperties,s)}function Ym(l,e,s,c,f,y={}){const w=l.fa(y.merge||y.mergeFields?2:0,e,s,f);qh("Data must be an object, but it was:",w,c);const k=Cr(c,w);let V,G;if(y.merge)V=new js(w.fieldMask),G=w.fieldTransforms;else if(y.mergeFields){const Y=[];for(const fe of y.mergeFields){const Ye=kl(e,fe,s);if(!w.contains(Ye))throw new kt(nt.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);dp(Y,Ye)||Y.push(Ye)}V=new js(Y),G=w.fieldTransforms.filter(fe=>V.covers(fe.field))}else V=null,G=w.fieldTransforms;return new K_(new si(k),V,G)}function wd(l,e){if(eg(l=(0,ee.m9)(l)))return qh("Unsupported field value:",e,l),Cr(l,e);if(l instanceof sp)return function(s,c){if(!Zm(c.na))throw c.aa(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.aa(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(c);f&&c.fieldTransforms.push(f)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(s,c){const f=[];let y=0;for(const w of s){let k=wd(w,c.ca(y));null==k&&(k={nullValue:"NULL_VALUE"}),f.push(k),y++}return{arrayValue:{values:f}}}(l,e)}return function(s,c){if(null===(s=(0,ee.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Yd(c.It,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=Yr.fromDate(s);return{timestampValue:Mu(c.It,f)}}if(s instanceof Yr){const f=new Yr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mu(c.It,f)}}if(s instanceof op)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Lu)return{bytesValue:Fg(c.It,s._byteString)};if(s instanceof Zi){const f=c.databaseId,y=s.firestore._databaseId;if(!y.isEqual(f))throw c.aa(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Cl(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.aa(`Unsupported field value: ${Uh(s)}`)}(l,e)}function Cr(l,e){const s={};return ec(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(l,(c,f)=>{const y=wd(f,e.ia(c));null!=y&&(s[c]=y)}),{mapValue:{fields:s}}}function eg(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Yr||l instanceof op||l instanceof Lu||l instanceof Zi||l instanceof sp)}function qh(l,e,s){if(!eg(s)||"object"!=typeof(c=s)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Uh(s);throw e.aa("an object"===c?l+" a custom object":l+" "+c)}var c}function kl(l,e,s){if((e=(0,ee.m9)(e))instanceof Gh)return e._internalPath;if("string"==typeof e)return Cd(l,e);throw Id("Field path arguments must be of type string or ",l,!1,void 0,s)}const Y_=new RegExp("[~\\*/\\[\\]]");function Cd(l,e,s){if(e.search(Y_)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,s);try{return new Gh(...e.split("."))._internalPath}catch(c){throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,s)}}function Id(l,e,s,c,f){const y=c&&!c.isEmpty(),w=void 0!==f;let k=`Function ${e}() called with invalid data`;s&&(k+=" (via `toFirestore()`)"),k+=". ";let V="";return(y||w)&&(V+=" (found",y&&(V+=` in field ${c}`),w&&(V+=` in document ${f}`),V+=")"),new kt(nt.INVALID_ARGUMENT,k+l+V)}function dp(l,e){return l.some(s=>s.isEqual(e))}class oo{constructor(e,s,c,f,y){this._firestore=e,this._userDataWriter=s,this._key=c,this._document=f,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Q_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s)}}}class Q_ extends oo{data(){return super.data()}}function Td(l,e){return"string"==typeof e?Cd(l,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}class Bu{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kh extends oo{constructor(e,s,c,f,y,w){super(e,s,c,f,w),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const c=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,s.serverTimestamps)}}}class hp extends Kh{data(e={}){return super.data(e)}}class jo{constructor(e,s,c,f){this._firestore=e,this._userDataWriter=s,this._snapshot=f,this.metadata=new Bu(f.hasPendingWrites,f.fromCache),this.query=c}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,s){this._snapshot.docs.forEach(c=>{e.call(s,new hp(this._firestore,this._userDataWriter,c.key,c,new Bu(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new kt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(c,f){if(c._snapshot.oldDocs.isEmpty()){let y=0;return c._snapshot.docChanges.map(w=>({type:"added",doc:new hp(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Bu(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:y++}))}{let y=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(w=>f||3!==w.type).map(w=>{const k=new hp(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Bu(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter);let V=-1,G=-1;return 0!==w.type&&(V=y.indexOf(w.doc.key),y=y.delete(w.doc.key)),1!==w.type&&(y=y.add(w.doc),G=y.indexOf(w.doc.key)),{type:tg(w.type),doc:k,oldIndex:V,newIndex:G}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function tg(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn()}}class Ad extends class ju{convertValue(e,s="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 10:return this.convertObject(e.mapValue,s);default:throw fn()}}convertObject(e,s){const c={};return la(e.fields,(f,y)=>{c[f]=this.convertValue(y,s)}),c}convertGeoPoint(e){return new op(Jr(e.latitude),Jr(e.longitude))}convertArray(e,s){return(e.values||[]).map(c=>this.convertValue(c,s))}convertServerTimestamp(e,s){switch(s){case"previous":const c=$c(e);return null==c?null:this.convertValue(c,s);case"estimate":return this.convertTimestamp(qi(e));default:return null}}convertTimestamp(e){const s=Vi(e);return new Yr(s.seconds,s.nanos)}convertDocumentKey(e,s){const c=tr.fromString(e);xn(jg(c));const f=new _l(c.get(1),c.get(3)),y=new Zt(c.popFirst(5));return f.isEqual(s)||ci(`Document ${y} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),y}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,s)}}function ry(l,e){const s=wr(l.firestore,oi),c=function Hh(l,e,...s){if(l=(0,ee.m9)(l),1===arguments.length&&(e=Ul.R()),ip("doc","path",e),l instanceof jh){const c=tr.fromString(e,...s);return Nv(c),new Zi(l,null,new Zt(c))}{if(!(l instanceof Zi||l instanceof au))throw new kt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(tr.fromString(e,...s));return Nv(c),new Zi(l.firestore,l instanceof au?l.converter:null,new Zt(c))}}(l),f=function Mc(l,e,s){let c;return c=l?s&&(s.merge||s.mergeFields)?l.toFirestore(e,s):l.toFirestore(e):e,c}(l.converter,e);return function Hu(l,e){return function(s,c){const f=new Er;return s.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function Yb(l,e,s){return Nm.apply(this,arguments)}(yield function Hm(l){return tp(l).then(e=>e.syncEngine)}(s),c,f)})),f.promise}(is(l),e)}(s,[Ym(Ed(l.firestore),"addDoc",c._key,f,null!==l.converter,{}).toMutation(c._key,wi.exists(!1))]).then(()=>c)}!function(l,e=!0){Ro=Gn.SDK_VERSION,(0,Gn._registerComponent)(new ie.wA("firestore",(s,{instanceIdentifier:c,options:f})=>{const y=s.getProvider("app").getImmediate(),w=new oi(new cf(s.getProvider("auth-internal")),new Ld(s.getProvider("app-check-internal")),function(k,V){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new kt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(k.options.projectId,V)}(y,c),y);return f=Object.assign({useFetchStreams:e},f),w._setSettings(f),w},"PUBLIC").setMultipleInstances(!0)),(0,Gn.registerVersion)(Ei,"3.5.0",l),(0,Gn.registerVersion)(Ei,"3.5.0","esm2017")}();var Yv=U(8306),hg=U(4004),oy={includeMetadataChanges:!1};function vp(l,e){return void 0===e&&(e=oy),new Yv.y(function(s){var c=function Go(l,...e){var s,c,f;l=(0,ee.m9)(l);let y={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||W_(e[w])||(y=e[w],w++);const k={includeMetadataChanges:y.includeMetadataChanges};if(W_(e[w])){const fe=e[w];e[w]=null===(s=fe.next)||void 0===s?void 0:s.bind(fe),e[w+1]=null===(c=fe.error)||void 0===c?void 0:c.bind(fe),e[w+2]=null===(f=fe.complete)||void 0===f?void 0:f.bind(fe)}let V,G,Y;if(l instanceof Zi)G=wr(l.firestore,oi),Y=Nt(l._key.path),V={next:fe=>{e[w]&&e[w](function cg(l,e,s){const c=s.docs.get(e._key),f=new Ad(l);return new Kh(l,f,e._key,c,new Bu(s.hasPendingWrites,s.fromCache),e.converter)}(G,l,fe))},error:e[w+1],complete:e[w+2]};else{const fe=wr(l,ks);G=wr(fe.firestore,oi),Y=fe._query;const Ye=new Ad(G);V={next:gt=>{e[w]&&e[w](new jo(G,Ye,fe,gt))},error:e[w+1],complete:e[w+2]},function rg(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new kt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(fe,Ye,gt,vt){const tn=new Bh(vt),mn=new Cc(Ye,tn,gt);return fe.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function Fu(l,e){return kh.apply(this,arguments)}(yield Tc(fe),mn)})),()=>{tn.Rc(),fe.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function Uo(l,e){return zf.apply(this,arguments)}(yield Tc(fe),mn)}))}}(is(G),Y,k,V)}(l,e,{next:s.next.bind(s),error:s.error.bind(s),complete:s.complete.bind(s)});return{unsubscribe:c}})}function Cp(l,e){return void 0===e&&(e={}),function ly(l){return vp(l,{includeMetadataChanges:!0}).pipe((0,hg.U)(function(e){return e.docs}))}(l).pipe((0,hg.U)(function(s){return s.map(function(c){return function $u(l,e){void 0===e&&(e={});var s=l.data();return!l.exists()||"object"!=typeof s||null===s||e.idField&&(s[e.idField]=l.id),s}(c,e)})}))}class Ip{constructor(e){return e}}const pg="firestore",ef=new g.OlP("angularfire2.firestore-instances");function Od(l){return(e,s)=>{const c=e.runOutsideAngular(()=>l(s));return new Ip(c)}}const eb={provide:class Xv{constructor(){return(0,C.vb)(pg)}},deps:[[new g.FiY,ef]]},cy={provide:Ip,useFactory:function g0(l,e){const s=(0,C.JM)(pg,l,e);return s&&new Ip(s)},deps:[[new g.FiY,ef],me.Ot]};let dy=(()=>{class l{constructor(){(0,be.KN)("angularfire",C.q4.full,"fst")}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({providers:[cy,eb]}),l})();function Tp(l,...e){return{ngModule:dy,providers:[{provide:ef,useFactory:Od(l),multi:!0,deps:[g.R0b,g.zs3,C.HU,me.z6,[new g.FiY,Ve],[new g.FiY,cn.nm],...e]}]}}const rb=(0,C.u3)(Cp,!0),py=(0,C.u3)(ry,!0),ob=(0,C.u3)(Fv,!0),wo=(0,C.u3)(Ol,!0)},1907:(Bt,Ge,U)=>{U.d(Ge,{q4:()=>Kr,iC:()=>To,HU:()=>Zo,vb:()=>Ta,JM:()=>bi,n1:()=>Oi,u3:()=>W});var C=U(5e3),g=U(5867),me=U(5861),be=U(9681),Ae=U(2090),Le=U(4859),K=U(1877);U(2833);const ze="@firebase/remote-config",We=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pn{constructor(R,H,J,ce){this.client=R,this.storage=H,this.storageCache=J,this.logger=ce}isCachedDataFresh(R,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const J=Date.now()-H,ce=J<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${J}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${ce}.`),ce}fetch(R){var H=this;return(0,me.Z)(function*(){const[J,ce]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(ce&&H.isCachedDataFresh(R.cacheMaxAgeMillis,J))return ce;R.eTag=ce&&ce.eTag;const Te=yield H.client.fetch(R),xt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Te.status&&xt.push(H.storage.setLastSuccessfulFetchResponse(Te)),yield Promise.all(xt),Te})()}}function Wn(S=navigator){return S.languages&&S.languages[0]||S.language}class Kt{constructor(R,H,J,ce,Te,xt){this.firebaseInstallations=R,this.sdkVersion=H,this.namespace=J,this.projectId=ce,this.apiKey=Te,this.appId=xt}fetch(R){var H=this;return(0,me.Z)(function*(){var J,ce,Te;const[xt,Yt]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),Ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,vn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},bn={sdk_version:H.sdkVersion,app_instance_id:xt,app_instance_id_token:Yt,app_id:H.appId,language_code:Wn()},Gt={method:"POST",headers:vn,body:JSON.stringify(bn)},Gr=fetch(Ut,Gt),Dr=new Promise((Et,Un)=>{R.signal.addEventListener(()=>{const zi=new Error("The operation was aborted.");zi.name="AbortError",Un(zi)})});let Ji;try{yield Promise.race([Gr,Dr]),Ji=yield Gr}catch(Et){let Un="fetch-client-network";throw"AbortError"===(null===(J=Et)||void 0===J?void 0:J.name)&&(Un="fetch-timeout"),We.create(Un,{originalErrorMessage:null===(ce=Et)||void 0===ce?void 0:ce.message})}let ki=Ji.status;const Ci=Ji.headers.get("ETag")||void 0;let Ii,Ni;if(200===Ji.status){let Et;try{Et=yield Ji.json()}catch(Un){throw We.create("fetch-client-parse",{originalErrorMessage:null===(Te=Un)||void 0===Te?void 0:Te.message})}Ii=Et.entries,Ni=Et.state}if("INSTANCE_STATE_UNSPECIFIED"===Ni?ki=500:"NO_CHANGE"===Ni?ki=304:("NO_TEMPLATE"===Ni||"EMPTY_CONFIG"===Ni)&&(Ii={}),304!==ki&&200!==ki)throw We.create("fetch-status",{httpStatus:ki});return{status:ki,eTag:Ci,config:Ii}})()}}class Vn{constructor(R,H){this.client=R,this.storage=H}fetch(R){var H=this;return(0,me.Z)(function*(){const J=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(R,J)})()}attemptFetch(R,{throttleEndTimeMillis:H,backoffCount:J}){var ce=this;return(0,me.Z)(function*(){yield function rn(S,R){return new Promise((H,J)=>{const ce=Math.max(R-Date.now(),0),Te=setTimeout(H,ce);S.addEventListener(()=>{clearTimeout(Te),J(We.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,H);try{const Te=yield ce.client.fetch(R);return yield ce.storage.deleteThrottleMetadata(),Te}catch(Te){if(!function sn(S){if(!(S instanceof Ae.ZR&&S.customData))return!1;const R=Number(S.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Te))throw Te;const xt={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(J),backoffCount:J+1};return yield ce.storage.setThrottleMetadata(xt),ce.attemptFetch(R,xt)}})()}}class xe{constructor(R,H,J,ce,Te){this.app=R,this._client=H,this._storageCache=J,this._storage=ce,this._logger=Te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Be(S,R){var H;const J=S.target.error||void 0;return We.create(R,{originalErrorMessage:J&&(null===(H=J)||void 0===H?void 0:H.message)})}const St="app_namespace_store";class qn{constructor(R,H,J,ce=function Tn(){return new Promise((S,R)=>{var H;try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ce=>{R(Be(ce,"storage-open"))},J.onsuccess=ce=>{S(ce.target.result)},J.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(St,{keyPath:"compositeKey"})}}catch(J){R(We.create("storage-open",{originalErrorMessage:null===(H=J)||void 0===H?void 0:H.message}))}})}()){this.appId=R,this.appName=H,this.namespace=J,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var H=this;return(0,me.Z)(function*(){const J=yield H.openDbPromise;return new Promise((ce,Te)=>{var xt;const on=J.transaction([St],"readonly").objectStore(St),Ut=H.createCompositeKey(R);try{const vn=on.get(Ut);vn.onerror=bn=>{Te(Be(bn,"storage-get"))},vn.onsuccess=bn=>{const Gt=bn.target.result;ce(Gt?Gt.value:void 0)}}catch(vn){Te(We.create("storage-get",{originalErrorMessage:null===(xt=vn)||void 0===xt?void 0:xt.message}))}})})()}set(R,H){var J=this;return(0,me.Z)(function*(){const ce=yield J.openDbPromise;return new Promise((Te,xt)=>{var Yt;const Ut=ce.transaction([St],"readwrite").objectStore(St),vn=J.createCompositeKey(R);try{const bn=Ut.put({compositeKey:vn,value:H});bn.onerror=Gt=>{xt(Be(Gt,"storage-set"))},bn.onsuccess=()=>{Te()}}catch(bn){xt(We.create("storage-set",{originalErrorMessage:null===(Yt=bn)||void 0===Yt?void 0:Yt.message}))}})})()}delete(R){var H=this;return(0,me.Z)(function*(){const J=yield H.openDbPromise;return new Promise((ce,Te)=>{var xt;const on=J.transaction([St],"readwrite").objectStore(St),Ut=H.createCompositeKey(R);try{const vn=on.delete(Ut);vn.onerror=bn=>{Te(Be(bn,"storage-delete"))},vn.onsuccess=()=>{ce()}}catch(vn){Te(We.create("storage-delete",{originalErrorMessage:null===(xt=vn)||void 0===xt?void 0:xt.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Yn{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,me.Z)(function*(){const H=R.storage.getLastFetchStatus(),J=R.storage.getLastSuccessfulFetchTimestampMillis(),ce=R.storage.getActiveConfig(),Te=yield H;Te&&(R.lastFetchStatus=Te);const xt=yield J;xt&&(R.lastSuccessfulFetchTimestampMillis=xt);const Yt=yield ce;Yt&&(R.activeConfig=Yt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Xt(){return cr.apply(this,arguments)}function cr(){return(cr=(0,me.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch(S){return!1}})).apply(this,arguments)}!function nr(){(0,be._registerComponent)(new Le.wA("remote-config",function S(R,{instanceIdentifier:H}){const J=R.getProvider("app").getImmediate(),ce=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw We.create("registration-window");if(!(0,Ae.hl)())throw We.create("indexed-db-unavailable");const{projectId:Te,apiKey:xt,appId:Yt}=J.options;if(!Te)throw We.create("registration-project-id");if(!xt)throw We.create("registration-api-key");if(!Yt)throw We.create("registration-app-id");const on=new qn(Yt,J.name,H=H||"firebase"),Ut=new Yn(on),vn=new K.Yd(ze);vn.logLevel=K.in.ERROR;const bn=new Kt(ce,be.SDK_VERSION,H,Te,xt,Yt),Gt=new Vn(bn,on),Gr=new pn(Gt,on,Ut,vn),Dr=new xe(J,Gr,Ut,on,vn);return function Mt(S){const R=(0,Ae.m9)(S);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Dr),Dr},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(ze,"0.3.11"),(0,be.registerVersion)(ze,"0.3.11","esm2017")}();var An=U(2375);const ir="analytics",Pr="firebase_id",ve="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",It="https://www.googletagmanager.com/gtag/js",rt=new K.Yd("@firebase/analytics");function lt(S){return Promise.all(S.map(R=>R.catch(H=>H)))}function Rt(S,R){const H=document.createElement("script");H.src=`${It}?l=${S}&id=${R}`,H.async=!0,document.head.appendChild(H)}function wn(S,R,H,J,ce,Te){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,me.Z)(function*(S,R,H,J,ce,Te){const xt=J[ce];try{if(xt)yield R[xt];else{const on=(yield lt(H)).find(Ut=>Ut.measurementId===ce);on&&(yield R[on.appId])}}catch(Yt){rt.error(Yt)}S("config",ce,Te)})).apply(this,arguments)}function en(S,R,H,J,ce){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,me.Z)(function*(S,R,H,J,ce){try{let Te=[];if(ce&&ce.send_to){let xt=ce.send_to;Array.isArray(xt)||(xt=[xt]);const Yt=yield lt(H);for(const on of xt){const Ut=Yt.find(bn=>bn.measurementId===on),vn=Ut&&R[Ut.appId];if(!vn){Te=[];break}Te.push(vn)}}0===Te.length&&(Te=Object.values(R)),yield Promise.all(Te),S("event",J,ce||{})}catch(Te){rt.error(Te)}})).apply(this,arguments)}function Je(){const S=window.document.getElementsByTagName("script");for(const R of Object.values(S))if(R.src&&R.src.includes(It))return R;return null}const ie=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),de=new class ae{constructor(R={},H=1e3){this.throttleMetadata=R,this.intervalMillis=H}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,H){this.throttleMetadata[R]=H}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function Ne(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Lt(S){return At.apply(this,arguments)}function At(){return(At=(0,me.Z)(function*(S){var R;const{appId:H,apiKey:J}=S,ce={method:"GET",headers:Ne(J)},Te=ve.replace("{app-id}",H),xt=yield fetch(Te,ce);if(200!==xt.status&&304!==xt.status){let Yt="";try{const on=yield xt.json();(null===(R=on.error)||void 0===R?void 0:R.message)&&(Yt=on.error.message)}catch(on){}throw ie.create("config-fetch-failed",{httpStatus:xt.status,responseMessage:Yt})}return xt.json()})).apply(this,arguments)}function Hn(S){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,me.Z)(function*(S,R=de,H){const{appId:J,apiKey:ce,measurementId:Te}=S.options;if(!J)throw ie.create("no-app-id");if(!ce){if(Te)return{measurementId:Te,appId:J};throw ie.create("no-api-key")}const xt=R.getThrottleMetadata(J)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new _e;return setTimeout((0,me.Z)(function*(){Yt.abort()}),void 0!==H?H:6e4),sr({appId:J,apiKey:ce,measurementId:Te},xt,Yt,R)})).apply(this,arguments)}function sr(S,R,H){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,me.Z)(function*(S,{throttleEndTimeMillis:R,backoffCount:H},J,ce=de){var Te,xt;const{appId:Yt,measurementId:on}=S;try{yield Fr(J,R)}catch(Ut){if(on)return rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${on} provided in the "measurementId" field in the local Firebase config. [${null===(Te=Ut)||void 0===Te?void 0:Te.message}]`),{appId:Yt,measurementId:on};throw Ut}try{const Ut=yield Lt(S);return ce.deleteThrottleMetadata(Yt),Ut}catch(Ut){const vn=Ut;if(!Pe(vn)){if(ce.deleteThrottleMetadata(Yt),on)return rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${on} provided in the "measurementId" field in the local Firebase config. [${null==vn?void 0:vn.message}]`),{appId:Yt,measurementId:on};throw Ut}const bn=503===Number(null===(xt=null==vn?void 0:vn.customData)||void 0===xt?void 0:xt.httpStatus)?(0,Ae.$s)(H,ce.intervalMillis,30):(0,Ae.$s)(H,ce.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+bn,backoffCount:H+1};return ce.setThrottleMetadata(Yt,Gt),rt.debug(`Calling attemptFetch again in ${bn} millis`),sr(S,Gt,J,ce)}})).apply(this,arguments)}function Fr(S,R){return new Promise((H,J)=>{const ce=Math.max(R-Date.now(),0),Te=setTimeout(H,ce);S.addEventListener(()=>{clearTimeout(Te),J(ie.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function Pe(S){if(!(S instanceof Ae.ZR&&S.customData))return!1;const R=Number(S.customData.httpStatus);return 429===R||500===R||503===R||504===R}class _e{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let X,Pt;function ot(){return(ot=(0,me.Z)(function*(S,R,H,J,ce){if(ce&&ce.global)S("event",H,J);else{const Te=yield R;S("event",H,Object.assign(Object.assign({},J),{send_to:Te}))}})).apply(this,arguments)}function Ht(S){Pt=S}function pt(S){X=S}function re(){return Re.apply(this,arguments)}function Re(){return(Re=(0,me.Z)(function*(){var S;if(!(0,Ae.hl)())return rt.warn(ie.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(R){return rt.warn(ie.create("indexeddb-unavailable",{errorInfo:null===(S=R)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function zt(){return(zt=(0,me.Z)(function*(S,R,H,J,ce,Te,xt){var Yt;const on=Hn(S);on.then(Gr=>{H[Gr.measurementId]=Gr.appId,S.options.measurementId&&Gr.measurementId!==S.options.measurementId&&rt.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gr=>rt.error(Gr)),R.push(on);const Ut=re().then(Gr=>{if(Gr)return J.getId()}),[vn,bn]=yield Promise.all([on,Ut]);Je()||Rt(Te,vn.measurementId),Pt&&(ce("consent","default",Pt),Ht(void 0)),ce("js",new Date);const Gt=null!==(Yt=null==xt?void 0:xt.config)&&void 0!==Yt?Yt:{};return Gt.origin="firebase",Gt.update=!0,null!=bn&&(Gt[Pr]=bn),ce("config",vn.measurementId,Gt),X&&(ce("set",X),pt(void 0)),vn.measurementId})).apply(this,arguments)}class Pn{constructor(R){this.app=R}_delete(){return delete Dn[this.app.options.appId],Promise.resolve()}}let Dn={},$t=[];const lr={};let ji,ti,Hr="dataLayer",Hi=!1;function ni(S,R,H){!function $r(){const S=[];if((0,Ae.ru)()&&S.push("This is a browser extension environment."),(0,Ae.zI)()||S.push("Cookies are not available."),S.length>0){const R=S.map((J,ce)=>`(${ce+1}) ${J}`).join(" "),H=ie.create("invalid-analytics-context",{errorInfo:R});rt.warn(H.message)}}();const J=S.options.appId;if(!J)throw ie.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw ie.create("no-api-key");rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Dn[J])throw ie.create("already-exists",{id:J});if(!Hi){!function jt(S){let R=[];Array.isArray(window[S])?R=window[S]:window[S]=R}(Hr);const{wrappedGtag:Te,gtagCore:xt}=function cn(S,R,H,J,ce){let Te=function(...xt){window[J].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(Te=window[ce]),window[ce]=function Jn(S,R,H,J){function Te(){return(Te=(0,me.Z)(function*(xt,Yt,on){try{"event"===xt?yield en(S,R,H,Yt,on):"config"===xt?yield wn(S,R,H,J,Yt,on):"consent"===xt?S("consent","update",on):S("set",Yt)}catch(Ut){rt.error(Ut)}})).apply(this,arguments)}return function ce(xt,Yt,on){return Te.apply(this,arguments)}}(Te,S,R,H),{gtagCore:Te,wrappedGtag:window[ce]}}(Dn,$t,lr,Hr,"gtag");ti=Te,ji=xt,Hi=!0}return Dn[J]=function Xe(S,R,H,J,ce,Te,xt){return zt.apply(this,arguments)}(S,$t,lr,R,ji,Hr,H),new Pn(S)}function Ee(){return ft.apply(this,arguments)}function ft(){return(ft=(0,me.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch(S){return!1}})).apply(this,arguments)}const Vr="@firebase/analytics";!function as(){(0,be._registerComponent)(new Le.wA(ir,(R,{options:H})=>ni(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,be._registerComponent)(new Le.wA("analytics-internal",function S(R){try{const H=R.getProvider(ir).getImmediate();return{logEvent:(J,ce,Te)=>function yn(S,R,H,J){S=(0,Ae.m9)(S),function Ce(S,R,H,J,ce){return ot.apply(this,arguments)}(ti,Dn[S.app.options.appId],R,H,J).catch(ce=>rt.error(ce))}(H,J,ce,Te)}}catch(H){throw ie.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,be.registerVersion)(Vr,"0.8.0"),(0,be.registerVersion)(Vr,"0.8.0","esm2017")}();var hr=U(727);class wa extends hr.w0{constructor(R,H){super()}schedule(R,H=0){return this}}const ls={setInterval(...S){const{delegate:R}=ls;return((null==R?void 0:R.setInterval)||setInterval)(...S)},clearInterval(S){const{delegate:R}=ls;return((null==R?void 0:R.clearInterval)||clearInterval)(S)},delegate:void 0};var Ca=U(8737);class bs extends wa{constructor(R,H){super(R,H),this.scheduler=R,this.work=H,this.pending=!1}schedule(R,H=0){if(this.closed)return this;this.state=R;const J=this.id,ce=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(ce,J,H)),this.pending=!0,this.delay=H,this.id=this.id||this.requestAsyncId(ce,this.id,H),this}requestAsyncId(R,H,J=0){return ls.setInterval(R.flush.bind(R,this),J)}recycleAsyncId(R,H,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return H;ls.clearInterval(H)}execute(R,H){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(R,H);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,H){let ce,J=!1;try{this.work(R)}catch(Te){J=!0,ce=Te||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:R,scheduler:H}=this,{actions:J}=H;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ca.P)(J,this),null!=R&&(this.id=this.recycleAsyncId(H,R,null)),this.delay=null,super.unsubscribe()}}}var Gs=U(6063);class us{constructor(R,H=us.now){this.schedulerActionCtor=R,this.now=H}schedule(R,H=0,J){return new this.schedulerActionCtor(this,R).schedule(J,H)}}us.now=Gs.l.now;class qo extends us{constructor(R,H=us.now){super(R,H),this.actions=[],this._active=!1,this._scheduled=void 0}flush(R){const{actions:H}=this;if(this._active)return void H.push(R);let J;this._active=!0;do{if(J=R.execute(R.state,R.delay))break}while(R=H.shift());if(this._active=!1,J){for(;R=H.shift();)R.unsubscribe();throw J}}}const Co=new class il extends qo{}(class Mi extends bs{constructor(R,H){super(R,H),this.scheduler=R,this.work=H}schedule(R,H=0){return H>0?super.schedule(R,H):(this.delay=H,this.state=R,this.scheduler.flush(this),this)}execute(R,H){return H>0||this.closed?super.execute(R,H):this._execute(R,H)}requestAsyncId(R,H,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(R,H,J):R.flush(this)}}),Ia=new qo(bs);var $i=U(8306),Fn=U(8505),Yi=U(9468),Br=U(5363);const Kr=new C.GfV("7.4.1"),yi="__angularfire_symbol__analyticsIsSupportedValue",li="__angularfire_symbol__analyticsIsSupported",xi="__angularfire_symbol__remoteConfigIsSupportedValue",Es="__angularfire_symbol__remoteConfigIsSupported",Zr="__angularfire_symbol__messagingIsSupportedValue",zs="__angularfire_symbol__messagingIsSupported";globalThis[li]||(globalThis[li]=Ee().then(S=>globalThis[yi]=S).catch(()=>globalThis[yi]=!1)),globalThis[zs]||(globalThis[zs]=(0,An.Gb)().then(S=>globalThis[Zr]=S).catch(()=>globalThis[Zr]=!1)),globalThis[Es]||(globalThis[Es]=Xt().then(S=>globalThis[xi]=S).catch(()=>globalThis[xi]=!1));const Oi={async:()=>globalThis[zs],sync:()=>{const S=globalThis[Zr];if(void 0===S)throw new Error((S=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${S} in the constructor, first ensure that ${S} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${S})\`.`)("Messaging"));return S}};function bi(S,R,H){if(R){if(1===R.length)return R[0];const Te=R.filter(xt=>xt.app===H);if(1===Te.length)return Te[0]}return H.container.getProvider(S).getImmediate({optional:!0})}const Ta=(S,R)=>{const H=R?[R]:(0,g.C6)(),J=[];return H.forEach(ce=>{ce.container.getProvider(S).instances.forEach(xt=>{J.includes(xt)||J.push(xt)})}),J};function Mr(){}class Qi{constructor(R,H=Co){this.zone=R,this.delegate=H}now(){return this.delegate.now()}schedule(R,H,J){const ce=this.zone;return this.delegate.schedule(function(xt){ce.runGuarded(()=>{R.apply(this,[xt])})},H,J)}}class cs{constructor(R){this.zone=R,this.task=null}call(R,H){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mr,{},Mr,Mr)),H.pipe((0,Fn.b)({next:J,complete:J,error:J})).subscribe(R).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zo=(()=>{class S{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new Qi(Zone.current)),this.insideAngular=H.run(()=>new Qi(Zone.current,Ia)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(H){return new(H||S)(C.LFG(C.R0b))},S.\u0275prov=C.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ri(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Io(S){return Ri().ngZone.runOutsideAngular(()=>S())}function Kn(S){return Ri().ngZone.run(()=>S())}function To(S){return Ri(),function Tr(S){return function(H){return(H=H.lift(new cs(S.ngZone))).pipe((0,Yi.R)(S.outsideAngular),(0,Br.Q)(S.insideAngular))}}(Ri())(S)}const L=(S,R)=>{const H=void 0;return function(){const J=arguments;return R&&setTimeout(()=>{"scheduled"===R.state&&R.invoke()},10),Kn(()=>S.apply(H,J))}},W=(S,R)=>function(){let H;const J=arguments;for(let Te=0;Te<arguments.length;Te++)"function"==typeof J[Te]&&(R&&(H||(H=Kn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mr,{},Mr,Mr)))),J[Te]=L(J[Te],H));const ce=Io(()=>S.apply(this,J));if(!R){if(ce instanceof $i.y){const Te=Ri();return ce.pipe((0,Yi.R)(Te.outsideAngular),(0,Br.Q)(Te.insideAngular))}return Kn(()=>ce)}return ce instanceof $i.y?ce.pipe(To):ce instanceof Promise?Kn(()=>new Promise((Te,xt)=>ce.then(Yt=>Kn(()=>Te(Yt)),Yt=>Kn(()=>xt(Yt))))):"function"==typeof ce&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),ce.apply(this,arguments)}:Kn(()=>ce)}},6018:(Bt,Ge,U)=>{U.d(Ge,{$:()=>fu,A:()=>rn,B:()=>ut,G:()=>Vr,H:()=>ls,J:()=>bi,L:()=>Dn,M:()=>S,N:()=>ce,P:()=>ml,Q:()=>Te,R:()=>Bc,T:()=>xt,U:()=>J,V:()=>vn,W:()=>bn,X:()=>ki,Y:()=>Ws,Z:()=>Di,_:()=>uo,a:()=>Jt,a0:()=>co,a1:()=>pu,a2:()=>xr,a3:()=>fo,a4:()=>Da,a5:()=>cl,a6:()=>es,a7:()=>Jo,a8:()=>Xo,a9:()=>kc,aA:()=>jl,aB:()=>ii,aC:()=>Bp,aD:()=>Xu,aE:()=>yn,aI:()=>rr,aL:()=>on,aa:()=>mu,ab:()=>Sa,ac:()=>br,af:()=>xa,ag:()=>Vs,ah:()=>Ao,ak:()=>Un,al:()=>ta,an:()=>go,ao:()=>N,ap:()=>he,aq:()=>Xt,ar:()=>ye,as:()=>_i,at:()=>Cn,au:()=>eo,av:()=>_l,aw:()=>Tn,ax:()=>wt,ay:()=>An,az:()=>$t,b:()=>pe,c:()=>Bd,d:()=>aa,e:()=>Ba,f:()=>jd,g:()=>or,h:()=>fi,i:()=>Fc,j:()=>js,k:()=>Tu,l:()=>Yr,m:()=>pi,n:()=>mf,o:()=>pn,r:()=>Fa,s:()=>sa,u:()=>Zt,y:()=>Nd});var C=U(5861),g=U(2090),me=U(9681);function K(I,_){var b={};for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&_.indexOf(M)<0&&(b[M]=I[M]);if(null!=I&&"function"==typeof Object.getOwnPropertySymbols){var j=0;for(M=Object.getOwnPropertySymbols(I);j<M.length;j++)_.indexOf(M[j])<0&&Object.prototype.propertyIsEnumerable.call(I,M[j])&&(b[M[j]]=I[M[j]])}return b}var it=U(1877),$e=U(4859);const pn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ut=function sn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yt=function Vn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new it.Yd("@firebase/auth");function un(I,..._){St.logLevel<=it.in.ERROR&&St.error(`Auth (${me.SDK_VERSION}): ${I}`,..._)}function Cn(I,..._){throw nr(I,..._)}function Tn(I,..._){return nr(I,..._)}function qn(I,_,b){const M=Object.assign(Object.assign({},yt()),{[_]:b});return new g.LL("auth","Firebase",M).create(_,{appName:I.name})}function Yn(I,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&Cn(I,"argument-error"),qn(I,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nr(I,..._){if("string"!=typeof I){const b=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=I.name),I._errorFactory.create(b,...M)}return xe.create(I,..._)}function wt(I,_,...b){if(!I)throw nr(_,...b)}function ar(I){const _="INTERNAL ASSERTION FAILED: "+I;throw un(_),new Error(_)}function Xt(I,_){I||ar(_)}const cr=new Map;function An(I){Xt(I instanceof Function,"Expected a class definition");let _=cr.get(I);return _?(Xt(_ instanceof I,"Instance stored in cache mismatched with class"),_):(_=new I,cr.set(I,_),_)}function ht(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function ge(){return"http:"===ve()||"https:"===ve()}function ve(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class lt{constructor(_,b){this.shortDelay=_,this.longDelay=b,Xt(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function It(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ge()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt(I,_){Xt(I.emulator,"Emulator should always be set here");const{url:b}=I.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class jt{static initialize(_,b,M){this.fetchImpl=_,b&&(this.headersImpl=b),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qn=new lt(3e4,6e4);function en(I,_){return I.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:I.tenantId}):_}function Bn(I,_,b,M){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,C.Z)(function*(I,_,b,M,j={}){return cn(I,j,(0,C.Z)(function*(){let z={},we={};M&&("GET"===_?we=M:z={body:JSON.stringify(M)});const et=(0,g.xO)(Object.assign({key:I.config.apiKey},we)).slice(1),qt=yield I._getAdditionalHeaders();return qt["Content-Type"]="application/json",I.languageCode&&(qt["X-Firebase-Locale"]=I.languageCode),jt.fetch()(oe(I,I.config.apiHost,b,et),Object.assign({method:_,headers:qt,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function cn(I,_,b){return Je.apply(this,arguments)}function Je(){return(Je=(0,C.Z)(function*(I,_,b){I._canInitEmulator=!1;const M=Object.assign(Object.assign({},wn),_);try{const j=new ee(I),z=yield Promise.race([b(),j.promise]);j.clearNetworkTimeout();const we=yield z.json();if("needConfirmation"in we)throw ae(I,"account-exists-with-different-credential",we);if(z.ok&&!("errorMessage"in we))return we;{const et=z.ok?we.errorMessage:we.error.message,[qt,Nt]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw ae(I,"credential-already-in-use",we);if("EMAIL_EXISTS"===qt)throw ae(I,"email-already-in-use",we);if("USER_DISABLED"===qt)throw ae(I,"user-disabled",we);const ln=M[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw qn(I,ln,Nt);Cn(I,ln)}}catch(j){if(j instanceof g.ZR)throw j;Cn(I,"network-request-failed")}})).apply(this,arguments)}function Gn(I,_,b,M){return ie.apply(this,arguments)}function ie(){return(ie=(0,C.Z)(function*(I,_,b,M,j={}){const z=yield Bn(I,_,b,M,j);return"mfaPendingCredential"in z&&Cn(I,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function oe(I,_,b,M){const j=`${_}${b}?${M}`;return I.config.emulator?Rt(I.config,j):`${I.config.apiScheme}://${j}`}class ee{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,M)=>{this.timer=setTimeout(()=>M(Tn(this.auth,"network-request-failed")),Qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ae(I,_,b){const M={appName:I.name};b.email&&(M.email=b.email),b.phoneNumber&&(M.phoneNumber=b.phoneNumber);const j=Tn(I,_,M);return j.customData._tokenResponse=b,j}function Ne(){return(Ne=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Lt(I,_){return At.apply(this,arguments)}function At(){return(At=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Hn(I,_){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function sr(I){if(I)try{const _=new Date(Number(I));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Pe(){return(Pe=(0,C.Z)(function*(I,_=!1){const b=(0,g.m9)(I),M=yield b.getIdToken(_),j=X(M);wt(j&&j.exp&&j.auth_time&&j.iat,b.auth,"internal-error");const z="object"==typeof j.firebase?j.firebase:void 0,we=null==z?void 0:z.sign_in_provider;return{claims:j,token:M,authTime:sr(_e(j.auth_time)),issuedAtTime:sr(_e(j.iat)),expirationTime:sr(_e(j.exp)),signInProvider:we||null,signInSecondFactor:(null==z?void 0:z.sign_in_second_factor)||null}})).apply(this,arguments)}function _e(I){return 1e3*Number(I)}function X(I){var _;const[b,M,j]=I.split(".");if(void 0===b||void 0===M||void 0===j)return un("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,g.tV)(M);return z?JSON.parse(z):(un("Failed to decode base64 JWT payload"),null)}catch(z){return un("Caught error parsing JWT payload as JSON",null===(_=z)||void 0===_?void 0:_.toString()),null}}function ot(I,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,C.Z)(function*(I,_,b=!1){if(b)return _;try{return yield _}catch(M){throw M instanceof g.ZR&&dn(M)&&I.auth.currentUser===I&&(yield I.auth.signOut()),M}})).apply(this,arguments)}function dn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class _r{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const j=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,C.Z)(function*(){yield b.iteration()}),M)}iteration(){var _=this;return(0,C.Z)(function*(){var b;try{yield _.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null===(b=M)||void 0===b?void 0:b.code)&&_.schedule(!0))}_.schedule()})()}}class Ir{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(I){return yr.apply(this,arguments)}function yr(){return(yr=(0,C.Z)(function*(I){var _;const b=I.auth,M=yield I.getIdToken(),j=yield ot(I,Hn(b,{idToken:M}));wt(null==j?void 0:j.users.length,b,"internal-error");const z=j.users[0];I._notifyReloadListener(z);const we=(null===(_=z.providerUserInfo)||void 0===_?void 0:_.length)?Ht(z.providerUserInfo):[],et=Pt(I.providerData,we),ln=!!I.isAnonymous&&!(I.email&&z.passwordHash||(null==et?void 0:et.length)),pr={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:et,metadata:new Ir(z.createdAt,z.lastLoginAt),isAnonymous:ln};Object.assign(I,pr)})).apply(this,arguments)}function ke(){return(ke=(0,C.Z)(function*(I){const _=(0,g.m9)(I);yield Lr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Pt(I,_){return[...I.filter(M=>!_.some(j=>j.providerId===M.providerId)),..._]}function Ht(I){return I.map(_=>{var{providerId:b}=_,M=K(_,["providerId"]);return{providerId:b,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function re(){return(re=(0,C.Z)(function*(I,_){const b=yield cn(I,{},(0,C.Z)(function*(){const M=(0,g.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:j,apiKey:z}=I.config,we=oe(I,j,"/v1/token",`key=${z}`),et=yield I._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(we,{method:"POST",headers:et,body:M})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){wt(_.idToken,"internal-error"),wt(void 0!==_.idToken,"internal-error"),wt(void 0!==_.refreshToken,"internal-error");const b="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Ce(I){const _=X(I);return wt(_,"internal-error"),wt(void 0!==_.exp,"internal-error"),wt(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var M=this;return(0,C.Z)(function*(){return wt(!M.accessToken||M.refreshToken,_,"user-token-expired"),b||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var M=this;return(0,C.Z)(function*(){const{accessToken:j,refreshToken:z,expiresIn:we}=yield function pt(I,_){return re.apply(this,arguments)}(_,b);M.updateTokensAndExpiration(j,z,Number(we))})()}updateTokensAndExpiration(_,b,M){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,b){const{refreshToken:M,accessToken:j,expirationTime:z}=b,we=new Re;return M&&(wt("string"==typeof M,"internal-error",{appName:_}),we.refreshToken=M),j&&(wt("string"==typeof j,"internal-error",{appName:_}),we.accessToken=j),z&&(wt("number"==typeof z,"internal-error",{appName:_}),we.expirationTime=z),we}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Re,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Xe(I,_){wt("string"==typeof I||void 0===I,"internal-error",{appName:_})}class zt{constructor(_){var{uid:b,auth:M,stsTokenManager:j}=_,z=K(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=M,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Ir(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,C.Z)(function*(){const M=yield ot(b,b.stsTokenManager.getToken(b.auth,_));return wt(M,b.auth,"internal-error"),b.accessToken!==M&&(b.accessToken=M,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),M})()}getIdTokenResult(_){return function Fr(I){return Pe.apply(this,arguments)}(this,_)}reload(){return function Ie(I){return ke.apply(this,arguments)}(this)}_assign(_){this!==_&&(wt(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new zt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var M=this;return(0,C.Z)(function*(){let j=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),j=!0),b&&(yield Lr(M)),yield M.auth._persistUserIfCurrent(M),j&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,C.Z)(function*(){const b=yield _.getIdToken();return yield ot(_,function de(I,_){return Ne.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var M,j,z,we,et,qt,Nt,ln;const pr=null!==(M=b.displayName)&&void 0!==M?M:void 0,kr=null!==(j=b.email)&&void 0!==j?j:void 0,ns=null!==(z=b.phoneNumber)&&void 0!==z?z:void 0,Nr=null!==(we=b.photoURL)&&void 0!==we?we:void 0,Si=null!==(et=b.tenantId)&&void 0!==et?et:void 0,Wl=null!==(qt=b._redirectEventId)&&void 0!==qt?qt:void 0,ic=null!==(Nt=b.createdAt)&&void 0!==Nt?Nt:void 0,gf=null!==(ln=b.lastLoginAt)&&void 0!==ln?ln:void 0,{uid:ca,emailVerified:ql,isAnonymous:bl,providerData:Du,stsTokenManager:_f}=b;wt(ca&&_f,_,"internal-error");const Hp=Re.fromJSON(this.name,_f);wt("string"==typeof ca,_,"internal-error"),Xe(pr,_.name),Xe(kr,_.name),wt("boolean"==typeof ql,_,"internal-error"),wt("boolean"==typeof bl,_,"internal-error"),Xe(ns,_.name),Xe(Nr,_.name),Xe(Si,_.name),Xe(Wl,_.name),Xe(ic,_.name),Xe(gf,_.name);const Zd=new zt({uid:ca,auth:_,email:kr,emailVerified:ql,displayName:pr,isAnonymous:bl,photoURL:Nr,phoneNumber:ns,tenantId:Si,stsTokenManager:Hp,createdAt:ic,lastLoginAt:gf});return Du&&Array.isArray(Du)&&(Zd.providerData=Du.map(Yd=>Object.assign({},Yd))),Wl&&(Zd._redirectEventId=Wl),Zd}static _fromIdTokenResponse(_,b,M=!1){return(0,C.Z)(function*(){const j=new Re;j.updateFromServerResponse(b);const z=new zt({uid:b.localId,auth:_,stsTokenManager:j,isAnonymous:M});return yield Lr(z),z})()}}const Dn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(b,M){var j=this;return(0,C.Z)(function*(){j.storage[b]=M})()}_get(b){var M=this;return(0,C.Z)(function*(){const j=M.storage[b];return void 0===j?null:j})()}_remove(b){var M=this;return(0,C.Z)(function*(){delete M.storage[b]})()}_addListener(b,M){}_removeListener(b,M){}}return I.type="NONE",I})();function $t(I,_,b){return`firebase:${I}:${_}:${b}`}class lr{constructor(_,b,M){this.persistence=_,this.auth=b,this.userKey=M;const{config:j,name:z}=this.auth;this.fullUserKey=$t(this.userKey,j.apiKey,z),this.fullPersistenceKey=$t("persistence",j.apiKey,z),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,C.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?zt._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,C.Z)(function*(){if(b.persistence===_)return;const M=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,M?b.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,M="authUser"){return(0,C.Z)(function*(){if(!b.length)return new lr(An(Dn),_,M);const j=(yield Promise.all(b.map(function(){var Nt=(0,C.Z)(function*(ln){if(yield ln._isAvailable())return ln});return function(ln){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let z=j[0]||An(Dn);const we=$t(M,_.config.apiKey,_.name);let et=null;for(const Nt of b)try{const ln=yield Nt._get(we);if(ln){const pr=zt._fromJSON(_,ln);Nt!==z&&(et=pr),z=Nt;break}}catch(ln){}const qt=j.filter(Nt=>Nt._shouldAllowMigration);return z._shouldAllowMigration&&qt.length?(z=qt[0],et&&(yield z._set(we,et.toJSON())),yield Promise.all(b.map(function(){var Nt=(0,C.Z)(function*(ln){if(ln!==z)try{yield ln._remove(we)}catch(pr){}});return function(ln){return Nt.apply(this,arguments)}}())),new lr(z,_,M)):new lr(z,_,M)})()}}function Hr(I){const _=I.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Hi(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(_n(_))return"Firefox";if(_.includes("silk/"))return"Silk";if($r(_))return"Blackberry";if(ni(_))return"Webos";if(ji(_))return"Safari";if((_.includes("chrome/")||ti(_))&&!_.includes("edge/"))return"Chrome";if(_i(_))return"Android";{const M=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function _n(I=(0,g.z$)()){return/firefox\//i.test(I)}function ji(I=(0,g.z$)()){const _=I.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ti(I=(0,g.z$)()){return/crios\//i.test(I)}function Hi(I=(0,g.z$)()){return/iemobile/i.test(I)}function _i(I=(0,g.z$)()){return/android/i.test(I)}function $r(I=(0,g.z$)()){return/blackberry/i.test(I)}function ni(I=(0,g.z$)()){return/webos/i.test(I)}function ye(I=(0,g.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function he(I=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function _t(I=(0,g.z$)()){return ye(I)||_i(I)||ni(I)||$r(I)||/windows phone/i.test(I)||Hi(I)}function On(I,_=[]){let b;switch(I){case"Browser":b=Hr((0,g.z$)());break;case"Worker":b=`${Hr((0,g.z$)())}-${I}`;break;default:b=I}const M=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${me.SDK_VERSION}/${M}`}class dr{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const M=z=>new Promise((we,et)=>{try{we(_(z))}catch(qt){et(qt)}});M.onAbort=b,this.queue.push(M);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,C.Z)(function*(){var M;if(b.auth.currentUser===_)return;const j=[];try{for(const z of b.queue)yield z(_),z.onAbort&&j.push(z.onAbort)}catch(z){j.reverse();for(const we of j)try{we()}catch(et){}throw b.auth._errorFactory.create("login-blocked",{originalMessage:null===(M=z)||void 0===M?void 0:M.message})}})()}}class Xn{constructor(_,b,M){this.app=_,this.heartbeatServiceProvider=b,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gn(this),this.idTokenSubscription=new gn(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(_,b){var M=this;return b&&(this._popupRedirectResolver=An(b)),this._initializationPromise=this.queue((0,C.Z)(function*(){var j,z;if(!M._deleted&&(M.persistenceManager=yield lr.create(M,_),!M._deleted)){if(null===(j=M._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(we){}yield M.initializeCurrentUser(b),M.lastNotifiedUid=(null===(z=M.currentUser)||void 0===z?void 0:z.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,C.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,C.Z)(function*(){var M;const j=yield b.assertedPersistence.getCurrentUser();let z=j,we=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const et=null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId,qt=null==z?void 0:z._redirectEventId,Nt=yield b.tryRedirectSignIn(_);(!et||et===qt)&&(null==Nt?void 0:Nt.user)&&(z=Nt.user,we=!0)}if(!z)return b.directlySetCurrentUser(null);if(!z._redirectEventId){if(we)try{yield b.beforeStateQueue.runMiddleware(z)}catch(et){z=j,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(et))}return z?b.reloadAndSetCurrentUserOrClear(z):b.directlySetCurrentUser(null)}return wt(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===z._redirectEventId?b.directlySetCurrentUser(z):b.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(_){var b=this;return(0,C.Z)(function*(){let M=null;try{M=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch(j){yield b._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,C.Z)(function*(){var M;try{yield Lr(_)}catch(j){if("auth/network-request-failed"!==(null===(M=j)||void 0===M?void 0:M.code))return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function rt(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var _=this;return(0,C.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,C.Z)(function*(){const M=_?(0,g.m9)(_):null;return M&&wt(M.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(M&&M._clone(b))})()}_updateCurrentUser(_,b=!1){var M=this;return(0,C.Z)(function*(){if(!M._deleted)return _&&wt(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),b||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,C.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,C.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,C.Z)(function*(){yield b.assertedPersistence.setPersistence(An(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new g.LL("auth","Firebase",_())}onAuthStateChanged(_,b,M){return this.registerStateListener(this.authStateSubscription,_,b,M)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,M){return this.registerStateListener(this.idTokenSubscription,_,b,M)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var M=this;return(0,C.Z)(function*(){const j=yield M.getOrInitRedirectPersistenceManager(b);return null===_?j.removeCurrentUser():j.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,C.Z)(function*(){if(!b.redirectPersistenceManager){const M=_&&An(_)||b._popupRedirectResolver;wt(M,b,"argument-error"),b.redirectPersistenceManager=yield lr.create(b,[An(M._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,C.Z)(function*(){var M,j;return b._isInitialized&&(yield b.queue((0,C.Z)(function*(){}))),(null===(M=b._currentUser)||void 0===M?void 0:M._redirectEventId)===_?b._currentUser:(null===(j=b.redirectUser)||void 0===j?void 0:j._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,C.Z)(function*(){if(_===b.currentUser)return b.queue((0,C.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,M,j){if(this._deleted)return()=>{};const z="function"==typeof b?b:b.next.bind(b),we=this._isInitialized?Promise.resolve():this._initializationPromise;return wt(we,this,"internal-error"),we.then(()=>z(this.currentUser)),"function"==typeof b?_.addObserver(b,M,j):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,C.Z)(function*(){b.currentUser&&b.currentUser!==_&&b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh(),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=On(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,C.Z)(function*(){var b;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const j=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return j&&(M["X-Firebase-Client"]=j),M})()}}function yn(I){return(0,g.m9)(I)}class gn{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,g.ne)(b=>this.observer=b)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vr(I,_,b){const M=yn(I);wt(M._canInitEmulator,M,"emulator-config-failed"),wt(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const j=!!(null==b?void 0:b.disableWarnings),z=Ns(_),{host:we,port:et}=function as(I){const _=Ns(I),b=/(\/\/)?([^?#/]+)/.exec(I.substr(_.length));if(!b)return{host:"",port:null};const M=b[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(M);if(j){const z=j[1];return{host:z,port:hr(M.substr(z.length+1))}}{const[z,we]=M.split(":");return{host:z,port:hr(we)}}}(_);M.config.emulator={url:`${z}//${we}${null===et?"":`:${et}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:we,port:et,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function wa(){function I(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ns(I){const _=I.indexOf(":");return _<0?"":I.substr(0,_+1)}function hr(I){if(!I)return null;const _=Number(I);return isNaN(_)?null:_}class ls{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return ar("not implemented")}_getIdTokenResponse(_){return ar("not implemented")}_linkToIdToken(_,b){return ar("not implemented")}_getReauthenticationResolver(_){return ar("not implemented")}}function Ca(I,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:resetPassword",en(I,_))})).apply(this,arguments)}function Mi(I,_){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function us(I,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:update",en(I,_))})).apply(this,arguments)}function Co(){return(Co=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signInWithPassword",en(I,_))})).apply(this,arguments)}function Ko(I,_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:sendOobCode",en(I,_))})).apply(this,arguments)}function hu(I,_){return $i.apply(this,arguments)}function $i(){return($i=(0,C.Z)(function*(I,_){return Ko(I,_)})).apply(this,arguments)}function Fn(I,_){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,C.Z)(function*(I,_){return Ko(I,_)})).apply(this,arguments)}function Br(I,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,C.Z)(function*(I,_){return Ko(I,_)})).apply(this,arguments)}function yi(I,_){return li.apply(this,arguments)}function li(){return(li=(0,C.Z)(function*(I,_){return Ko(I,_)})).apply(this,arguments)}function Es(){return(Es=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signInWithEmailLink",en(I,_))})).apply(this,arguments)}function zs(){return(zs=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signInWithEmailLink",en(I,_))})).apply(this,arguments)}class vi extends ls{constructor(_,b,M,j=null){super("password",M),this._email=_,this._password=b,this._tenantId=j}static _fromEmailAndPassword(_,b){return new vi(_,b,"password")}static _fromEmailAndCode(_,b,M=null){return new vi(_,b,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,C.Z)(function*(){switch(b.signInMethod){case"password":return function il(I,_){return Co.apply(this,arguments)}(_,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function xi(I,_){return Es.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:Cn(_,"internal-error")}})()}_linkToIdToken(_,b){var M=this;return(0,C.Z)(function*(){switch(M.signInMethod){case"password":return Mi(_,{idToken:b,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Zr(I,_){return zs.apply(this,arguments)}(_,{idToken:b,email:M._email,oobCode:M._password});default:Cn(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Oi(I,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signInWithIdp",en(I,_))})).apply(this,arguments)}class bi extends ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new bi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):Cn("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:j}=b,z=K(b,["providerId","signInMethod"]);if(!M||!j)return null;const we=new bi(M,j);return we.idToken=z.idToken||void 0,we.accessToken=z.accessToken||void 0,we.secret=z.secret,we.nonce=z.nonce,we.pendingToken=z.pendingToken||null,we}_getIdTokenResponse(_){return Oi(_,this.buildRequest())}_linkToIdToken(_,b){const M=this.buildRequest();return M.idToken=b,Oi(_,M)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Oi(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,g.xO)(b)}return _}}function Ta(I,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:sendVerificationCode",en(I,_))})).apply(this,arguments)}function cs(){return(cs=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signInWithPhoneNumber",en(I,_))})).apply(this,arguments)}function Ri(){return(Ri=(0,C.Z)(function*(I,_){const b=yield Gn(I,"POST","/v1/accounts:signInWithPhoneNumber",en(I,_));if(b.temporaryProof)throw ae(I,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Io={USER_NOT_FOUND:"user-not-found"};function vr(){return(vr=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signInWithPhoneNumber",en(I,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Io)})).apply(this,arguments)}class ws extends ls{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new ws({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new ws({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function Qi(I,_){return cs.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function Zo(I,_){return Ri.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Kn(I,_){return vr.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:M,verificationCode:j}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:M,code:j}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:M,phoneNumber:j,temporaryProof:z}=_;return M||b||j||z?new ws({verificationId:b,verificationCode:M,phoneNumber:j,temporaryProof:z}):null}}class L{constructor(_){var b,M,j,z,we,et;const qt=(0,g.zd)((0,g.pd)(_)),Nt=null!==(b=qt.apiKey)&&void 0!==b?b:null,ln=null!==(M=qt.oobCode)&&void 0!==M?M:null,pr=function To(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=qt.mode)&&void 0!==j?j:null);wt(Nt&&ln&&pr,"argument-error"),this.apiKey=Nt,this.operation=pr,this.code=ln,this.continueUrl=null!==(z=qt.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(we=qt.languageCode)&&void 0!==we?we:null,this.tenantId=null!==(et=qt.tenantId)&&void 0!==et?et:null}static parseLink(_){const b=function Tr(I){const _=(0,g.zd)((0,g.pd)(I)).link,b=_?(0,g.zd)((0,g.pd)(_)).deep_link_id:null,M=(0,g.zd)((0,g.pd)(I)).deep_link_id;return(M?(0,g.zd)((0,g.pd)(M)).link:null)||M||b||_||I}(_);try{return new L(b)}catch(M){return null}}}let S=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(b,M){return vi._fromEmailAndPassword(b,M)}static credentialWithLink(b,M){const j=L.parseLink(M);return wt(j,"argument-error"),vi._fromEmailAndCode(b,j.code,j.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class R{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class H extends R{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class J extends H{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return wt("providerId"in b&&"signInMethod"in b,"argument-error"),bi._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return wt(_.idToken||_.accessToken,"argument-error"),bi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return J.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return J.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:j,pendingToken:z,nonce:we,providerId:et}=_;if(!M&&!j&&!b&&!z||!et)return null;try{return new J(et)._credential({idToken:b,accessToken:M,nonce:we,pendingToken:z})}catch(qt){return null}}}let ce=(()=>{class I extends H{constructor(){super("facebook.com")}static credential(b){return bi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return I.credential(b.oauthAccessToken)}catch(M){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Te=(()=>{class I extends H{constructor(){super("google.com"),this.addScope("profile")}static credential(b,M){return bi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:M})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:M,oauthAccessToken:j}=b;if(!M&&!j)return null;try{return I.credential(M,j)}catch(z){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),xt=(()=>{class I extends H{constructor(){super("github.com")}static credential(b){return bi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return I.credential(b.oauthAccessToken)}catch(M){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class on extends ls{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return Oi(_,this.buildRequest())}_linkToIdToken(_,b){const M=this.buildRequest();return M.idToken=b,Oi(_,M)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Oi(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:j,pendingToken:z}=b;return M&&j&&z&&M===j?new on(M,z):null}static _create(_,b){return new on(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vn extends R{constructor(_){wt(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return vn.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return vn.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=on.fromJSON(_);return wt(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:M}=_;if(!b||!M)return null;try{return on._create(M,b)}catch(j){return null}}}let bn=(()=>{class I extends H{constructor(){super("twitter.com")}static credential(b,M){return bi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:M})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:M,oauthTokenSecret:j}=b;if(!M||!j)return null;try{return I.credential(M,j)}catch(z){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Gt(I,_){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signUp",en(I,_))})).apply(this,arguments)}class Dr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,M,j=!1){return(0,C.Z)(function*(){const z=yield zt._fromIdTokenResponse(_,M,j),we=Ji(M);return new Dr({user:z,providerId:we,_tokenResponse:M,operationType:b})})()}static _forOperation(_,b,M){return(0,C.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const j=Ji(M);return new Dr({user:_,providerId:j,_tokenResponse:M,operationType:b})})()}}function Ji(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ki(I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,C.Z)(function*(I){var _;const b=yn(I);if(yield b._initializationPromise,null===(_=b.currentUser)||void 0===_?void 0:_.isAnonymous)return new Dr({user:b.currentUser,providerId:null,operationType:"signIn"});const M=yield Gt(b,{returnSecureToken:!0}),j=yield Dr._fromIdTokenResponse(b,"signIn",M,!0);return yield b._updateCurrentUser(j.user),j})).apply(this,arguments)}class Ii extends g.ZR{constructor(_,b,M,j){var z;super(b.code,b.message),this.operationType=M,this.user=j,Object.setPrototypeOf(this,Ii.prototype),this.customData={appName:_.name,tenantId:null!==(z=_.tenantId)&&void 0!==z?z:void 0,_serverResponse:b.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,b,M,j){return new Ii(_,b,M,j)}}function Ni(I,_,b,M){return("reauthenticate"===_?b._getReauthenticationResolver(I):b._getIdTokenResponse(I)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Ii._fromErrorAndOperation(I,z,_,M):z})}function Et(I){return new Set(I.map(({providerId:_})=>_).filter(_=>!!_))}function Un(I,_){return zi.apply(this,arguments)}function zi(){return(zi=(0,C.Z)(function*(I,_){const b=(0,g.m9)(I);yield lo(!0,b,_);const{providerUserInfo:M}=yield Lt(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),j=Et(M||[]);return b.providerData=b.providerData.filter(z=>j.has(z.providerId)),j.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Wr(I,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,C.Z)(function*(I,_,b=!1){const M=yield ot(I,_._linkToIdToken(I.auth,yield I.getIdToken()),b);return Dr._forOperation(I,"link",M)})).apply(this,arguments)}function lo(I,_,b){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,C.Z)(function*(I,_,b){yield Lr(_);const j=!1===I?"provider-already-linked":"no-such-provider";wt(Et(_.providerData).has(b)===I,_.auth,j)})).apply(this,arguments)}function ol(I,_){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,C.Z)(function*(I,_,b=!1){var M;const{auth:j}=I,z="reauthenticate";try{const we=yield ot(I,Ni(j,z,_,I),b);wt(we.idToken,j,"internal-error");const et=X(we.idToken);wt(et,j,"internal-error");const{sub:qt}=et;return wt(I.uid===qt,j,"user-mismatch"),Dr._forOperation(I,z,we)}catch(we){throw"auth/user-not-found"===(null===(M=we)||void 0===M?void 0:M.code)&&Cn(j,"user-mismatch"),we}})).apply(this,arguments)}function Rc(I,_){return al.apply(this,arguments)}function al(){return(al=(0,C.Z)(function*(I,_,b=!1){const M="signIn",j=yield Ni(I,M,_),z=yield Dr._fromIdTokenResponse(I,M,j);return b||(yield I._updateCurrentUser(z.user)),z})).apply(this,arguments)}function Ws(I,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,C.Z)(function*(I,_){return Rc(yn(I),_)})).apply(this,arguments)}function Di(I,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,C.Z)(function*(I,_){const b=(0,g.m9)(I);return yield lo(!1,b,_.providerId),Wr(b,_)})).apply(this,arguments)}function uo(I,_){return ds.apply(this,arguments)}function ds(){return(ds=(0,C.Z)(function*(I,_){return ol((0,g.m9)(I),_)})).apply(this,arguments)}function hs(I,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,C.Z)(function*(I,_){return Gn(I,"POST","/v1/accounts:signInWithCustomToken",en(I,_))})).apply(this,arguments)}function fu(I,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,C.Z)(function*(I,_){const b=yn(I),M=yield hs(b,{token:_,returnSecureToken:!0}),j=yield Dr._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(j.user),j})).apply(this,arguments)}class ul{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?Fl._fromServerResponse(_,b):Cn(_,"internal-error")}}class Fl extends ul{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new Fl(b)}}function Is(I,_,b){var M;wt((null===(M=b.url)||void 0===M?void 0:M.length)>0,I,"invalid-continue-uri"),wt(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(wt(b.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(wt(b.android.packageName.length>0,I,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function co(I,_,b){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I),j={requestType:"PASSWORD_RESET",email:_};b&&Is(M,j,b),yield Fn(M,j)})).apply(this,arguments)}function pu(I,_,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,C.Z)(function*(I,_,b){yield Ca((0,g.m9)(I),{oobCode:_,newPassword:b})})).apply(this,arguments)}function xr(I,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,C.Z)(function*(I,_){yield us((0,g.m9)(I),{oobCode:_})})).apply(this,arguments)}function fo(I,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,C.Z)(function*(I,_){const b=(0,g.m9)(I),M=yield Ca(b,{oobCode:_}),j=M.requestType;switch(wt(j,b,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":wt(M.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":wt(M.mfaInfo,b,"internal-error");default:wt(M.email,b,"internal-error")}let z=null;return M.mfaInfo&&(z=ul._fromServerResponse(yn(b),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:z},operation:j}})).apply(this,arguments)}function Da(I,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,C.Z)(function*(I,_){const{data:b}=yield fo((0,g.m9)(I),_);return b.email})).apply(this,arguments)}function cl(I,_,b){return po.apply(this,arguments)}function po(){return(po=(0,C.Z)(function*(I,_,b){const M=yn(I),j=yield Gt(M,{returnSecureToken:!0,email:_,password:b}),z=yield Dr._fromIdTokenResponse(M,"signIn",j);return yield M._updateCurrentUser(z.user),z})).apply(this,arguments)}function es(I,_,b){return Ws((0,g.m9)(I),S.credential(_,b))}function Jo(I,_,b){return ur.apply(this,arguments)}function ur(){return(ur=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I),j={requestType:"EMAIL_SIGNIN",email:_};wt(b.handleCodeInApp,M,"argument-error"),b&&Is(M,j,b),yield Br(M,j)})).apply(this,arguments)}function Xo(I,_){const b=L.parseLink(_);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}function kc(I,_,b){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I),j=S.credentialWithLink(_,b||ht());return wt(j._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Ws(M,j)})).apply(this,arguments)}function ea(I,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:createAuthUri",en(I,_))})).apply(this,arguments)}function mu(I,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,C.Z)(function*(I,_){const M={identifier:_,continueUri:ge()?ht():"http://localhost"},{signinMethods:j}=yield ea((0,g.m9)(I),M);return j||[]})).apply(this,arguments)}function Sa(I,_){return dl.apply(this,arguments)}function dl(){return(dl=(0,C.Z)(function*(I,_){const b=(0,g.m9)(I),j={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};_&&Is(b.auth,j,_);const{email:z}=yield hu(b.auth,j);z!==I.email&&(yield I.reload())})).apply(this,arguments)}function br(I,_,b){return ts.apply(this,arguments)}function ts(){return(ts=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:_};b&&Is(M.auth,z,b);const{email:we}=yield yi(M.auth,z);we!==I.email&&(yield I.reload())})).apply(this,arguments)}function Ma(I,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,C.Z)(function*(I,_){return Bn(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function xa(I,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,C.Z)(function*(I,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const M=(0,g.m9)(I),z={idToken:yield M.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},we=yield ot(M,Ma(M.auth,z));M.displayName=we.displayName||null,M.photoURL=we.photoUrl||null;const et=M.providerData.find(({providerId:qt})=>"password"===qt);et&&(et.displayName=M.displayName,et.photoURL=M.photoURL),yield M._updateTokensIfNecessary(we)})).apply(this,arguments)}function Vs(I,_){return Wi((0,g.m9)(I),_,null)}function Ao(I,_){return Wi((0,g.m9)(I),null,_)}function Wi(I,_,b){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,C.Z)(function*(I,_,b){const{auth:M}=I,z={idToken:yield I.getIdToken(),returnSecureToken:!0};_&&(z.email=_),b&&(z.password=b);const we=yield ot(I,Mi(M,z));yield I._updateTokensIfNecessary(we,!0)})).apply(this,arguments)}class qs{constructor(_,b,M={}){this.isNewUser=_,this.providerId=b,this.profile=M}}class Oa extends qs{constructor(_,b,M,j){super(_,b,M),this.username=j}}class Ra extends qs{constructor(_,b){super(_,"facebook.com",b)}}class gu extends Oa{constructor(_,b){super(_,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class Mo extends qs{constructor(_,b){super(_,"google.com",b)}}class ka extends Oa{constructor(_,b,M){super(_,"twitter.com",b,M)}}function ta(I){const{user:_,_tokenResponse:b}=I;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function So(I){var _,b;if(!I)return null;const{providerId:M}=I,j=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},z=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!M&&(null==I?void 0:I.idToken)){const we=null===(b=null===(_=X(I.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(we)return new qs(z,"anonymous"!==we&&"custom"!==we?we:null)}if(!M)return null;switch(M){case"facebook.com":return new Ra(z,j);case"github.com":return new gu(z,j);case"google.com":return new Mo(z,j);case"twitter.com":return new ka(z,j,I.screenName||null);case"custom":case"anonymous":return new qs(z,null);default:return new qs(z,M,j)}}(b)}function Nd(I){return(0,g.m9)(I).signOut()}class na{constructor(_,b,M){this.type=_,this.credential=b,this.auth=M}static _fromIdtoken(_,b){return new na("enroll",_,b)}static _fromMfaPendingCredential(_){return new na("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,M;if(null==_?void 0:_.multiFactorSession){if(null===(b=_.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return na._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(M=_.multiFactorSession)||void 0===M?void 0:M.idToken)return na._fromIdtoken(_.multiFactorSession.idToken)}return null}}class fs{constructor(_,b,M){this.session=_,this.hints=b,this.signInResolver=M}static _fromError(_,b){const M=yn(_),j=b.customData._serverResponse,z=(j.mfaInfo||[]).map(et=>ul._fromServerResponse(M,et));wt(j.mfaPendingCredential,M,"internal-error");const we=na._fromMfaPendingCredential(j.mfaPendingCredential);return new fs(we,z,function(){var et=(0,C.Z)(function*(qt){const Nt=yield qt._process(M,we);delete j.mfaInfo,delete j.mfaPendingCredential;const ln=Object.assign(Object.assign({},j),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(b.operationType){case"signIn":const pr=yield Dr._fromIdTokenResponse(M,b.operationType,ln);return yield M._updateCurrentUser(pr.user),pr;case"reauthenticate":return wt(b.user,M,"internal-error"),Dr._forOperation(b.user,b.operationType,ln);default:Cn(M,"internal-error")}});return function(qt){return et.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,C.Z)(function*(){return b.signInResolver(_)})()}}function go(I,_){var b;const M=(0,g.m9)(I),j=_;return wt(_.customData.operationType,M,"argument-error"),wt(null===(b=j.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,M,"argument-error"),fs._fromError(M,j)}function Vl(I,_){return Bn(I,"POST","/v2/accounts/mfaEnrollment:start",en(I,_))}class Oo{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(M=>ul._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new Oo(_)}getSession(){var _=this;return(0,C.Z)(function*(){return na._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,b){var M=this;return(0,C.Z)(function*(){const j=_,z=yield M.getSession(),we=yield ot(M.user,j._process(M.user.auth,z,b));return yield M.user._updateTokensIfNecessary(we),M.user.reload()})()}unenroll(_){var b=this;return(0,C.Z)(function*(){var M;const j="string"==typeof _?_:_.uid,z=yield b.user.getIdToken(),we=yield ot(b.user,function xo(I,_){return Bn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",en(I,_))}(b.user.auth,{idToken:z,mfaEnrollmentId:j}));b.enrolledFactors=b.enrolledFactors.filter(({uid:et})=>et!==j),yield b.user._updateTokensIfNecessary(we);try{yield b.user.reload()}catch(et){if("auth/user-token-expired"!==(null===(M=et)||void 0===M?void 0:M.code))throw et}})()}}const Bl=new WeakMap;function N(I){const _=(0,g.m9)(I);return Bl.has(_)||Bl.set(_,Oo._fromUser(_)),Bl.get(_)}const x="__sak";class D{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(x,"1"),this.storage.removeItem(x),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const pe=(()=>{class I extends D{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,M)=>this.onStorageEvent(b,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function P(){const I=(0,g.z$)();return ji(I)||ye(I)}()&&function Wt(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=_t(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const M of Object.keys(this.listeners)){const j=this.storage.getItem(M),z=this.localCache[M];j!==z&&b(M,z,j)}}onStorageEvent(b,M=!1){if(!b.key)return void this.forAllChangedKeys((et,qt,Nt)=>{this.notifyListeners(et,Nt)});const j=b.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(j);if(b.newValue!==et)null!==b.newValue?this.storage.setItem(j,b.newValue):this.storage.removeItem(j);else if(this.localCache[j]===b.newValue&&!M)return}const z=()=>{const et=this.storage.getItem(j);!M&&this.localCache[j]===et||this.notifyListeners(j,et)},we=this.storage.getItem(j);!function ft(){return(0,g.w1)()&&10===document.documentMode}()||we===b.newValue||b.newValue===b.oldValue?z():setTimeout(z,10)}notifyListeners(b,M){this.localCache[b]=M;const j=this.listeners[b];if(j)for(const z of Array.from(j))z(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,M,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:M,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,M){var j=()=>super._set,z=this;return(0,C.Z)(function*(){yield j().call(z,b,M),z.localCache[b]=JSON.stringify(M)})()}_get(b){var M=()=>super._get,j=this;return(0,C.Z)(function*(){const z=yield M().call(j,b);return j.localCache[b]=JSON.stringify(z),z})()}_remove(b){var M=()=>super._remove,j=this;return(0,C.Z)(function*(){yield M().call(j,b),delete j.localCache[b]})()}}return I.type="LOCAL",I})(),Jt=(()=>{class I extends D{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,M){}_removeListener(b,M){}}return I.type="SESSION",I})();let hn=(()=>{class I{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const M=this.receivers.find(z=>z.isListeningto(b));if(M)return M;const j=new I(b);return this.receivers.push(j),j}isListeningto(b){return this.eventTarget===b}handleEvent(b){var M=this;return(0,C.Z)(function*(){const j=b,{eventId:z,eventType:we,data:et}=j.data,qt=M.handlersMap[we];if(!(null==qt?void 0:qt.size))return;j.ports[0].postMessage({status:"ack",eventId:z,eventType:we});const Nt=Array.from(qt).map(function(){var pr=(0,C.Z)(function*(kr){return kr(j.origin,et)});return function(kr){return pr.apply(this,arguments)}}()),ln=yield function $n(I){return Promise.all(I.map(function(){var _=(0,C.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(M){return{fulfilled:!1,reason:M}}});return function(b){return _.apply(this,arguments)}}()))}(Nt);j.ports[0].postMessage({status:"done",eventId:z,eventType:we,response:ln})})()}_subscribe(b,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(M)}_unsubscribe(b,M){this.handlersMap[b]&&M&&this.handlersMap[b].delete(M),(!M||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function rr(I="",_=10){let b="";for(let M=0;M<_;M++)b+=Math.floor(10*Math.random());return I+b}class mr{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,M=50){var j=this;return(0,C.Z)(function*(){const z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let we,et;return new Promise((qt,Nt)=>{const ln=rr("",20);z.port1.start();const pr=setTimeout(()=>{Nt(new Error("unsupported_event"))},M);et={messageChannel:z,onMessage(kr){const ns=kr;if(ns.data.eventId===ln)switch(ns.data.status){case"ack":clearTimeout(pr),we=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(we),qt(ns.data.response);break;default:clearTimeout(pr),clearTimeout(we),Nt(new Error("invalid_response"))}}},j.handlers.add(et),z.port1.addEventListener("message",et.onMessage),j.target.postMessage({eventType:_,eventId:ln,data:b},[z.port2])}).finally(()=>{et&&j.removeMessageHandler(et)})})()}}function fr(){return window}function Li(){return void 0!==fr().WorkerGlobalScope&&"function"==typeof fr().importScripts}function ia(){return(ia=(0,C.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const Pc="firebaseLocalStorageDb",Ar="firebaseLocalStorage",lf="fbase_key";class Zu{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function yu(I,_){return I.transaction([Ar],_?"readwrite":"readonly").objectStore(Ar)}function Pd(){const I=indexedDB.open(Pc,1);return new Promise((_,b)=>{I.addEventListener("error",()=>{b(I.error)}),I.addEventListener("upgradeneeded",()=>{const M=I.result;try{M.createObjectStore(Ar,{keyPath:lf})}catch(j){b(j)}}),I.addEventListener("success",(0,C.Z)(function*(){const M=I.result;M.objectStoreNames.contains(Ar)?_(M):(M.close(),yield function Dg(){const I=indexedDB.deleteDatabase(Pc);return new Zu(I).toPromise()}(),_(yield Pd()))}))})}function Yu(I,_,b){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,C.Z)(function*(I,_,b){const M=yu(I,!0).put({[lf]:_,value:b});return new Zu(M).toPromise()})).apply(this,arguments)}function uf(){return(uf=(0,C.Z)(function*(I,_){const b=yu(I,!1).get(_),M=yield new Zu(b).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Ei(I,_){const b=yu(I,!0).delete(_);return new Zu(b).toPromise()}const Fc=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,C.Z)(function*(){return b.db||(b.db=yield Pd()),b.db})()}_withRetries(b){var M=this;return(0,C.Z)(function*(){let j=0;for(;;)try{const z=yield M._openDb();return yield b(z)}catch(z){if(j++>3)throw z;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,C.Z)(function*(){return Li()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,C.Z)(function*(){b.receiver=hn._getInstance(function ri(){return Li()?self:null}()),b.receiver._subscribe("keyChanged",function(){var M=(0,C.Z)(function*(j,z){return{keyProcessed:(yield b._poll()).includes(z.key)}});return function(j,z){return M.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var M=(0,C.Z)(function*(j,z){return["keyChanged"]});return function(j,z){return M.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,C.Z)(function*(){var M,j;if(b.activeServiceWorker=yield function ps(){return ia.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new mr(b.activeServiceWorker);const z=yield b.sender._send("ping",{},800);!z||(null===(M=z[0])||void 0===M?void 0:M.fulfilled)&&(null===(j=z[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var M=this;return(0,C.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function ms(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:b},M.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Pd();return yield Yu(b,x,"1"),yield Ei(b,x),!0}catch(b){}return!1})()}_withPendingWrite(b){var M=this;return(0,C.Z)(function*(){M.pendingWrites++;try{yield b()}finally{M.pendingWrites--}})()}_set(b,M){var j=this;return(0,C.Z)(function*(){return j._withPendingWrite((0,C.Z)(function*(){return yield j._withRetries(z=>Yu(z,b,M)),j.localCache[b]=M,j.notifyServiceWorker(b)}))})()}_get(b){var M=this;return(0,C.Z)(function*(){const j=yield M._withRetries(z=>function pl(I,_){return uf.apply(this,arguments)}(z,b));return M.localCache[b]=j,j})()}_remove(b){var M=this;return(0,C.Z)(function*(){return M._withPendingWrite((0,C.Z)(function*(){return yield M._withRetries(j=>Ei(j,b)),delete M.localCache[b],M.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,C.Z)(function*(){const M=yield b._withRetries(we=>{const et=yu(we,!1).getAll();return new Zu(et).toPromise()});if(!M)return[];if(0!==b.pendingWrites)return[];const j=[],z=new Set;for(const{fbase_key:we,value:et}of M)z.add(we),JSON.stringify(b.localCache[we])!==JSON.stringify(et)&&(b.notifyListeners(we,et),j.push(we));for(const we of Object.keys(b.localCache))b.localCache[we]&&!z.has(we)&&(b.notifyListeners(we,null),j.push(we));return j})()}notifyListeners(b,M){this.localCache[b]=M;const j=this.listeners[b];if(j)for(const z of Array.from(j))z(M)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function _o(I,_){return Bn(I,"POST","/v2/accounts/mfaSignIn:start",en(I,_))}function yo(){return(yo=(0,C.Z)(function*(I){return(yield Bn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fn(I){return new Promise((_,b)=>{const M=document.createElement("script");M.setAttribute("src",I),M.onload=_,M.onerror=j=>{const z=Tn("internal-error");z.customData=j,b(z)},M.type="text/javascript",M.charset="UTF-8",function Bs(){var I,_;return null!==(_=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==_?_:document}().appendChild(M)})}function xn(I){return`__${I}${Math.floor(1e6*Math.random())}`}const nt=1e12;class kt{constructor(_){this.auth=_,this.counter=nt,this._widgets=new Map}render(_,b){const M=this.counter;return this._widgets.set(M,new Er(_,this.auth.name,b||{})),this.counter++,M}reset(_){var b;const M=_||nt;null===(b=this._widgets.get(M))||void 0===b||b.delete(),this._widgets.delete(M)}getResponse(_){var b;return(null===(b=this._widgets.get(_||nt))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,C.Z)(function*(){var M;return null===(M=b._widgets.get(_||nt))||void 0===M||M.execute(),""})()}}class Er{constructor(_,b,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof _?document.getElementById(_):_;wt(j,"argument-error",{appName:b}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lc(I){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<I;M++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ds=xn("rcb"),Vc=new lt(3e4,6e4);class Lp{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(_=fr().grecaptcha)||void 0===_?void 0:_.render)}load(_,b=""){return wt(function Vp(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(b),_,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(fr().grecaptcha):new Promise((M,j)=>{const z=fr().setTimeout(()=>{j(Tn(_,"network-request-failed"))},Vc.get());fr()[Ds]=()=>{fr().clearTimeout(z),delete fr()[Ds];const et=fr().grecaptcha;if(!et)return void j(Tn(_,"internal-error"));const qt=et.render;et.render=(Nt,ln)=>{const pr=qt(Nt,ln);return this.counter++,pr},this.hostLanguage=b,M(et)},fn(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Ds,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(z),j(Tn(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var b;return!!(null===(b=fr().grecaptcha)||void 0===b?void 0:b.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qu{load(_){return(0,C.Z)(function*(){return new kt(_)})()}clearedOneInstance(){}}const Ld="recaptcha",Sg={theme:"light",type:"image"};class Bc{constructor(_,b=Object.assign({},Sg),M){this.parameters=b,this.type=Ld,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(M),this.isInvisible="invisible"===this.parameters.size,wt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof _?document.getElementById(_):_;wt(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qu:new Lp,this.validateStartingState()}verify(){var _=this;return(0,C.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(b)||new Promise(z=>{const we=et=>{!et||(_.tokenChangeListeners.delete(we),z(et))};_.tokenChangeListeners.add(we),_.isInvisible&&M.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){wt(!this.parameters.sitekey,this.auth,"argument-error"),wt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(M=>M(b)),"function"==typeof _)_(b);else if("string"==typeof _){const M=fr()[_];"function"==typeof M&&M(b)}}}assertNotDestroyed(){wt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,C.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const M=document.createElement("div");b.appendChild(M),b=M}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,C.Z)(function*(){wt(ge()&&!Li(),_.auth,"internal-error"),yield function Ul(){let I=null;return new Promise(_=>{"complete"!==document.readyState?(I=()=>_(),window.addEventListener("load",I)):_()}).catch(_=>{throw I&&window.removeEventListener("load",I),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function ci(I){return yo.apply(this,arguments)}(_.auth);wt(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return wt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ln{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=ws._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function sa(I,_,b){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,C.Z)(function*(I,_,b){const M=yn(I),j=yield bu(M,_,(0,g.m9)(b));return new Ln(j,z=>Ws(M,z))})).apply(this,arguments)}function Yr(I,_,b){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I);yield lo(!1,M,"phone");const j=yield bu(M.auth,_,(0,g.m9)(b));return new Ln(j,z=>Di(M,z))})).apply(this,arguments)}function Fa(I,_,b){return tr.apply(this,arguments)}function tr(){return(tr=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I),j=yield bu(M.auth,_,(0,g.m9)(b));return new Ln(j,z=>uo(M,z))})).apply(this,arguments)}function bu(I,_,b){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,C.Z)(function*(I,_,b){var M;const j=yield b.verify();try{let z;if(wt("string"==typeof j,I,"argument-error"),wt(b.type===Ld,I,"argument-error"),z="string"==typeof _?{phoneNumber:_}:_,"session"in z){const we=z.session;if("phoneNumber"in z)return wt("enroll"===we.type,I,"internal-error"),(yield Vl(I,{idToken:we.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{wt("signin"===we.type,I,"internal-error");const et=(null===(M=z.multiFactorHint)||void 0===M?void 0:M.uid)||z.multiFactorUid;return wt(et,I,"missing-multi-factor-info"),(yield _o(I,{mfaPendingCredential:we.credential,mfaEnrollmentId:et,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:we}=yield Ta(I,{phoneNumber:z.phoneNumber,recaptchaToken:j});return we}}finally{b._reset()}})).apply(this,arguments)}function Zt(I,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,C.Z)(function*(I,_){yield Wr((0,g.m9)(I),_)})).apply(this,arguments)}let ml=(()=>{class I{constructor(b){this.providerId=I.PROVIDER_ID,this.auth=yn(b)}verifyPhoneNumber(b,M){return bu(this.auth,b,(0,g.m9)(M))}static credential(b,M){return ws._fromVerification(b,M)}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:M,temporaryProof:j}=b;return M&&j?ws._fromTokenResponse(M,j):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ks(I,_){return _?An(_):(wt(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ai extends ls{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Oi(_,this._buildIdpRequest())}_linkToIdToken(_,b){return Oi(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return Oi(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function Ju(I){return Rc(I.auth,new Ai(I),I.bypassAuthState)}function Vd(I){const{auth:_,user:b}=I;return wt(b,_,"internal-error"),ol(b,new Ai(I),I.bypassAuthState)}function La(I){return gl.apply(this,arguments)}function gl(){return(gl=(0,C.Z)(function*(I){const{auth:_,user:b}=I;return wt(b,_,"internal-error"),Wr(b,new Ai(I),I.bypassAuthState)})).apply(this,arguments)}class Uc{constructor(_,b,M,j,z=!1){this.auth=_,this.resolver=M,this.user=j,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,C.Z)(function*(M,j){_.pendingPromise={resolve:M,reject:j};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(z){_.reject(z)}});return function(M,j){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,C.Z)(function*(){const{urlResponse:M,sessionId:j,postBody:z,tenantId:we,error:et,type:qt}=_;if(et)return void b.reject(et);const Nt={auth:b.auth,requestUri:M,sessionId:j,tenantId:we||void 0,postBody:z||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(qt)(Nt))}catch(ln){b.reject(ln)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Ju;case"linkViaPopup":case"linkViaRedirect":return La;case"reauthViaPopup":case"reauthViaRedirect":return Vd;default:Cn(this.auth,"internal-error")}}resolve(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zs=new lt(2e3,1e4);function Bd(I,_,b){return Va.apply(this,arguments)}function Va(){return(Va=(0,C.Z)(function*(I,_,b){const M=yn(I);Yn(I,_,R);const j=Ks(M,b);return new Qs(M,"signInViaPopup",_,j).executeNotNull()})).apply(this,arguments)}function Ba(I,_,b){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I);Yn(M.auth,_,R);const j=Ks(M.auth,b);return new Qs(M.auth,"reauthViaPopup",_,j,M).executeNotNull()})).apply(this,arguments)}function aa(I,_,b){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I);Yn(M.auth,_,R);const j=Ks(M.auth,b);return new Qs(M.auth,"linkViaPopup",_,j,M).executeNotNull()})).apply(this,arguments)}let Qs=(()=>{class I extends Uc{constructor(b,M,j,z,we){super(b,M,z,we),this.provider=j,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var b=this;return(0,C.Z)(function*(){const M=yield b.execute();return wt(M,b.auth,"internal-error"),M})()}onExecution(){var b=this;return(0,C.Z)(function*(){Xt(1===b.filter.length,"Popup operations only handle one event");const M=rr();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],M),b.authWindow.associatedEvent=M,b.resolver._originValidation(b.auth).catch(j=>{b.reject(j)}),b.resolver._isIframeWebStorageSupported(b.auth,j=>{j||b.reject(Tn(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const b=()=>{var M,j;this.pollId=(null===(j=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Zs.get())};b()}}return I.currentPopupAction=null,I})();const Ua=new Map;class Eu extends Uc{constructor(_,b,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,C.Z)(function*(){let M=Ua.get(b.auth._key());if(!M){try{const z=(yield function ko(I,_){return jc.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;M=()=>Promise.resolve(z)}catch(j){M=()=>Promise.reject(j)}Ua.set(b.auth._key(),M)}return b.bypassAuthState||Ua.set(b.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,M=this;return(0,C.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(M,_);if("unknown"!==_.type){if(_.eventId){const j=yield M.auth._redirectUserForId(_.eventId);if(j)return M.user=j,b().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function jc(){return(jc=(0,C.Z)(function*(I,_){const b=Ss(_),M=Ud(I);if(!(yield M._isAvailable()))return!1;const j="true"===(yield M._get(b));return yield M._remove(b),j})).apply(this,arguments)}function Us(I,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,C.Z)(function*(I,_){return Ud(I)._set(Ss(_),"true")})).apply(this,arguments)}function Xu(){Ua.clear()}function Bp(I,_){Ua.set(I._key(),_)}function Ud(I){return An(I._redirectPersistence)}function Ss(I){return $t("pendingRedirect",I.config.apiKey,I.name)}function jd(I,_,b){return function la(I,_,b){return ec.apply(this,arguments)}(I,_,b)}function ec(){return(ec=(0,C.Z)(function*(I,_,b){const M=yn(I);Yn(I,_,R);const j=Ks(M,b);return yield Us(j,M),j._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function fi(I,_,b){return function No(I,_,b){return Or.apply(this,arguments)}(I,_,b)}function Or(){return(Or=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I);Yn(M.auth,_,R);const j=Ks(M.auth,b);yield Us(j,M.auth);const z=yield Vi(M);return j._openRedirect(M.auth,_,"reauthViaRedirect",z)})).apply(this,arguments)}function or(I,_,b){return function df(I,_,b){return ja.apply(this,arguments)}(I,_,b)}function ja(){return(ja=(0,C.Z)(function*(I,_,b){const M=(0,g.m9)(I);Yn(M.auth,_,R);const j=Ks(M.auth,b);yield lo(!1,M,_.providerId),yield Us(j,M.auth);const z=yield Vi(M);return j._openRedirect(M.auth,_,"linkViaRedirect",z)})).apply(this,arguments)}function js(I,_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,C.Z)(function*(I,_){return yield yn(I)._initializationPromise,ii(I,_,!1)})).apply(this,arguments)}function ii(I,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,C.Z)(function*(I,_,b=!1){const M=yn(I),j=Ks(M,_),we=yield new Eu(M,j,b).execute();return we&&!b&&(delete we.user._redirectEventId,yield M._persistUserIfCurrent(we.user),yield M._setRedirectUser(null,_)),we})).apply(this,arguments)}function Vi(I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,C.Z)(function*(I){const _=rr(`${I.uid}:::`);return I._redirectEventId=_,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),_})).apply(this,arguments)}class jl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(b=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function hf(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qi(I);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var M;if(_.error&&!qi(_)){const j=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";b.onError(Tn(this.auth,j))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const M=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($c(_))}saveEventToCache(_){this.cachedEventUids.add($c(_)),this.lastProcessedEventTime=Date.now()}}function $c(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(_=>_).join("-")}function qi({type:I,error:_}){return"unknown"===I&&"auth/no-auth-event"===(null==_?void 0:_.code)}function _l(I){return gs.apply(this,arguments)}function gs(){return(gs=(0,C.Z)(function*(I,_={}){return Bn(I,"GET","/v1/projects",_)})).apply(this,arguments)}const ua=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hd=/^https?/;function Hl(){return(Hl=(0,C.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:_}=yield _l(I);for(const b of _)try{if(Po(b))return}catch(M){}Cn(I,"unauthorized-domain")})).apply(this,arguments)}function Po(I){const _=ht(),{protocol:b,hostname:M}=new URL(_);if(I.startsWith("chrome-extension://")){const we=new URL(I);return""===we.hostname&&""===M?"chrome-extension:"===b&&I.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&we.hostname===M}if(!Hd.test(b))return!1;if(ua.test(I))return M===I;const j=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(M)}const Fo=new lt(3e4,6e4);function $l(){const I=fr().___jsl;if(null==I?void 0:I.H)for(const _ of Object.keys(I.H))if(I.H[_].r=I.H[_].r||[],I.H[_].L=I.H[_].L||[],I.H[_].r=[...I.H[_].L],I.CP)for(let b=0;b<I.CP.length;b++)I.CP[b]=null}let Gl=null;function Ga(I){return Gl=Gl||function $a(I){return new Promise((_,b)=>{var M,j,z;function we(){$l(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{$l(),b(Tn(I,"network-request-failed"))},timeout:Fo.get()})}if(null===(j=null===(M=fr().gapi)||void 0===M?void 0:M.iframes)||void 0===j?void 0:j.Iframe)_(gapi.iframes.getContext());else{if(!(null===(z=fr().gapi)||void 0===z?void 0:z.load)){const et=xn("iframefcb");return fr()[et]=()=>{gapi.load?we():b(Tn(I,"network-request-failed"))},fn(`https://apis.google.com/js/api.js?onload=${et}`).catch(qt=>b(qt))}we()}}).catch(_=>{throw Gl=null,_})}(I),Gl}const $d=new lt(5e3,15e3),tc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gc(I){const _=I.config;wt(_.authDomain,I,"auth-domain-config-required");const b=_.emulator?Rt(_,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,M={apiKey:_.apiKey,appName:I.name,v:me.SDK_VERSION},j=wu.get(I.config.apiHost);j&&(M.eid=j);const z=I._getFrameworks();return z.length&&(M.fw=z.join(",")),`${b}?${(0,g.xO)(M).slice(1)}`}function Lo(){return Lo=(0,C.Z)(function*(I){const _=yield Ga(I),b=fr().gapi;return wt(b,I,"internal-error"),_.open({where:document.body,url:Gc(I),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tc,dontclear:!0},M=>new Promise(function(){var j=(0,C.Z)(function*(z,we){yield M.restyle({setHideOnLeave:!1});const et=Tn(I,"network-request-failed"),qt=fr().setTimeout(()=>{we(et)},$d.get());function Nt(){fr().clearTimeout(qt),z(M)}M.ping(Nt).then(Nt,()=>{we(et)})});return function(z,we){return j.apply(this,arguments)}}()))}),Lo.apply(this,arguments)}const Gd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class si{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function eo(I,_,b,M,j,z){wt(I.config.authDomain,I,"auth-domain-config-required"),wt(I.config.apiKey,I,"invalid-api-key");const we={apiKey:I.config.apiKey,appName:I.name,authType:b,redirectUrl:M,v:me.SDK_VERSION,eventId:j};if(_ instanceof R){_.setDefaultLanguage(I.languageCode),we.providerId=_.providerId||"",(0,g.xb)(_.getCustomParameters())||(we.customParameters=JSON.stringify(_.getCustomParameters()));for(const[qt,Nt]of Object.entries(z||{}))we[qt]=Nt}if(_ instanceof H){const qt=_.getScopes().filter(Nt=>""!==Nt);qt.length>0&&(we.scopes=qt.join(","))}I.tenantId&&(we.tid=I.tenantId);const et=we;for(const qt of Object.keys(et))void 0===et[qt]&&delete et[qt];return`${function pf({config:I}){return I.emulator?Rt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,g.xO)(et).slice(1)}`}const vl="webStorageSupport",Tu=class nc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jt,this._completeRedirectFn=ii,this._overrideRedirectResult=Bp}_openPopup(_,b,M,j){var z=this;return(0,C.Z)(function*(){var we;Xt(null===(we=z.eventManagers[_._key()])||void 0===we?void 0:we.manager,"_initialize() not called before _openPopup()");const et=eo(_,b,M,ht(),j);return function Wc(I,_,b,M=500,j=600){const z=Math.max((window.screen.availHeight-j)/2,0).toString(),we=Math.max((window.screen.availWidth-M)/2,0).toString();let et="";const qt=Object.assign(Object.assign({},Gd),{width:M.toString(),height:j.toString(),top:z,left:we}),Nt=(0,g.z$)().toLowerCase();b&&(et=ti(Nt)?"_blank":b),_n(Nt)&&(_=_||"http://localhost",qt.scrollbars="yes");const ln=Object.entries(qt).reduce((kr,[ns,Nr])=>`${kr}${ns}=${Nr},`,"");if(function Ee(I=(0,g.z$)()){var _;return ye(I)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(Nt)&&"_self"!==et)return function Rr(I,_){const b=document.createElement("a");b.href=I,b.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(M)}(_||"",et),new si(null);const pr=window.open(_||"",et,ln);wt(pr,I,"popup-blocked");try{pr.focus()}catch(kr){}return new si(pr)}(_,et,rr())})()}_openRedirect(_,b,M,j){var z=this;return(0,C.Z)(function*(){return yield z._originValidation(_),function Fi(I){fr().location.href=I}(eo(_,b,M,ht(),j)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:j,promise:z}=this.eventManagers[b];return j?Promise.resolve(j):(Xt(z,"If manager is not set, promise should be"),z)}const M=this.initAndGetManager(_);return this.eventManagers[b]={promise:M},M.catch(()=>{delete this.eventManagers[b]}),M}initAndGetManager(_){var b=this;return(0,C.Z)(function*(){const M=yield function Xs(I){return Lo.apply(this,arguments)}(_),j=new jl(_);return M.register("authEvent",z=>(wt(null==z?void 0:z.authEvent,_,"invalid-auth-event"),{status:j.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:j},b.iframes[_._key()]=M,j})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(vl,{type:vl},j=>{var z;const we=null===(z=null==j?void 0:j[0])||void 0===z?void 0:z[vl];void 0!==we&&b(!!we),Cn(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function yl(I){return Hl.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return _t()||ji()||ye()}};class zl extends class rc{constructor(_){this.factorId=_}_process(_,b,M){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,M);case"signin":return this._finalizeSignIn(_,b.credential);default:return ar("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new zl(_)}_finalizeEnroll(_,b,M){return function ra(I,_){return Bn(I,"POST","/v2/accounts/mfaEnrollment:finalize",en(I,_))}(_,{idToken:b,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function Dt(I,_){return Bn(I,"POST","/v2/accounts/mfaSignIn:finalize",en(I,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pi=(()=>{class I{constructor(){}static assertion(b){return zl._fromCredential(b)}}return I.FACTOR_ID="phone",I})();var Wd="@firebase/auth";class qd{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,C.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(M=>{var j;_((null===(j=M)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);!b||(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mf(I=(0,me.getApp)()){const _=(0,me._getProvider)(I,"auth");return _.isInitialized()?_.getImmediate():function ir(I,_){const b=(0,me._getProvider)(I,"auth");if(b.isInitialized()){const j=b.getImmediate(),z=b.getOptions();if((0,g.vZ)(z,null!=_?_:{}))return j;Cn(j,"already-initialized")}return b.initialize({options:_})}(I,{popupRedirectResolver:Tu,persistence:[Fc,pe,Jt]})}!function Kd(I){(0,me._registerComponent)(new $e.wA("auth",(_,{options:b})=>{const M=_.getProvider("app").getImmediate(),j=_.getProvider("heartbeat"),{apiKey:z,authDomain:we}=M.options;return((et,qt)=>{wt(z&&!z.includes(":"),"invalid-api-key",{appName:et.name}),wt(!(null==we?void 0:we.includes(":")),"argument-error",{appName:et.name});const Nt={apiKey:z,authDomain:we,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:On(I)},ln=new Xn(et,qt,Nt);return function Pr(I,_){const b=(null==_?void 0:_.persistence)||[],M=(Array.isArray(b)?b:[b]).map(An);(null==_?void 0:_.errorMap)&&I._updateErrorMap(_.errorMap),I._initializeWithPersistence(M,null==_?void 0:_.popupRedirectResolver)}(ln,b),ln})(M,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,M)=>{_.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new $e.wA("auth-internal",_=>{const b=yn(_.getProvider("auth").getImmediate());return new qd(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(Wd,"0.20.7",function mi(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,me.registerVersion)(Wd,"0.20.7","esm2017")}("Browser")},2090:(Bt,Ge,U)=>{U.d(Ge,{BH:()=>mt,LL:()=>$e,ZR:()=>it,gQ:()=>ar,zI:()=>Me,hu:()=>g,g5:()=>me,US:()=>Le,tV:()=>ze,h$:()=>K,L:()=>Ve,$s:()=>Jn,r3:()=>xe,ne:()=>Xt,p$:()=>ne,vZ:()=>Cn,ZB:()=>le,gK:()=>ge,pd:()=>wt,m9:()=>Gn,z$:()=>dt,GJ:()=>yt,jU:()=>Ze,ru:()=>Tt,xb:()=>St,w1:()=>Ue,hl:()=>je,uI:()=>at,UG:()=>He,Yr:()=>Mt,b$:()=>bt,w9:()=>ut,cI:()=>Wn,UI:()=>un,xO:()=>Yn,zd:()=>nr,DV:()=>Be,ug:()=>Rt,dS:()=>lt,Pz:()=>Kt,eu:()=>se});const g=function(ie,oe){if(!ie)throw me(oe)},me=function(ie){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ie)},be=function(ie){const oe=[];let ee=0;for(let ae=0;ae<ie.length;ae++){let de=ie.charCodeAt(ae);de<128?oe[ee++]=de:de<2048?(oe[ee++]=de>>6|192,oe[ee++]=63&de|128):55296==(64512&de)&&ae+1<ie.length&&56320==(64512&ie.charCodeAt(ae+1))?(de=65536+((1023&de)<<10)+(1023&ie.charCodeAt(++ae)),oe[ee++]=de>>18|240,oe[ee++]=de>>12&63|128,oe[ee++]=de>>6&63|128,oe[ee++]=63&de|128):(oe[ee++]=de>>12|224,oe[ee++]=de>>6&63|128,oe[ee++]=63&de|128)}return oe},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,oe){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[];for(let de=0;de<ie.length;de+=3){const Ne=ie[de],Lt=de+1<ie.length,At=Lt?ie[de+1]:0,Hn=de+2<ie.length,Mn=Hn?ie[de+2]:0;let Fr=(15&At)<<2|Mn>>6,Pe=63&Mn;Hn||(Pe=64,Lt||(Fr=64)),ae.push(ee[Ne>>2],ee[(3&Ne)<<4|At>>4],ee[Fr],ee[Pe])}return ae.join("")},encodeString(ie,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(ie):this.encodeByteArray(be(ie),oe)},decodeString(ie,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(ie):function(ie){const oe=[];let ee=0,ae=0;for(;ee<ie.length;){const de=ie[ee++];if(de<128)oe[ae++]=String.fromCharCode(de);else if(de>191&&de<224){const Ne=ie[ee++];oe[ae++]=String.fromCharCode((31&de)<<6|63&Ne)}else if(de>239&&de<365){const Hn=((7&de)<<18|(63&ie[ee++])<<12|(63&ie[ee++])<<6|63&ie[ee++])-65536;oe[ae++]=String.fromCharCode(55296+(Hn>>10)),oe[ae++]=String.fromCharCode(56320+(1023&Hn))}else{const Ne=ie[ee++],Lt=ie[ee++];oe[ae++]=String.fromCharCode((15&de)<<12|(63&Ne)<<6|63&Lt)}}return oe.join("")}(this.decodeStringToByteArray(ie,oe))},decodeStringToByteArray(ie,oe){this.init_();const ee=oe?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[];for(let de=0;de<ie.length;){const Ne=ee[ie.charAt(de++)],At=de<ie.length?ee[ie.charAt(de)]:0;++de;const Mn=de<ie.length?ee[ie.charAt(de)]:64;++de;const Nn=de<ie.length?ee[ie.charAt(de)]:64;if(++de,null==Ne||null==At||null==Mn||null==Nn)throw Error();ae.push(Ne<<2|At>>4),64!==Mn&&(ae.push(At<<4&240|Mn>>2),64!==Nn&&ae.push(Mn<<6&192|Nn))}return ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},K=function(ie){const oe=be(ie);return Le.encodeByteArray(oe,!0)},Ve=function(ie){return K(ie).replace(/\./g,"")},ze=function(ie){try{return Le.decodeString(ie,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function ne(ie){return le(void 0,ie)}function le(ie,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return oe}for(const ee in oe)!oe.hasOwnProperty(ee)||!Se(ee)||(ie[ee]=le(ie[ee],oe[ee]));return ie}function Se(ie){return"__proto__"!==ie}class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,ee)=>{this.resolve=oe,this.reject=ee})}wrapCallback(oe){return(ee,ae)=>{ee?this.reject(ee):this.resolve(ae),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(ee):oe(ee,ae))}}}function dt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function He(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function Ze(){return"object"==typeof self&&self.self===self}function Tt(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){const ie=dt();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function Mt(){return!1}function je(){return"object"==typeof indexedDB}function se(){return new Promise((ie,oe)=>{try{let ee=!0;const ae="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(ae);de.onsuccess=()=>{de.result.close(),ee||self.indexedDB.deleteDatabase(ae),ie(!0)},de.onupgradeneeded=()=>{ee=!1},de.onerror=()=>{var Ne;oe((null===(Ne=de.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(ee){oe(ee)}})}function Me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class it extends Error{constructor(oe,ee,ae){super(ee),this.code=oe,this.customData=ae,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(oe,ee,ae){this.service=oe,this.serviceName=ee,this.errors=ae}create(oe,...ee){const ae=ee[0]||{},de=`${this.service}/${oe}`,Ne=this.errors[oe],Lt=Ne?function Qt(ie,oe){return ie.replace(pn,(ee,ae)=>{const de=oe[ae];return null!=de?String(de):`<${ae}?>`})}(Ne,ae):"Error";return new it(de,`${this.serviceName}: ${Lt} (${de}).`,ae)}}const pn=/\{\$([^}]+)}/g;function Wn(ie){return JSON.parse(ie)}function Kt(ie){return JSON.stringify(ie)}const rn=function(ie){let oe={},ee={},ae={},de="";try{const Ne=ie.split(".");oe=Wn(ze(Ne[0])||""),ee=Wn(ze(Ne[1])||""),de=Ne[2],ae=ee.d||{},delete ee.d}catch(Ne){}return{header:oe,claims:ee,data:ae,signature:de}},ut=function(ie){const ee=rn(ie).claims;return!!ee&&"object"==typeof ee&&ee.hasOwnProperty("iat")},yt=function(ie){const oe=rn(ie).claims;return"object"==typeof oe&&!0===oe.admin};function xe(ie,oe){return Object.prototype.hasOwnProperty.call(ie,oe)}function Be(ie,oe){if(Object.prototype.hasOwnProperty.call(ie,oe))return ie[oe]}function St(ie){for(const oe in ie)if(Object.prototype.hasOwnProperty.call(ie,oe))return!1;return!0}function un(ie,oe,ee){const ae={};for(const de in ie)Object.prototype.hasOwnProperty.call(ie,de)&&(ae[de]=oe.call(ee,ie[de],de,ie));return ae}function Cn(ie,oe){if(ie===oe)return!0;const ee=Object.keys(ie),ae=Object.keys(oe);for(const de of ee){if(!ae.includes(de))return!1;const Ne=ie[de],Lt=oe[de];if(Tn(Ne)&&Tn(Lt)){if(!Cn(Ne,Lt))return!1}else if(Ne!==Lt)return!1}for(const de of ae)if(!ee.includes(de))return!1;return!0}function Tn(ie){return null!==ie&&"object"==typeof ie}function Yn(ie){const oe=[];for(const[ee,ae]of Object.entries(ie))Array.isArray(ae)?ae.forEach(de=>{oe.push(encodeURIComponent(ee)+"="+encodeURIComponent(de))}):oe.push(encodeURIComponent(ee)+"="+encodeURIComponent(ae));return oe.length?"&"+oe.join("&"):""}function nr(ie){const oe={};return ie.replace(/^\?/,"").split("&").forEach(ae=>{if(ae){const[de,Ne]=ae.split("=");oe[decodeURIComponent(de)]=decodeURIComponent(Ne)}}),oe}function wt(ie){const oe=ie.indexOf("?");if(!oe)return"";const ee=ie.indexOf("#",oe);return ie.substring(oe,ee>0?ee:void 0)}class ar{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let oe=1;oe<this.blockSize;++oe)this.pad_[oe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(oe,ee){ee||(ee=0);const ae=this.W_;if("string"==typeof oe)for(let Nn=0;Nn<16;Nn++)ae[Nn]=oe.charCodeAt(ee)<<24|oe.charCodeAt(ee+1)<<16|oe.charCodeAt(ee+2)<<8|oe.charCodeAt(ee+3),ee+=4;else for(let Nn=0;Nn<16;Nn++)ae[Nn]=oe[ee]<<24|oe[ee+1]<<16|oe[ee+2]<<8|oe[ee+3],ee+=4;for(let Nn=16;Nn<80;Nn++){const Fr=ae[Nn-3]^ae[Nn-8]^ae[Nn-14]^ae[Nn-16];ae[Nn]=4294967295&(Fr<<1|Fr>>>31)}let Mn,sr,de=this.chain_[0],Ne=this.chain_[1],Lt=this.chain_[2],At=this.chain_[3],Hn=this.chain_[4];for(let Nn=0;Nn<80;Nn++){Nn<40?Nn<20?(Mn=At^Ne&(Lt^At),sr=1518500249):(Mn=Ne^Lt^At,sr=1859775393):Nn<60?(Mn=Ne&Lt|At&(Ne|Lt),sr=2400959708):(Mn=Ne^Lt^At,sr=3395469782);const Fr=(de<<5|de>>>27)+Mn+Hn+sr+ae[Nn]&4294967295;Hn=At,At=Lt,Lt=4294967295&(Ne<<30|Ne>>>2),Ne=de,de=Fr}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+Ne&4294967295,this.chain_[2]=this.chain_[2]+Lt&4294967295,this.chain_[3]=this.chain_[3]+At&4294967295,this.chain_[4]=this.chain_[4]+Hn&4294967295}update(oe,ee){if(null==oe)return;void 0===ee&&(ee=oe.length);const ae=ee-this.blockSize;let de=0;const Ne=this.buf_;let Lt=this.inbuf_;for(;de<ee;){if(0===Lt)for(;de<=ae;)this.compress_(oe,de),de+=this.blockSize;if("string"==typeof oe){for(;de<ee;)if(Ne[Lt]=oe.charCodeAt(de),++Lt,++de,Lt===this.blockSize){this.compress_(Ne),Lt=0;break}}else for(;de<ee;)if(Ne[Lt]=oe[de],++Lt,++de,Lt===this.blockSize){this.compress_(Ne),Lt=0;break}}this.inbuf_=Lt,this.total_+=ee}digest(){const oe=[];let ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&ee,ee/=256;this.compress_(this.buf_);let ae=0;for(let de=0;de<5;de++)for(let Ne=24;Ne>=0;Ne-=8)oe[ae]=this.chain_[de]>>Ne&255,++ae;return oe}}function Xt(ie,oe){const ee=new cr(ie,oe);return ee.subscribe.bind(ee)}class cr{constructor(oe,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{oe(this)}).catch(ae=>{this.error(ae)})}next(oe){this.forEachObserver(ee=>{ee.next(oe)})}error(oe){this.forEachObserver(ee=>{ee.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,ee,ae){let de;if(void 0===oe&&void 0===ee&&void 0===ae)throw new Error("Missing Observer.");de=function ir(ie,oe){if("object"!=typeof ie||null===ie)return!1;for(const ee of oe)if(ee in ie&&"function"==typeof ie[ee])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:ee,complete:ae},void 0===de.next&&(de.next=Pr),void 0===de.error&&(de.error=Pr),void 0===de.complete&&(de.complete=Pr);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch(Lt){}}),this.observers.push(de),Ne}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,oe)}sendOne(oe,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{ee(this.observers[oe])}catch(ae){"undefined"!=typeof console&&console.error&&console.error(ae)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pr(){}function ge(ie,oe){return`${ie} failed: ${oe} argument `}const lt=function(ie){const oe=[];let ee=0;for(let ae=0;ae<ie.length;ae++){let de=ie.charCodeAt(ae);if(de>=55296&&de<=56319){const Ne=de-55296;ae++,g(ae<ie.length,"Surrogate pair missing trail surrogate."),de=65536+(Ne<<10)+(ie.charCodeAt(ae)-56320)}de<128?oe[ee++]=de:de<2048?(oe[ee++]=de>>6|192,oe[ee++]=63&de|128):de<65536?(oe[ee++]=de>>12|224,oe[ee++]=de>>6&63|128,oe[ee++]=63&de|128):(oe[ee++]=de>>18|240,oe[ee++]=de>>12&63|128,oe[ee++]=de>>6&63|128,oe[ee++]=63&de|128)}return oe},Rt=function(ie){let oe=0;for(let ee=0;ee<ie.length;ee++){const ae=ie.charCodeAt(ee);ae<128?oe++:ae<2048?oe+=2:ae>=55296&&ae<=56319?(oe+=4,ee++):oe+=3}return oe};function Jn(ie,oe=1e3,ee=2){const ae=oe*Math.pow(ee,ie),de=Math.round(.5*ae*(Math.random()-.5)*2);return Math.min(144e5,ae+de)}function Gn(ie){return ie&&ie._delegate?ie._delegate:ie}},994:(Bt,Ge,U)=>{U.d(Ge,{r:()=>mt});var C=U(5e3),g=U(9870),me=U(338);const be=function(){return["/home"]},Ae=function(){return["/salaJuegos/ahorcado"]},Le=function(){return["/salaJuegos/mayorMenor"]},K=function(){return["/salaJuegos/preguntados"]},Ve=function(){return["/salaJuegos/calculoExacto"]},ze=function(){return["/chat"]},ne=function(){return["/resultados"]},le=function(){return["/quiensoy"]},Se=function(){return["/encuesta"]};let mt=(()=>{class We{constructor(at){this.as=at}ngOnInit(){}}return We.\u0275fac=function(at){return new(at||We)(C.Y36(g.e))},We.\u0275cmp=C.Xpm({type:We,selectors:[["app-nav"]],decls:37,vars:19,consts:[[1,"navbar","navbar-expand-lg",2,"background-color","#e3f2fda8"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"navbar-nav","my-2","my-lg-0"],[1,"nav-link"],[1,"nav-link",3,"click"]],template:function(at,He){1&at&&(C.TgZ(0,"nav",0),C.TgZ(1,"div",1),C.TgZ(2,"ul",2),C.TgZ(3,"li",3),C.TgZ(4,"a",4),C._uU(5,"Inicio"),C.qZA(),C.qZA(),C.TgZ(6,"li",5),C.TgZ(7,"a",6),C._uU(8," Juegos "),C.qZA(),C.TgZ(9,"div",7),C.TgZ(10,"a",8),C._uU(11,"Ahorcado"),C.qZA(),C.TgZ(12,"a",8),C._uU(13,"Mayor o Menor"),C.qZA(),C.TgZ(14,"a",8),C._uU(15,"Preguntados"),C.qZA(),C.TgZ(16,"a",8),C._uU(17,"Calculo Exacto"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(18,"li",3),C.TgZ(19,"a",4),C._uU(20,"Chat"),C.qZA(),C.qZA(),C.TgZ(21,"li",3),C.TgZ(22,"a",4),C._uU(23,"Resultados"),C.qZA(),C.qZA(),C.TgZ(24,"li",3),C.TgZ(25,"a",4),C._uU(26,"Quien Soy"),C.qZA(),C.qZA(),C.TgZ(27,"li",3),C.TgZ(28,"a",4),C._uU(29,"Encuesta"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(30,"ul",9),C.TgZ(31,"li",3),C.TgZ(32,"a",10),C._uU(33),C.qZA(),C.qZA(),C.TgZ(34,"li",3),C.TgZ(35,"a",11),C.NdJ("click",function(){return He.as.logout()}),C._uU(36,"Cerrar Sesion"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA()),2&at&&(C.xp6(4),C.Q6J("routerLink",C.DdM(10,be)),C.xp6(6),C.Q6J("routerLink",C.DdM(11,Ae)),C.xp6(2),C.Q6J("routerLink",C.DdM(12,Le)),C.xp6(2),C.Q6J("routerLink",C.DdM(13,K)),C.xp6(2),C.Q6J("routerLink",C.DdM(14,Ve)),C.xp6(3),C.Q6J("routerLink",C.DdM(15,ze)),C.xp6(3),C.Q6J("routerLink",C.DdM(16,ne)),C.xp6(3),C.Q6J("routerLink",C.DdM(17,le)),C.xp6(3),C.Q6J("routerLink",C.DdM(18,Se)),C.xp6(5),C.Oqu(He.as.logueado.correo))},directives:[me.yS],styles:["a[_ngcontent-%COMP%]{color:#000;font-size:large}"]}),We})()},9870:(Bt,Ge,U)=>{U.d(Ge,{e:()=>K});class C{}var g=U(8937),me=U(5e3),be=U(338),Ae=U(2290),Le=U(1343);let K=(()=>{class Ve{constructor(ne,le,Se){this.router=ne,this.toastr=le,this.fs=Se,this.logueado=new C,this.log={},this.logueado.correo=void 0,this.logueado.clave=void 0,this.auth=(0,g.v0)()}registro(ne){(0,g.Xb)(this.auth,ne.correo,ne.clave).then(le=>{this.logueado=ne,this.toastr.success("USUARIO REGISTRADO!","Disfruta!"),this.router.navigate(["/home"])})}login(ne,le){(0,g.e5)(this.auth,ne,le).then(()=>{this.logueado.correo=ne,this.logueado.clave=le;let Se=new Date;this.log.usuario=this.logueado,this.log.fIngreso=Se;let mt={usuario:this.log.usuario.correo,fIngreso:Se};this.router.navigate(["/home"]),this.fs.agregarLog(mt)}).catch(Se=>{"auth/user-not-found"==Se.code?this.toastr.error("Usuario no encontrado"):"auth/wrong-password"==Se.code||"auth/wrong-email"==Se.code?this.toastr.error("La contrase\xf1a o el email son incorrectos"):"auth/missing-email"==Se.code||"auth/missing-password"==Se.code?this.toastr.error("No puede haber ning\xfan campo vac\xedo"):("auth/invalid-email"==Se.code||"auth/invalid-password"==Se.code)&&this.toastr.error("La contrase\xf1a o el email son incorrectos")})}logout(){(0,g.w7)(this.auth),this.logueado.correo=void 0,this.logueado.clave=void 0,this.router.navigateByUrl("/login")}}return Ve.\u0275fac=function(ne){return new(ne||Ve)(me.LFG(be.F0),me.LFG(Ae._W),me.LFG(Le.C))},Ve.\u0275prov=me.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})()},1343:(Bt,Ge,U)=>{U.d(Ge,{C:()=>me});var C=U(9318),g=U(5e3);let me=(()=>{class be{constructor(Le){this.FireStore=Le,this.logUsuariosCollectionReference=(0,C.hJ)(this.FireStore,"registros"),this.resultadosCollectionReference=(0,C.hJ)(this.FireStore,"resultados"),this.encuestaCollectionReference=(0,C.hJ)(this.FireStore,"encuesta")}agregarLog(Le){return(0,C.ET)(this.logUsuariosCollectionReference,Le)}agregarEncuesta(Le){return(0,C.ET)(this.encuestaCollectionReference,Le)}agregarResultado(Le){return(0,C.ET)(this.resultadosCollectionReference,Le)}ListaUsuarios(){return(0,C.BS)(this.logUsuariosCollectionReference,{idField:"id"})}listaResultados(){return(0,C.BS)(this.resultadosCollectionReference,{idField:"id"})}}return be.\u0275fac=function(Le){return new(Le||be)(g.LFG(C.gg))},be.\u0275prov=g.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},434:(Bt,Ge,U)=>{var C=U(2313),g=U(5e3),me=U(338),be=U(5861),Ae=U(9681),Le=U(4859),K=U(2090),Ve=U(1877);const ze="@firebase/database";let le="";class mt{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,n){null==n?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,K.Pz)(n))}get(i){const n=this.domStorage_.getItem(this.prefixedName_(i));return null==n?null:(0,K.cI)(n)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class We{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,n){null==n?delete this.cache_[i]:this.cache_[i]=n}get(i){return(0,K.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const dt=function(a){try{if("undefined"!=typeof window&&void 0!==window[a]){const i=window[a];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new mt(i)}}catch(i){}return new We},at=dt("localStorage"),He=dt("sessionStorage"),Ze=new Ve.Yd("@firebase/database"),Tt=function(){let a=1;return function(){return a++}}(),bt=function(a){const i=(0,K.dS)(a),n=new K.gQ;n.update(i);const u=n.digest();return K.US.encodeByteArray(u)},qe=function(...a){let i="";for(let n=0;n<a.length;n++){const u=a[n];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?i+=qe.apply(null,u):i+="object"==typeof u?(0,K.Pz)(u):u,i+=" "}return i};let Ue=null,De=!0;const ct=function(...a){if(!0===De&&(De=!1,null===Ue&&!0===He.get("logging_enabled")&&function(a,i){(0,K.hu)(!i||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(Ze.logLevel=Ve.in.VERBOSE,Ue=Ze.log.bind(Ze),i&&He.set("logging_enabled",!0)):"function"==typeof a?Ue=a:(Ue=null,He.remove("logging_enabled"))}(!0)),Ue){const i=qe.apply(null,a);Ue(i)}},je=function(a){return function(...i){ct(a,...i)}},se=function(...a){const i="FIREBASE INTERNAL ERROR: "+qe(...a);Ze.error(i)},Me=function(...a){const i=`FIREBASE FATAL ERROR: ${qe(...a)}`;throw Ze.error(i),new Error(i)},Fe=function(...a){const i="FIREBASE WARNING: "+qe(...a);Ze.warn(i)},it=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Qt="[MIN_NAME]",pn="[MAX_NAME]",Wn=function(a,i){if(a===i)return 0;if(a===Qt||i===pn)return-1;if(i===Qt||a===pn)return 1;{const n=qn(a),u=qn(i);return null!==n?null!==u?n-u==0?a.length-i.length:n-u:-1:null!==u?1:a<i?-1:1}},Kt=function(a,i){return a===i?0:a<i?-1:1},rn=function(a,i){if(i&&a in i)return i[a];throw new Error("Missing required key ("+a+") in object: "+(0,K.Pz)(i))},sn=function(a){if("object"!=typeof a||null===a)return(0,K.Pz)(a);const i=[];for(const u in a)i.push(u);i.sort();let n="{";for(let u=0;u<i.length;u++)0!==u&&(n+=","),n+=(0,K.Pz)(i[u]),n+=":",n+=sn(a[i[u]]);return n+="}",n},Vn=function(a,i){const n=a.length;if(n<=i)return[a];const u=[];for(let p=0;p<n;p+=i)u.push(a.substring(p,p+i>n?n:p+i));return u};function ut(a,i){for(const n in a)a.hasOwnProperty(n)&&i(n,a[n])}const yt=function(a){(0,K.hu)(!it(a),"Invalid JSON number");const u=1023;let p,v,t,r,o;0===a?(v=0,t=0,p=1/a==-1/0?1:0):(p=a<0,(a=Math.abs(a))>=Math.pow(2,1-u)?(r=Math.min(Math.floor(Math.log(a)/Math.LN2),u),v=r+u,t=Math.round(a*Math.pow(2,52-r)-Math.pow(2,52))):(v=0,t=Math.round(a/Math.pow(2,-1074))));const d=[];for(o=52;o;o-=1)d.push(t%2?1:0),t=Math.floor(t/2);for(o=11;o;o-=1)d.push(v%2?1:0),v=Math.floor(v/2);d.push(p?1:0),d.reverse();const h=d.join("");let m="";for(o=0;o<64;o+=8){let E=parseInt(h.substr(o,8),2).toString(16);1===E.length&&(E="0"+E),m+=E}return m.toLowerCase()},un=new RegExp("^-?(0*)\\d{1,10}$"),qn=function(a){if(un.test(a)){const i=Number(a);if(i>=-2147483648&&i<=2147483647)return i}return null},Yn=function(a){try{a()}catch(i){setTimeout(()=>{throw Fe("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},wt=function(a,i){const n=setTimeout(a,i);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class ar{constructor(i,n){this.appName_=i,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(u=>this.appCheck=u)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((n,u)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(n,u):n(null)},0)})}addTokenChangeListener(i){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(u=>u.addTokenListener(i))}notifyForInvalidToken(){Fe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xt{constructor(i,n,u){this.appName_=i,this.firebaseOptions_=n,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(p=>this.auth_=p)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(n=>n&&"auth/token-not-initialized"===n.code?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,u)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(n,u):n(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(n=>n.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(n=>n.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fe(i)}}let cr=(()=>{class a{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const ve=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rt="websocket",jt="long_polling";class wn{constructor(i,n,u,p,v=!1,t="",r=!1){this.secure=n,this.namespace=u,this.webSocketOnly=p,this.nodeAdmin=v,this.persistenceKey=t,this.includeNamespaceInQueryParams=r,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=at.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&at.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function en(a,i,n){let u;if((0,K.hu)("string"==typeof i,"typeof type must == string"),(0,K.hu)("object"==typeof n,"typeof params must == object"),i===Rt)u=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(i!==jt)throw new Error("Unknown connection type: "+i);u=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function Qn(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(n.ns=a.namespace);const p=[];return ut(n,(v,t)=>{p.push(v+"="+t)}),u+p.join("&")}class Bn{constructor(){this.counters_={}}incrementCounter(i,n=1){(0,K.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=n}get(){return(0,K.p$)(this.counters_)}}const Jn={},cn={};function Je(a){const i=a.toString();return Jn[i]||(Jn[i]=new Bn),Jn[i]}class ie{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,n){this.closeAfterResponse=i,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,n){for(this.pendingResponses[i]=n;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<u.length;++p)u[p]&&Yn(()=>{this.onMessage_(u[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ft{constructor(i,n,u,p,v,t,r){this.connId=i,this.repoInfo=n,this.applicationId=u,this.appCheckToken=p,this.authToken=v,this.transportSessionId=t,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=je(i),this.stats_=Je(n),this.urlFn=o=>(this.appCheckToken&&(o.ac=this.appCheckToken),en(n,jt,o))}open(i,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ie(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,K.Yr)()||"complete"===document.readyState)a();else{let i=!1;const n=function(){document.body?i||(i=!0,a()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dn((...v)=>{const[t,r,o,d,h]=v;if(this.incrementIncomingBytes_(v),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=r,this.password=o;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_()}},(...v)=>{const[t,r]=v;this.incrementIncomingBytes_(v),this.myPacketOrderer.handleResponse(t,r)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ve.test(location.hostname)&&(u.r="f");const p=this.urlFn(u);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ft.forceAllow_=!0}static forceDisallow(){Ft.forceDisallow_=!0}static isAvailable(){return!((0,K.Yr)()||!Ft.forceAllow_&&(Ft.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const n=(0,K.Pz)(i);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const u=(0,K.h$)(n),p=Vn(u,1840);for(let v=0;v<p.length;v++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[v]),this.curSegmentNum++}addDisconnectPingFrame(i,n){if((0,K.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=i,u.pw=n,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const n=(0,K.Pz)(i).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dn{constructor(i,n,u,p){if(this.onDisconnect=u,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,K.Yr)())this.commandCB=i,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Tt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=dn.createIFrame_();let v="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(v='<script>document.domain="'+document.domain+'";<\/script>');const t="<html><body>"+v+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(t),this.myIFrame.doc.close()}catch(r){ct("frame writing exception"),r.stack&&ct(r.stack),ct(r)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||ct("No IE domain setting required")}catch(n){const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,n){for(this.myID=i,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let n=this.urlFn(i),u="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const t=this.pendingSegs.shift();u=u+"&seg"+p+"="+t.seg+"&ts"+p+"="+t.ts+"&d"+p+"="+t.d,p++}return n+=u,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(i,n,u){this.pendingSegs.push({seg:i,ts:n,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,n){this.outstandingRequests.add(n);const u=()=>{this.outstandingRequests.delete(n),this.newRequest_()},p=setTimeout(u,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(p),u()})}addTag(i,n){(0,K.Yr)()?this.doNodeLongPoll(i,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const p=u.readyState;(!p||"loaded"===p||"complete"===p)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),n())},u.onerror=()=>{ct("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch(u){}},Math.floor(1))}}let Lr=null;"undefined"!=typeof MozWebSocket?Lr=MozWebSocket:"undefined"!=typeof WebSocket&&(Lr=WebSocket);let yr=(()=>{class a{constructor(n,u,p,v,t,r,o){this.connId=n,this.applicationId=p,this.appCheckToken=v,this.authToken=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=je(this.connId),this.stats_=Je(u),this.connURL=a.connectionURL_(u,r,o,v,p),this.nodeAdmin=u.nodeAdmin}static connectionURL_(n,u,p,v,t){const r={v:"5"};return!(0,K.Yr)()&&"undefined"!=typeof location&&location.hostname&&ve.test(location.hostname)&&(r.r="f"),u&&(r.s=u),p&&(r.ls=p),v&&(r.ac=v),t&&(r.p=t),en(n,Rt,r)}open(n,u){this.onDisconnect=u,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,at.set("previous_websocket_failure",!0);try{let p;if((0,K.Yr)()){p={headers:{"User-Agent":`Firebase/5/${le}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,r=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;r&&(p.proxy={origin:r})}this.mySock=new Lr(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const v=p.message||p.data;return v&&this.log_(v),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const v=p.message||p.data;v&&this.log_(v),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(n=!0)}return!n&&null!==Lr&&!a.forceDisallow_}static previouslyFailed(){return at.isInMemoryStorage||!0===at.get("previous_websocket_failure")}markConnectionHealthy(){at.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const p=(0,K.cI)(u);this.onMessage(p)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,K.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const u=Number(n);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const u=n.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const p=this.extractFrameCount_(u);null!==p&&this.appendFrame_(p)}}send(n){this.resetKeepAlive();const u=(0,K.Pz)(n);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const p=Vn(u,16384);p.length>1&&this.sendString_(String(p.length));for(let v=0;v<p.length;v++)this.sendString_(p[v])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})(),Ie=(()=>{class a{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ft,yr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const u=yr&&yr.isAvailable();let p=u&&!yr.previouslyFailed();if(n.webSocketOnly&&(u||Fe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[yr];else{const v=this.transports_=[];for(const t of a.ALL_TRANSPORTS)t&&t.isAvailable()&&v.push(t);a.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return a.globalTransportInitialized_=!1,a})();class ji{constructor(i,n,u,p,v,t,r,o,d,h){this.id=i,this.repoInfo_=n,this.applicationId_=u,this.appCheckToken_=p,this.authToken_=v,this.onMessage_=t,this.onReady_=r,this.onDisconnect_=o,this.onKill_=d,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=je("c:"+this.id+":"),this.transportManager_=new Ie(n),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,u)},Math.floor(0));const p=i.healthyTimeout||0;p>0&&(this.healthyTimeout_=wt(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return n=>{i===this.conn_?this.onConnectionLost_(n):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return n=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(n):i===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const n=i.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const n=rn("t",i),u=rn("d",i);if("c"===n)this.onSecondaryControl_(u);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const n=rn("t",i),u=rn("d",i);"c"===n?this.onControl_(u):"d"===n&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const n=rn("t",i);if("d"in i){const u=i.d;if("h"===n)this.onHandshake_(u);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(u):"r"===n?this.onReset_(u):"e"===n?se("Server Error: "+u):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):se("Unknown control packet command: "+n)}}onHandshake_(i){const n=i.ts,u=i.v,p=i.h;this.sessionId=i.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==u&&Fe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,u),wt(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,n){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wt(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(at.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ti{put(i,n,u,p){}merge(i,n,u,p){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,n,u){}onDisconnectMerge(i,n,u){}onDisconnectCancel(i,n){}reportStats(i){}}class Hi{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,K.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...n){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let p=0;p<u.length;p++)u[p].callback.apply(u[p].context,n)}}on(i,n,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:n,context:u});const p=this.getInitialEvent(i);p&&n.apply(u,p)}off(i,n,u){this.validateEventType_(i);const p=this.listeners_[i]||[];for(let v=0;v<p.length;v++)if(p[v].callback===n&&(!u||u===p[v].context))return void p.splice(v,1)}validateEventType_(i){(0,K.hu)(this.allowedEvents_.find(n=>n===i),"Unknown event: "+i)}}class _i extends Hi{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,K.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _i}getInitialEvent(i){return(0,K.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class ye{constructor(i,n){if(void 0===n){this.pieces_=i.split("/");let u=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[u]=this.pieces_[p],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=n}toString(){let i="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(i+="/"+this.pieces_[n]);return i||"/"}}function he(){return new ye("")}function Ee(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ft(a){return a.pieces_.length-a.pieceNum_}function _t(a){let i=a.pieceNum_;return i<a.pieces_.length&&i++,new ye(a.pieces_,i)}function Wt(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function dr(a,i=0){return a.pieces_.slice(a.pieceNum_+i)}function Xn(a){if(a.pieceNum_>=a.pieces_.length)return null;const i=[];for(let n=a.pieceNum_;n<a.pieces_.length-1;n++)i.push(a.pieces_[n]);return new ye(i,0)}function yn(a,i){const n=[];for(let u=a.pieceNum_;u<a.pieces_.length;u++)n.push(a.pieces_[u]);if(i instanceof ye)for(let u=i.pieceNum_;u<i.pieces_.length;u++)n.push(i.pieces_[u]);else{const u=i.split("/");for(let p=0;p<u.length;p++)u[p].length>0&&n.push(u[p])}return new ye(n,0)}function gn(a){return a.pieceNum_>=a.pieces_.length}function Vr(a,i){const n=Ee(a),u=Ee(i);if(null===n)return i;if(n===u)return Vr(_t(a),_t(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+a+")")}function as(a,i){if(ft(a)!==ft(i))return!1;for(let n=a.pieceNum_,u=i.pieceNum_;n<=a.pieces_.length;n++,u++)if(a.pieces_[n]!==i.pieces_[u])return!1;return!0}function hr(a,i){let n=a.pieceNum_,u=i.pieceNum_;if(ft(a)>ft(i))return!1;for(;n<a.pieces_.length;){if(a.pieces_[n]!==i.pieces_[u])return!1;++n,++u}return!0}class wa{constructor(i,n){this.errorPrefix_=n,this.parts_=dr(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,K.ug)(this.parts_[u]);bs(this)}}function bs(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mi(a))}function Mi(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class Gs extends Hi{constructor(){let i,n;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",i="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Gs}getInitialEvent(i){return(0,K.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const us=1e3;let Br,$i=(()=>{class a extends ti{constructor(n,u,p,v,t,r,o,d){if(super(),this.repoInfo_=n,this.applicationId_=u,this.onDataUpdate_=p,this.onConnectStatus_=v,this.onServerInfoUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.authOverride_=d,this.id=a.nextPersistentConnectionId_++,this.log_=je("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=us,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!(0,K.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gs.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&_i.getInstance().on("online",this.onOnline_,this)}sendRequest(n,u,p){const v=++this.requestNumber_,t={r:v,a:n,b:u};this.log_((0,K.Pz)(t)),(0,K.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),p&&(this.requestCBHash_[v]=p)}get(n){this.initConnection_();const u=new K.BH,p={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:p,onComplete:r=>{const o=r.d;"ok"===r.s?u.resolve(o):u.reject(o)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(n,u,p,v){this.initConnection_();const t=n._queryIdentifier,r=n._path.toString();this.log_("Listen called for "+r+" "+t),this.listens.has(r)||this.listens.set(r,new Map),(0,K.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,K.hu)(!this.listens.get(r).has(t),"listen() called twice for same path/queryId.");const o={onComplete:v,hashFn:u,query:n,tag:p};this.listens.get(r).set(t,o),this.connected_&&this.sendListen_(o)}sendGet_(n){const u=this.outstandingGets_[n];this.sendRequest("g",u.request,p=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(p)})}sendListen_(n){const u=n.query,p=u._path.toString(),v=u._queryIdentifier;this.log_("Listen on "+p+" for "+v);const t={p};n.tag&&(t.q=u._queryObject,t.t=n.tag),t.h=n.hashFn(),this.sendRequest("q",t,o=>{const d=o.d,h=o.s;a.warnOnListenWarnings_(d,u),(this.listens.get(p)&&this.listens.get(p).get(v))===n&&(this.log_("listen response",o),"ok"!==h&&this.removeListen_(p,v),n.onComplete&&n.onComplete(h,d))})}static warnOnListenWarnings_(n,u){if(n&&"object"==typeof n&&(0,K.r3)(n,"w")){const p=(0,K.DV)(n,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const v='".indexOn": "'+u._queryParams.getIndex().toString()+'"',t=u._path.toString();Fe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${v} at ${t} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,K.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,u=(0,K.w9)(n)?"auth":"gauth",p={cred:n};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(u,p,v=>{const t=v.s,r=v.d||"error";this.authToken_===n&&("ok"===t?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(t,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const u=n.s,p=n.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,p)})}unlisten(n,u){const p=n._path.toString(),v=n._queryIdentifier;this.log_("Unlisten called for "+p+" "+v),(0,K.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,v)&&this.connected_&&this.sendUnlisten_(p,v,n._queryObject,u)}sendUnlisten_(n,u,p,v){this.log_("Unlisten on "+n+" for "+u);const t={p:n};v&&(t.q=p,t.t=v),this.sendRequest("n",t)}onDisconnectPut(n,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,u,p):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:u,onComplete:p})}onDisconnectMerge(n,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,u,p):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:u,onComplete:p})}onDisconnectCancel(n,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(n,u,p,v){const t={p:u,d:p};this.log_("onDisconnect "+n,t),this.sendRequest(n,t,r=>{v&&setTimeout(()=>{v(r.s,r.d)},Math.floor(0))})}put(n,u,p,v){this.putInternal("p",n,u,p,v)}merge(n,u,p,v){this.putInternal("m",n,u,p,v)}putInternal(n,u,p,v,t){this.initConnection_();const r={p:u,d:p};void 0!==t&&(r.h=t),this.outstandingPuts_.push({action:n,request:r,onComplete:v}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(n){const u=this.outstandingPuts_[n].action,p=this.outstandingPuts_[n].request,v=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(u,p,t=>{this.log_(u+" response",t),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),v&&v(t.s,t.d)})}reportStats(n){if(this.connected_){const u={c:n};this.log_("reportStats",u),this.sendRequest("s",u,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,K.Pz)(n));const u=n.r,p=this.requestCBHash_[u];p&&(delete this.requestCBHash_[u],p(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,u){this.log_("handleServerMessage",n,u),"d"===n?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===n?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===n?this.onListenRevoked_(u.p,u.q):"ac"===n?this.onAuthRevoked_(u.s,u.d):"apc"===n?this.onAppCheckRevoked_(u.s,u.d):"sd"===n?this.onSecurityDebugPacket_(u):se("Unrecognized action received from server: "+(0,K.Pz)(n)+"\nAre you using the latest client?")}onReady_(n,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,K.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-n);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,be.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const u=n.onDataMessage_.bind(n),p=n.onReady_.bind(n),v=n.onRealtimeDisconnect_.bind(n),t=n.id+":"+a.nextConnectionId_++,r=n.lastSessionId;let o=!1,d=null;const h=function(){d?d.close():(o=!0,v())};n.realtime_={close:h,sendRequest:function(T){(0,K.hu)(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(T)}};const E=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[T,O]=yield Promise.all([n.authTokenProvider_.getToken(E),n.appCheckTokenProvider_.getToken(E)]);o?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),n.authToken_=T&&T.accessToken,n.appCheckToken_=O&&O.token,d=new ji(t,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,u,p,v,F=>{Fe(F+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},r))}catch(T){n.log_("Failed to get token: "+T),o||(n.repoInfo_.nodeAdmin&&Fe(T),h())}}})()}interrupt(n){ct("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ct("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,K.xb)(this.interruptReasons_)&&(this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const u=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const u=this.outstandingPuts_[n];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,u){let p;p=u?u.map(t=>sn(t)).join("$"):"default";const v=this.removeListen_(n,p);v&&v.onComplete&&v.onComplete("permission_denied")}removeListen_(n,u){const p=new ye(n).toString();let v;if(this.listens.has(p)){const t=this.listens.get(p);v=t.get(u),t.delete(u),0===t.size&&this.listens.delete(p)}else v=void 0;return v}onAuthRevoked_(n,u){ct("Auth token revoked: "+n+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,u){ct("App check token revoked: "+n+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const u of n.values())this.sendListen_(u);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let u="js";(0,K.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+u+"."+le.replace(/\./g,"-")]=1,(0,K.uI)()?n["framework.cordova"]=1:(0,K.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=_i.getInstance().currentlyOnline();return(0,K.xb)(this.interruptReasons_)&&n}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class Fn{constructor(i,n){this.name=i,this.node=n}static Wrap(i,n){return new Fn(i,n)}}class Yi{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,n){const u=new Fn(Qt,i),p=new Fn(Qt,n);return 0!==this.compare(u,p)}minPost(){return Fn.MIN}}class Kr extends Yi{static get __EMPTY_NODE(){return Br}static set __EMPTY_NODE(i){Br=i}compare(i,n){return Wn(i.name,n.name)}isDefinedOn(i){throw(0,K.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,n){return!1}minPost(){return Fn.MIN}maxPost(){return new Fn(pn,Br)}makePost(i,n){return(0,K.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Fn(i,Br)}toString(){return".key"}}const yi=new Kr;class li{constructor(i,n,u,p,v=null){this.isReverse_=p,this.resultGenerator_=v,this.nodeStack_=[];let t=1;for(;!i.isEmpty();)if(i=i,t=n?u(i.key,n):1,p&&(t*=-1),t<0)i=this.isReverse_?i.left:i.right;else{if(0===t){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,i=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Oi,xi=(()=>{class a{constructor(n,u,p,v,t){this.key=n,this.value=u,this.color=null!=p?p:a.RED,this.left=null!=v?v:Zr.EMPTY_NODE,this.right=null!=t?t:Zr.EMPTY_NODE}copy(n,u,p,v,t){return new a(null!=n?n:this.key,null!=u?u:this.value,null!=p?p:this.color,null!=v?v:this.left,null!=t?t:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,u,p){let v=this;const t=p(n,v.key);return v=t<0?v.copy(null,null,null,v.left.insert(n,u,p),null):0===t?v.copy(null,u,null,null,null):v.copy(null,null,null,null,v.right.insert(n,u,p)),v.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,u){let p,v;if(p=this,u(n,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(n,u),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===u(n,p.key)){if(p.right.isEmpty())return Zr.EMPTY_NODE;v=p.right.min_(),p=p.copy(v.key,v.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(n,u))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,u)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class Zr{constructor(i,n=Zr.EMPTY_NODE){this.comparator_=i,this.root_=n}insert(i,n){return new Zr(this.comparator_,this.root_.insert(i,n,this.comparator_).copy(null,null,xi.BLACK,null,null))}remove(i){return new Zr(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,xi.BLACK,null,null))}get(i){let n,u=this.root_;for(;!u.isEmpty();){if(n=this.comparator_(i,u.key),0===n)return u.value;n<0?u=u.left:n>0&&(u=u.right)}return null}getPredecessorKey(i){let n,u=this.root_,p=null;for(;!u.isEmpty();){if(n=this.comparator_(i,u.key),0===n){if(u.left.isEmpty())return p?p.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}n<0?u=u.left:n>0&&(p=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new li(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,n){return new li(this.root_,i,this.comparator_,!1,n)}getReverseIteratorFrom(i,n){return new li(this.root_,i,this.comparator_,!0,n)}getReverseIterator(i){return new li(this.root_,null,this.comparator_,!0,i)}}function zs(a,i){return Wn(a.name,i.name)}function vi(a,i){return Wn(a,i)}Zr.EMPTY_NODE=new class Es{copy(i,n,u,p,v){return this}insert(i,n,u){return new xi(i,n,null)}remove(i,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Pl=function(a){return"number"==typeof a?"number:"+yt(a):"string:"+a},bi=function(a){if(a.isLeafNode()){const i=a.val();(0,K.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,K.r3)(i,".sv"),"Priority must be a string or number.")}else(0,K.hu)(a===Oi||a.isEmpty(),"priority of unexpected type.");(0,K.hu)(a===Oi||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ta,Qi,cs,Mr=(()=>{class a{constructor(n,u=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=u,this.lazyHash_=null,(0,K.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bi(this.priorityNode_)}static set __childrenNodeConstructor(n){Ta=n}static get __childrenNodeConstructor(){return Ta}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new a(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return gn(n)?this:".priority"===Ee(n)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,u){return null}updateImmediateChild(n,u){return".priority"===n?this.updatePriority(u):u.isEmpty()&&".priority"!==n?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,u).updatePriority(this.priorityNode_)}updateChild(n,u){const p=Ee(n);return null===p?u:u.isEmpty()&&".priority"!==p?this:((0,K.hu)(".priority"!==p||1===ft(n),".priority must be the last token in a path"),this.updateImmediateChild(p,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(n),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,u){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Pl(this.priorityNode_.val())+":");const u=typeof this.value_;n+=u+":",n+="number"===u?yt(this.value_):this.value_,this.lazyHash_=bt(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===a.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof a.__childrenNodeConstructor?-1:((0,K.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const u=typeof n.value_,p=typeof this.value_,v=a.VALUE_TYPE_ORDER.indexOf(u),t=a.VALUE_TYPE_ORDER.indexOf(p);return(0,K.hu)(v>=0,"Unknown leaf type: "+u),(0,K.hu)(t>=0,"Unknown leaf type: "+p),v===t?"object"===p?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:t-v}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const u=n;return this.value_===u.value_&&this.priorityNode_.equals(u.priorityNode_)}return!1}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const Kn=new class Io extends Yi{compare(i,n){const u=i.node.getPriority(),p=n.node.getPriority(),v=u.compareTo(p);return 0===v?Wn(i.name,n.name):v}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,n){return!i.getPriority().equals(n.getPriority())}minPost(){return Fn.MIN}maxPost(){return new Fn(pn,new Mr("[PRIORITY-POST]",cs))}makePost(i,n){const u=Qi(i);return new Fn(n,new Mr("[PRIORITY-POST]",u))}toString(){return".priority"}},vr=Math.log(2);class ws{constructor(i){this.count=parseInt(Math.log(i+1)/vr,10),this.current_=this.count-1;const p=(v=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&p}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const To=function(a,i,n,u){a.sort(i);const p=function(o,d){const h=d-o;let m,E;if(0===h)return null;if(1===h)return m=a[o],E=n?n(m):m,new xi(E,m.node,xi.BLACK,null,null);{const T=parseInt(h/2,10)+o,O=p(o,T),F=p(T+1,d);return m=a[T],E=n?n(m):m,new xi(E,m.node,xi.BLACK,O,F)}},r=function(o){let d=null,h=null,m=a.length;const E=function(O,F){const $=m-O,Q=m;m-=O;const ue=p($+1,Q),Oe=a[$],Ke=n?n(Oe):Oe;T(new xi(Ke,Oe.node,F,null,ue))},T=function(O){d?(d.left=O,d=O):(h=O,d=O)};for(let O=0;O<o.count;++O){const F=o.nextBitIsOne(),$=Math.pow(2,o.count-(O+1));F?E($,xi.BLACK):(E($,xi.BLACK),E($,xi.RED))}return h}(new ws(a.length));return new Zr(u||i,r)};let Tr;const L={};class W{constructor(i,n){this.indexes_=i,this.indexSet_=n}static get Default(){return(0,K.hu)(L&&Kn,"ChildrenNode.ts has not been loaded"),Tr=Tr||new W({".priority":L},{".priority":Kn}),Tr}get(i){const n=(0,K.DV)(this.indexes_,i);if(!n)throw new Error("No index defined for "+i);return n instanceof Zr?n:null}hasIndex(i){return(0,K.r3)(this.indexSet_,i.toString())}addIndex(i,n){(0,K.hu)(i!==yi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let p=!1;const v=n.getIterator(Fn.Wrap);let r,t=v.getNext();for(;t;)p=p||i.isDefinedOn(t.node),u.push(t),t=v.getNext();r=p?To(u,i.getCompare()):L;const o=i.toString(),d=Object.assign({},this.indexSet_);d[o]=i;const h=Object.assign({},this.indexes_);return h[o]=r,new W(h,d)}addToIndexes(i,n){const u=(0,K.UI)(this.indexes_,(p,v)=>{const t=(0,K.DV)(this.indexSet_,v);if((0,K.hu)(t,"Missing index implementation for "+v),p===L){if(t.isDefinedOn(i.node)){const r=[],o=n.getIterator(Fn.Wrap);let d=o.getNext();for(;d;)d.name!==i.name&&r.push(d),d=o.getNext();return r.push(i),To(r,t.getCompare())}return L}{const r=n.get(i.name);let o=p;return r&&(o=o.remove(new Fn(i.name,r))),o.insert(i,i.node)}});return new W(u,this.indexSet_)}removeFromIndexes(i,n){const u=(0,K.UI)(this.indexes_,p=>{if(p===L)return p;{const v=n.get(i.name);return v?p.remove(new Fn(i.name,v)):p}});return new W(u,this.indexSet_)}}let S,R=(()=>{class a{constructor(n,u,p){this.children_=n,this.priorityNode_=u,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&bi(this.priorityNode_),this.children_.isEmpty()&&(0,K.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return S||(S=new a(new Zr(vi),null,W.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||S}updatePriority(n){return this.children_.isEmpty()?this:new a(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const u=this.children_.get(n);return null===u?S:u}}getChild(n){const u=Ee(n);return null===u?this:this.getImmediateChild(u).getChild(_t(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,u){if((0,K.hu)(u,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(u);{const p=new Fn(n,u);let v,t;u.isEmpty()?(v=this.children_.remove(n),t=this.indexMap_.removeFromIndexes(p,this.children_)):(v=this.children_.insert(n,u),t=this.indexMap_.addToIndexes(p,this.children_));const r=v.isEmpty()?S:this.priorityNode_;return new a(v,r,t)}}updateChild(n,u){const p=Ee(n);if(null===p)return u;{(0,K.hu)(".priority"!==Ee(n)||1===ft(n),".priority must be the last token in a path");const v=this.getImmediateChild(p).updateChild(_t(n),u);return this.updateImmediateChild(p,v)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const u={};let p=0,v=0,t=!0;if(this.forEachChild(Kn,(r,o)=>{u[r]=o.val(n),p++,t&&a.INTEGER_REGEXP_.test(r)?v=Math.max(v,Number(r)):t=!1}),!n&&t&&v<2*p){const r=[];for(const o in u)r[o]=u[o];return r}return n&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Pl(this.getPriority().val())+":"),this.forEachChild(Kn,(u,p)=>{const v=p.hash();""!==v&&(n+=":"+u+":"+v)}),this.lazyHash_=""===n?"":bt(n)}return this.lazyHash_}getPredecessorChildName(n,u,p){const v=this.resolveIndex_(p);if(v){const t=v.getPredecessorKey(new Fn(n,u));return t?t.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const u=this.resolveIndex_(n);if(u){const p=u.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(n){const u=this.getFirstChildName(n);return u?new Fn(u,this.children_.get(u)):null}getLastChildName(n){const u=this.resolveIndex_(n);if(u){const p=u.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(n){const u=this.getLastChildName(n);return u?new Fn(u,this.children_.get(u)):null}forEachChild(n,u){const p=this.resolveIndex_(n);return p?p.inorderTraversal(v=>u(v.name,v.node)):this.children_.inorderTraversal(u)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,u){const p=this.resolveIndex_(u);if(p)return p.getIteratorFrom(n,v=>v);{const v=this.children_.getIteratorFrom(n.name,Fn.Wrap);let t=v.peek();for(;null!=t&&u.compare(t,n)<0;)v.getNext(),t=v.peek();return v}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,u){const p=this.resolveIndex_(u);if(p)return p.getReverseIteratorFrom(n,v=>v);{const v=this.children_.getReverseIteratorFrom(n.name,Fn.Wrap);let t=v.peek();for(;null!=t&&u.compare(t,n)>0;)v.getNext(),t=v.peek();return v}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===J?-1:0}withIndex(n){if(n===yi||this.indexMap_.hasIndex(n))return this;{const u=this.indexMap_.addIndex(n,this.children_);return new a(this.children_,this.priorityNode_,u)}}isIndexed(n){return n===yi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const u=n;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const p=this.getIterator(Kn),v=u.getIterator(Kn);let t=p.getNext(),r=v.getNext();for(;t&&r;){if(t.name!==r.name||!t.node.equals(r.node))return!1;t=p.getNext(),r=v.getNext()}return null===t&&null===r}return!1}return!1}}resolveIndex_(n){return n===yi?null:this.indexMap_.get(n.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const J=new class H extends R{constructor(){super(new Zr(vi),R.EMPTY_NODE,W.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return R.EMPTY_NODE}isEmpty(){return!1}};function Te(a,i=null){if(null===a)return R.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(i=a[".priority"]),(0,K.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new Mr(a,Te(i));if(a instanceof Array){let n=R.EMPTY_NODE;return ut(a,(u,p)=>{if((0,K.r3)(a,u)&&"."!==u.substring(0,1)){const v=Te(p);(v.isLeafNode()||!v.isEmpty())&&(n=n.updateImmediateChild(u,v))}}),n.updatePriority(Te(i))}{const n=[];let u=!1;if(ut(a,(t,r)=>{if("."!==t.substring(0,1)){const o=Te(r);o.isEmpty()||(u=u||!o.getPriority().isEmpty(),n.push(new Fn(t,o)))}}),0===n.length)return R.EMPTY_NODE;const v=To(n,zs,t=>t.name,vi);if(u){const t=To(n,Kn.getCompare());return new R(v,Te(i),new W({".priority":t},{".priority":Kn}))}return new R(v,Te(i),W.Default)}}Object.defineProperties(Fn,{MIN:{value:new Fn(Qt,R.EMPTY_NODE)},MAX:{value:new Fn(pn,J)}}),Kr.__EMPTY_NODE=R.EMPTY_NODE,Mr.__childrenNodeConstructor=R,function Gi(a){Oi=a}(J),function Ri(a){cs=a}(J),function Zo(a){Qi=a}(Te);class xt extends Yi{constructor(i){super(),this.indexPath_=i,(0,K.hu)(!gn(i)&&".priority"!==Ee(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,n){const u=this.extractChild(i.node),p=this.extractChild(n.node),v=u.compareTo(p);return 0===v?Wn(i.name,n.name):v}makePost(i,n){const u=Te(i),p=R.EMPTY_NODE.updateChild(this.indexPath_,u);return new Fn(n,p)}maxPost(){const i=R.EMPTY_NODE.updateChild(this.indexPath_,J);return new Fn(pn,i)}toString(){return dr(this.indexPath_,0).join("/")}}const on=new class Yt extends Yi{compare(i,n){const u=i.node.compareTo(n.node);return 0===u?Wn(i.name,n.name):u}isDefinedOn(i){return!0}indexedValueChanged(i,n){return!i.equals(n)}minPost(){return Fn.MIN}maxPost(){return Fn.MAX}makePost(i,n){const u=Te(i);return new Fn(n,u)}toString(){return".value"}},Ut="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gr=function(){let a=0;const i=[];return function(n){const u=n===a;let p;a=n;const v=new Array(8);for(p=7;p>=0;p--)v[p]=Ut.charAt(n%64),n=Math.floor(n/64);(0,K.hu)(0===n,"Cannot push at time == 0");let t=v.join("");if(u){for(p=11;p>=0&&63===i[p];p--)i[p]=0;i[p]++}else for(p=0;p<12;p++)i[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)t+=Ut.charAt(i[p]);return(0,K.hu)(20===t.length,"nextPushId: Length should be 20."),t}}();function ki(a){return{type:"value",snapshotNode:a}}function Ci(a,i){return{type:"child_added",snapshotNode:i,childName:a}}function Ii(a,i){return{type:"child_removed",snapshotNode:i,childName:a}}function Ni(a,i,n){return{type:"child_changed",snapshotNode:i,childName:a,oldSnap:n}}class Un{constructor(i){this.index_=i}updateChild(i,n,u,p,v,t){(0,K.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const r=i.getImmediateChild(n);return r.getChild(p).equals(u.getChild(p))&&r.isEmpty()===u.isEmpty()||(null!=t&&(u.isEmpty()?i.hasChild(n)?t.trackChildChange(Ii(n,r)):(0,K.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):r.isEmpty()?t.trackChildChange(Ci(n,u)):t.trackChildChange(Ni(n,u,r))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(n,u).withIndex(this.index_)}updateFullNode(i,n,u){return null!=u&&(i.isLeafNode()||i.forEachChild(Kn,(p,v)=>{n.hasChild(p)||u.trackChildChange(Ii(p,v))}),n.isLeafNode()||n.forEachChild(Kn,(p,v)=>{if(i.hasChild(p)){const t=i.getImmediateChild(p);t.equals(v)||u.trackChildChange(Ni(p,v,t))}else u.trackChildChange(Ci(p,v))})),n.withIndex(this.index_)}updatePriority(i,n){return i.isEmpty()?R.EMPTY_NODE:i.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zi{constructor(i){this.indexedFilter_=new Un(i.getIndex()),this.index_=i.getIndex(),this.startPost_=zi.getStartPost_(i),this.endPost_=zi.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,n,u,p,v,t){return this.matches(new Fn(n,u))||(u=R.EMPTY_NODE),this.indexedFilter_.updateChild(i,n,u,p,v,t)}updateFullNode(i,n,u){n.isLeafNode()&&(n=R.EMPTY_NODE);let p=n.withIndex(this.index_);p=p.updatePriority(R.EMPTY_NODE);const v=this;return n.forEachChild(Kn,(t,r)=>{v.matches(new Fn(t,r))||(p=p.updateImmediateChild(t,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,p,u)}updatePriority(i,n){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const n=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),n)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const n=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),n)}return i.getIndex().maxPost()}}class Wr{constructor(i){this.rangedFilter_=new zi(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,n,u,p,v,t){return this.rangedFilter_.matches(new Fn(n,u))||(u=R.EMPTY_NODE),i.getImmediateChild(n).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,n,u,p,v,t):this.fullLimitUpdateChild_(i,n,u,v,t)}updateFullNode(i,n,u){let p;if(n.isLeafNode()||n.isEmpty())p=R.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let v;p=R.EMPTY_NODE.withIndex(this.index_),v=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let t=0;for(;v.hasNext()&&t<this.limit_;){const r=v.getNext();let o;if(o=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),r)<=0:this.index_.compare(r,this.rangedFilter_.getEndPost())<=0,!o)break;p=p.updateImmediateChild(r.name,r.node),t++}}else{let v,t,r,o;if(p=n.withIndex(this.index_),p=p.updatePriority(R.EMPTY_NODE),this.reverse_){o=p.getReverseIterator(this.index_),v=this.rangedFilter_.getEndPost(),t=this.rangedFilter_.getStartPost();const m=this.index_.getCompare();r=(E,T)=>m(T,E)}else o=p.getIterator(this.index_),v=this.rangedFilter_.getStartPost(),t=this.rangedFilter_.getEndPost(),r=this.index_.getCompare();let d=0,h=!1;for(;o.hasNext();){const m=o.getNext();!h&&r(v,m)<=0&&(h=!0),h&&d<this.limit_&&r(m,t)<=0?d++:p=p.updateImmediateChild(m.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,p,u)}updatePriority(i,n){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,n,u,p,v){let t;if(this.reverse_){const m=this.index_.getCompare();t=(E,T)=>m(T,E)}else t=this.index_.getCompare();const r=i;(0,K.hu)(r.numChildren()===this.limit_,"");const o=new Fn(n,u),d=this.reverse_?r.getFirstChild(this.index_):r.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(r.hasChild(n)){const m=r.getImmediateChild(n);let E=p.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=E&&(E.name===n||r.hasChild(E.name));)E=p.getChildAfterChild(this.index_,E,this.reverse_);const T=null==E?1:t(E,o);if(h&&!u.isEmpty()&&T>=0)return null!=v&&v.trackChildChange(Ni(n,u,m)),r.updateImmediateChild(n,u);{null!=v&&v.trackChildChange(Ii(n,m));const F=r.updateImmediateChild(n,R.EMPTY_NODE);return null!=E&&this.rangedFilter_.matches(E)?(null!=v&&v.trackChildChange(Ci(E.name,E.node)),F.updateImmediateChild(E.name,E.node)):F}}return u.isEmpty()?i:h&&t(d,o)>=0?(null!=v&&(v.trackChildChange(Ii(d.name,d.node)),v.trackChildChange(Ci(n,u))),r.updateImmediateChild(n,u).updateImmediateChild(d.name,R.EMPTY_NODE)):i}}class sl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,K.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kn}copy(){const i=new sl;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Di(a){const i={};if(a.isDefault())return i;let n;return a.index_===Kn?n="$priority":a.index_===on?n="$value":a.index_===yi?n="$key":((0,K.hu)(a.index_ instanceof xt,"Unrecognized index type!"),n=a.index_.toString()),i.orderBy=(0,K.Pz)(n),a.startSet_&&(i.startAt=(0,K.Pz)(a.indexStartValue_),a.startNameSet_&&(i.startAt+=","+(0,K.Pz)(a.indexStartName_))),a.endSet_&&(i.endAt=(0,K.Pz)(a.indexEndValue_),a.endNameSet_&&(i.endAt+=","+(0,K.Pz)(a.indexEndName_))),a.limitSet_&&(a.isViewFromLeft()?i.limitToFirst=a.limit_:i.limitToLast=a.limit_),i}function Xi(a){const i={};if(a.startSet_&&(i.sp=a.indexStartValue_,a.startNameSet_&&(i.sn=a.indexStartName_)),a.endSet_&&(i.ep=a.indexEndValue_,a.endNameSet_&&(i.en=a.indexEndName_)),a.limitSet_){i.l=a.limit_;let n=a.viewFrom_;""===n&&(n=a.isViewFromLeft()?"l":"r"),i.vf=n}return a.index_!==Kn&&(i.i=a.index_.toString()),i}class uo extends ti{constructor(i,n,u,p){super(),this.repoInfo_=i,this.onDataUpdate_=n,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.log_=je("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,n){return void 0!==n?"tag$"+n:((0,K.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,n,u,p){const v=i._path.toString();this.log_("Listen called for "+v+" "+i._queryIdentifier);const t=uo.getListenId_(i,u),r={};this.listens_[t]=r;const o=Di(i._queryParams);this.restRequest_(v+".json",o,(d,h)=>{let m=h;if(404===d&&(m=null,d=null),null===d&&this.onDataUpdate_(v,m,!1,u),(0,K.DV)(this.listens_,t)===r){let E;E=d?401===d?"permission_denied":"rest_error:"+d:"ok",p(E,null)}})}unlisten(i,n){const u=uo.getListenId_(i,n);delete this.listens_[u]}get(i){const n=Di(i._queryParams),u=i._path.toString(),p=new K.BH;return this.restRequest_(u+".json",n,(v,t)=>{let r=t;404===v&&(r=null,v=null),null===v?(this.onDataUpdate_(u,r,!1,null),p.resolve(r)):p.reject(new Error(r))}),p.promise}refreshAuthToken(i){}restRequest_(i,n={},u){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,v])=>{p&&p.accessToken&&(n.auth=p.accessToken),v&&v.token&&(n.ac=v.token);const t=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,K.xO)(n);this.log_("Sending REST request for "+t);const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(u&&4===r.readyState){this.log_("REST Response for "+t+" received. status:",r.status,"response:",r.responseText);let o=null;if(r.status>=200&&r.status<300){try{o=(0,K.cI)(r.responseText)}catch(d){Fe("Failed to parse JSON response for "+t+": "+r.responseText)}u(null,o)}else 401!==r.status&&404!==r.status&&Fe("Got unsuccessful REST response for "+t+" Status: "+r.status),u(r.status);u=null}},r.open("GET",t,!0),r.send()})}}class ds{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,n){this.rootNode_=this.rootNode_.updateChild(i,n)}}function hs(){return{value:null,children:new Map}}function Yo(a,i,n){if(gn(i))a.value=n,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(i,n);else{const u=Ee(i);a.children.has(u)||a.children.set(u,hs()),Yo(a.children.get(u),i=_t(i),n)}}function ll(a,i,n){null!==a.value?n(i,a.value):function ul(a,i){a.children.forEach((n,u)=>{i(u,n)})}(a,(u,p)=>{ll(p,new ye(i.toString()+"/"+u),n)})}class Fl{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),n=Object.assign({},i);return this.last_&&ut(this.last_,(u,p)=>{n[u]=n[u]-p}),this.last_=i,n}}class pu{constructor(i,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Fl(i);const u=1e4+2e4*Math.random();wt(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const i=this.statsListener_.get(),n={};let u=!1;ut(i,(p,v)=>{v>0&&(0,K.r3)(this.statsToReport_,p)&&(n[p]=v,u=!0)}),u&&this.server_.reportStats(n),wt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Pi=(()=>{return(a=Pi||(Pi={}))[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Pi;var a})();function fo(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Fs{constructor(i,n,u){this.path=i,this.affectedTree=n,this.revert=u,this.type=Pi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(gn(this.path)){if(null!=this.affectedTree.value)return(0,K.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(i));return new Fs(he(),n,this.revert)}}return(0,K.hu)(Ee(this.path)===i,"operationForChild called for unrelated child."),new Fs(_t(this.path),this.affectedTree,this.revert)}}class Da{constructor(i,n){this.source=i,this.path=n,this.type=Pi.LISTEN_COMPLETE}operationForChild(i){return gn(this.path)?new Da(this.source,he()):new Da(this.source,_t(this.path))}}class Ts{constructor(i,n,u){this.source=i,this.path=n,this.snap=u,this.type=Pi.OVERWRITE}operationForChild(i){return gn(this.path)?new Ts(this.source,he(),this.snap.getImmediateChild(i)):new Ts(this.source,_t(this.path),this.snap)}}class cl{constructor(i,n,u){this.source=i,this.path=n,this.children=u,this.type=Pi.MERGE}operationForChild(i){if(gn(this.path)){const n=this.children.subtree(new ye(i));return n.isEmpty()?null:n.value?new Ts(this.source,he(),n.value):new cl(this.source,he(),n)}return(0,K.hu)(Ee(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new cl(this.source,_t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class po{constructor(i,n,u){this.node_=i,this.fullyInitialized_=n,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(gn(i))return this.isFullyInitialized()&&!this.filtered_;const n=Ee(i);return this.isCompleteForChild(n)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class es{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function ur(a,i,n,u,p,v){const t=u.filter(r=>r.type===n);t.sort((r,o)=>function kc(a,i,n){if(null==i.childName||null==n.childName)throw(0,K.g5)("Should only compare child_ events.");const u=new Fn(i.childName,i.snapshotNode),p=new Fn(n.childName,n.snapshotNode);return a.index_.compare(u,p)}(a,r,o)),t.forEach(r=>{const o=function Xo(a,i,n){return"value"===i.type||"child_removed"===i.type||(i.prevName=n.getPredecessorChildName(i.childName,i.snapshotNode,a.index_)),i}(a,r,v);p.forEach(d=>{d.respondsTo(r.type)&&i.push(d.createEvent(o,a.query_))})})}function Aa(a,i){return{eventCache:a,serverCache:i}}function ea(a,i,n,u){return Aa(new po(i,n,u),a.serverCache)}function mo(a,i,n,u){return Aa(a.eventCache,new po(i,n,u))}function mu(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Ls(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Sa;class br{constructor(i,n=(()=>(Sa||(Sa=new Zr(Kt)),Sa))()){this.value=i,this.children=n}static fromObject(i){let n=new br(null);return ut(i,(u,p)=>{n=n.set(new ye(u),p)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,n){if(null!=this.value&&n(this.value))return{path:he(),value:this.value};if(gn(i))return null;{const u=Ee(i),p=this.children.get(u);if(null!==p){const v=p.findRootMostMatchingPathAndValue(_t(i),n);return null!=v?{path:yn(new ye(u),v.path),value:v.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(gn(i))return this;{const n=Ee(i),u=this.children.get(n);return null!==u?u.subtree(_t(i)):new br(null)}}set(i,n){if(gn(i))return new br(n,this.children);{const u=Ee(i),v=(this.children.get(u)||new br(null)).set(_t(i),n),t=this.children.insert(u,v);return new br(this.value,t)}}remove(i){if(gn(i))return this.children.isEmpty()?new br(null):new br(null,this.children);{const n=Ee(i),u=this.children.get(n);if(u){const p=u.remove(_t(i));let v;return v=p.isEmpty()?this.children.remove(n):this.children.insert(n,p),null===this.value&&v.isEmpty()?new br(null):new br(this.value,v)}return this}}get(i){if(gn(i))return this.value;{const n=Ee(i),u=this.children.get(n);return u?u.get(_t(i)):null}}setTree(i,n){if(gn(i))return n;{const u=Ee(i),v=(this.children.get(u)||new br(null)).setTree(_t(i),n);let t;return t=v.isEmpty()?this.children.remove(u):this.children.insert(u,v),new br(this.value,t)}}fold(i){return this.fold_(he(),i)}fold_(i,n){const u={};return this.children.inorderTraversal((p,v)=>{u[p]=v.fold_(yn(i,p),n)}),n(i,this.value,u)}findOnPath(i,n){return this.findOnPath_(i,he(),n)}findOnPath_(i,n,u){const p=!!this.value&&u(n,this.value);if(p)return p;if(gn(i))return null;{const v=Ee(i),t=this.children.get(v);return t?t.findOnPath_(_t(i),yn(n,v),u):null}}foreachOnPath(i,n){return this.foreachOnPath_(i,he(),n)}foreachOnPath_(i,n,u){if(gn(i))return this;{this.value&&u(n,this.value);const p=Ee(i),v=this.children.get(p);return v?v.foreachOnPath_(_t(i),yn(n,p),u):new br(null)}}foreach(i){this.foreach_(he(),i)}foreach_(i,n){this.children.inorderTraversal((u,p)=>{p.foreach_(yn(i,u),n)}),this.value&&n(i,this.value)}foreachChild(i){this.children.inorderTraversal((n,u)=>{u.value&&i(n,u.value)})}}class ts{constructor(i){this.writeTree_=i}static empty(){return new ts(new br(null))}}function Ma(a,i,n){if(gn(i))return new ts(new br(n));{const u=a.writeTree_.findRootMostValueAndPath(i);if(null!=u){const p=u.path;let v=u.value;const t=Vr(p,i);return v=v.updateChild(t,n),new ts(a.writeTree_.set(p,v))}{const p=new br(n),v=a.writeTree_.setTree(i,p);return new ts(v)}}}function Ur(a,i,n){let u=a;return ut(n,(p,v)=>{u=Ma(u,yn(i,p),v)}),u}function xa(a,i){if(gn(i))return ts.empty();{const n=a.writeTree_.setTree(i,new br(null));return new ts(n)}}function Do(a,i){return null!=Vs(a,i)}function Vs(a,i){const n=a.writeTree_.findRootMostValueAndPath(i);return null!=n?a.writeTree_.get(n.path).getChild(Vr(n.path,i)):null}function Ao(a){const i=[],n=a.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Kn,(u,p)=>{i.push(new Fn(u,p))}):a.writeTree_.children.inorderTraversal((u,p)=>{null!=p.value&&i.push(new Fn(u,p.value))}),i}function Wi(a,i){if(gn(i))return a;{const n=Vs(a,i);return new ts(null!=n?new br(n):a.writeTree_.subtree(i))}}function Ll(a){return a.writeTree_.isEmpty()}function So(a,i){return qs(he(),a.writeTree_,i)}function qs(a,i,n){if(null!=i.value)return n.updateChild(a,i.value);{let u=null;return i.children.inorderTraversal((p,v)=>{".priority"===p?((0,K.hu)(null!==v.value,"Priority writes must always be leaf nodes"),u=v.value):n=qs(yn(a,p),v,n)}),!n.getChild(a).isEmpty()&&null!==u&&(n=n.updateChild(yn(a,".priority"),u)),n}}function Oa(a,i){return N(i,a)}function ta(a,i){if(a.snap)return hr(a.path,i);for(const n in a.children)if(a.children.hasOwnProperty(n)&&hr(yn(a.path,n),i))return!0;return!1}function hl(a){return a.visible}function kd(a,i,n){let u=ts.empty();for(let p=0;p<a.length;++p){const v=a[p];if(i(v)){const t=v.path;let r;if(v.snap)hr(n,t)?(r=Vr(n,t),u=Ma(u,r,v.snap)):hr(t,n)&&(r=Vr(t,n),u=Ma(u,he(),v.snap.getChild(r)));else{if(!v.children)throw(0,K.g5)("WriteRecord should have .snap or .children");if(hr(n,t))r=Vr(n,t),u=Ur(u,r,v.children);else if(hr(t,n))if(r=Vr(t,n),gn(r))u=Ur(u,he(),v.children);else{const o=(0,K.DV)(v.children,Ee(r));if(o){const d=o.getChild(_t(r));u=Ma(u,he(),d)}}}}}return u}function fl(a,i,n,u,p){if(u||p){const v=Wi(a.visibleWrites,i);return!p&&Ll(v)?n:p||null!=n||Do(v,he())?So(kd(a.allWrites,function(d){return(d.visible||p)&&(!u||!~u.indexOf(d.writeId))&&(hr(d.path,i)||hr(i,d.path))},i),n||R.EMPTY_NODE):null}{const v=Vs(a.visibleWrites,i);if(null!=v)return v;{const t=Wi(a.visibleWrites,i);return Ll(t)?n:null!=n||Do(t,he())?So(t,n||R.EMPTY_NODE):null}}}function fs(a,i,n,u){return fl(a.writeTree,a.treePath,i,n,u)}function go(a,i){return function Nc(a,i,n){let u=R.EMPTY_NODE;const p=Vs(a.visibleWrites,i);if(p)return p.isLeafNode()||p.forEachChild(Kn,(v,t)=>{u=u.updateImmediateChild(v,t)}),u;if(n){const v=Wi(a.visibleWrites,i);return n.forEachChild(Kn,(t,r)=>{const o=So(Wi(v,new ye(t)),r);u=u.updateImmediateChild(t,o)}),Ao(v).forEach(t=>{u=u.updateImmediateChild(t.name,t.node)}),u}return Ao(Wi(a.visibleWrites,i)).forEach(t=>{u=u.updateImmediateChild(t.name,t.node)}),u}(a.writeTree,a.treePath,i)}function Vl(a,i,n,u){return function _u(a,i,n,u,p){(0,K.hu)(u||p,"Either existingEventSnap or existingServerSnap must exist");const v=yn(i,n);if(Do(a.visibleWrites,v))return null;{const t=Wi(a.visibleWrites,v);return Ll(t)?p.getChild(n):So(t,p.getChild(n))}}(a.writeTree,a.treePath,i,n,u)}function ra(a,i){return function Ku(a,i){return Vs(a.visibleWrites,i)}(a.writeTree,yn(a.treePath,i))}function Oo(a,i,n){return function Nd(a,i,n,u){const p=yn(i,n),v=Vs(a.visibleWrites,p);return null!=v?v:u.isCompleteForChild(n)?So(Wi(a.visibleWrites,p),u.getNode().getImmediateChild(n)):null}(a.writeTree,a.treePath,i,n)}function Bl(a,i){return N(yn(a.treePath,i),a.writeTree)}function N(a,i){return{treePath:a,writeTree:i}}class x{constructor(){this.changeMap=new Map}trackChildChange(i){const n=i.type,u=i.childName;(0,K.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,K.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(u);if(p){const v=p.type;if("child_added"===n&&"child_removed"===v)this.changeMap.set(u,Ni(u,i.snapshotNode,p.snapshotNode));else if("child_removed"===n&&"child_added"===v)this.changeMap.delete(u);else if("child_removed"===n&&"child_changed"===v)this.changeMap.set(u,Ii(u,p.oldSnap));else if("child_changed"===n&&"child_added"===v)this.changeMap.set(u,Ci(u,i.snapshotNode));else{if("child_changed"!==n||"child_changed"!==v)throw(0,K.g5)("Illegal combination of changes: "+i+" occurred after "+p);this.changeMap.set(u,Ni(u,i.snapshotNode,p.oldSnap))}}else this.changeMap.set(u,i)}getChanges(){return Array.from(this.changeMap.values())}}const P=new class D{getCompleteChild(i){return null}getChildAfterChild(i,n,u){return null}};class B{constructor(i,n,u=null){this.writes_=i,this.viewCache_=n,this.optCompleteServerCache_=u}getCompleteChild(i){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(i))return n.getNode().getImmediateChild(i);{const u=null!=this.optCompleteServerCache_?new po(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Oo(this.writes_,i,u)}}getChildAfterChild(i,n,u){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ls(this.viewCache_),v=function xo(a,i,n,u,p,v){return function Na(a,i,n,u,p,v,t){let r;const o=Wi(a.visibleWrites,i),d=Vs(o,he());if(null!=d)r=d;else{if(null==n)return[];r=So(o,n)}if(r=r.withIndex(t),r.isEmpty()||r.isLeafNode())return[];{const h=[],m=t.getCompare(),E=v?r.getReverseIteratorFrom(u,t):r.getIteratorFrom(u,t);let T=E.getNext();for(;T&&h.length<p;)0!==m(T,u)&&h.push(T),T=E.getNext();return h}}(a.writeTree,a.treePath,i,n,u,p,v)}(this.writes_,p,n,1,u,i);return 0===v.length?null:v[0]}}function Jt(a,i,n,u,p,v){const t=i.eventCache;if(null!=ra(u,n))return i;{let r,o;if(gn(n))if((0,K.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const d=Ls(i),m=go(u,d instanceof R?d:R.EMPTY_NODE);r=a.filter.updateFullNode(i.eventCache.getNode(),m,v)}else{const d=fs(u,Ls(i));r=a.filter.updateFullNode(i.eventCache.getNode(),d,v)}else{const d=Ee(n);if(".priority"===d){(0,K.hu)(1===ft(n),"Can't have a priority with additional path components");const h=t.getNode();o=i.serverCache.getNode();const m=Vl(u,n,h,o);r=null!=m?a.filter.updatePriority(h,m):t.getNode()}else{const h=_t(n);let m;if(t.isCompleteForChild(d)){o=i.serverCache.getNode();const E=Vl(u,n,t.getNode(),o);m=null!=E?t.getNode().getImmediateChild(d).updateChild(h,E):t.getNode().getImmediateChild(d)}else m=Oo(u,d,i.serverCache);r=null!=m?a.filter.updateChild(t.getNode(),d,m,h,p,v):t.getNode()}}return ea(i,r,t.isFullyInitialized()||gn(n),a.filter.filtersNodes())}}function $n(a,i,n,u,p,v,t,r){const o=i.serverCache;let d;const h=t?a.filter:a.filter.getIndexedFilter();if(gn(n))d=h.updateFullNode(o.getNode(),u,null);else if(h.filtersNodes()&&!o.isFiltered()){const T=o.getNode().updateChild(n,u);d=h.updateFullNode(o.getNode(),T,null)}else{const T=Ee(n);if(!o.isCompleteForPath(n)&&ft(n)>1)return i;const O=_t(n),$=o.getNode().getImmediateChild(T).updateChild(O,u);d=".priority"===T?h.updatePriority(o.getNode(),$):h.updateChild(o.getNode(),T,$,O,P,null)}const m=mo(i,d,o.isFullyInitialized()||gn(n),h.filtersNodes());return Jt(a,m,n,p,new B(p,m,v),r)}function hn(a,i,n,u,p,v,t){const r=i.eventCache;let o,d;const h=new B(p,i,v);if(gn(n))d=a.filter.updateFullNode(i.eventCache.getNode(),u,t),o=ea(i,d,!0,a.filter.filtersNodes());else{const m=Ee(n);if(".priority"===m)d=a.filter.updatePriority(i.eventCache.getNode(),u),o=ea(i,d,r.isFullyInitialized(),r.isFiltered());else{const E=_t(n),T=r.getNode().getImmediateChild(m);let O;if(gn(E))O=u;else{const F=h.getCompleteChild(m);O=null!=F?".priority"===Wt(E)&&F.getChild(Xn(E)).isEmpty()?F:F.updateChild(E,u):R.EMPTY_NODE}o=T.equals(O)?i:ea(i,a.filter.updateChild(r.getNode(),m,O,E,h,t),r.isFullyInitialized(),a.filter.filtersNodes())}}return o}function rr(a,i){return a.eventCache.isCompleteForChild(i)}function fr(a,i,n){return n.foreach((u,p)=>{i=i.updateChild(u,p)}),i}function Fi(a,i,n,u,p,v,t,r){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let d,o=i;d=gn(n)?u:new br(null).setTree(n,u);const h=i.serverCache.getNode();return d.children.inorderTraversal((m,E)=>{if(h.hasChild(m)){const O=fr(0,i.serverCache.getNode().getImmediateChild(m),E);o=$n(a,o,new ye(m),O,p,v,t,r)}}),d.children.inorderTraversal((m,E)=>{const T=!i.serverCache.isCompleteForChild(m)&&null===E.value;if(!h.hasChild(m)&&!T){const F=fr(0,i.serverCache.getNode().getImmediateChild(m),E);o=$n(a,o,new ye(m),F,p,v,t,r)}}),o}class ms{constructor(i,n){this.query_=i,this.eventRegistrations_=[];const u=this.query_._queryParams,p=new Un(u.getIndex()),v=function lo(a){return a.loadsAllData()?new Un(a.getIndex()):a.hasLimit()?new Wr(a):new zi(a)}(u);this.processor_=function q(a){return{filter:a}}(v);const t=n.serverCache,r=n.eventCache,o=p.updateFullNode(R.EMPTY_NODE,t.getNode(),null),d=v.updateFullNode(R.EMPTY_NODE,r.getNode(),null),h=new po(o,t.isFullyInitialized(),p.filtersNodes()),m=new po(d,r.isFullyInitialized(),v.filtersNodes());this.viewCache_=Aa(m,h),this.eventGenerator_=new es(this.query_)}get query(){return this.query_}}function af(a,i){const n=Ls(a.viewCache_);return n&&(a.query._queryParams.loadsAllData()||!gn(i)&&!n.getImmediateChild(Ee(i)).isEmpty())?n.getChild(i):null}function Ar(a){return 0===a.eventRegistrations_.length}function Zu(a,i,n){const u=[];if(n){(0,K.hu)(null==i,"A cancel should cancel all event registrations.");const p=a.query._path;a.eventRegistrations_.forEach(v=>{const t=v.createCancelEvent(n,p);t&&u.push(t)})}if(i){let p=[];for(let v=0;v<a.eventRegistrations_.length;++v){const t=a.eventRegistrations_[v];if(t.matches(i)){if(i.hasAnyCallback()){p=p.concat(a.eventRegistrations_.slice(v+1));break}}else p.push(t)}a.eventRegistrations_=p}else a.eventRegistrations_=[];return u}function yu(a,i,n,u){i.type===Pi.MERGE&&null!==i.source.queryId&&((0,K.hu)(Ls(a.viewCache_),"We should always have a full cache before handling merges"),(0,K.hu)(mu(a.viewCache_),"Missing event cache, even though we have a server cache"));const p=a.viewCache_,v=function pe(a,i,n,u,p){const v=new x;let t,r;if(n.type===Pi.OVERWRITE){const d=n;d.source.fromUser?t=hn(a,i,d.path,d.snap,u,p,v):((0,K.hu)(d.source.fromServer,"Unknown source."),r=d.source.tagged||i.serverCache.isFiltered()&&!gn(d.path),t=$n(a,i,d.path,d.snap,u,p,r,v))}else if(n.type===Pi.MERGE){const d=n;d.source.fromUser?t=function mr(a,i,n,u,p,v,t){let r=i;return u.foreach((o,d)=>{const h=yn(n,o);rr(i,Ee(h))&&(r=hn(a,r,h,d,p,v,t))}),u.foreach((o,d)=>{const h=yn(n,o);rr(i,Ee(h))||(r=hn(a,r,h,d,p,v,t))}),r}(a,i,d.path,d.children,u,p,v):((0,K.hu)(d.source.fromServer,"Unknown source."),r=d.source.tagged||i.serverCache.isFiltered(),t=Fi(a,i,d.path,d.children,u,p,r,v))}else if(n.type===Pi.ACK_USER_WRITE){const d=n;t=d.revert?function ia(a,i,n,u,p,v){let t;if(null!=ra(u,n))return i;{const r=new B(u,i,p),o=i.eventCache.getNode();let d;if(gn(n)||".priority"===Ee(n)){let h;if(i.serverCache.isFullyInitialized())h=fs(u,Ls(i));else{const m=i.serverCache.getNode();(0,K.hu)(m instanceof R,"serverChildren would be complete if leaf node"),h=go(u,m)}h=h,d=a.filter.updateFullNode(o,h,v)}else{const h=Ee(n);let m=Oo(u,h,i.serverCache);null==m&&i.serverCache.isCompleteForChild(h)&&(m=o.getImmediateChild(h)),d=null!=m?a.filter.updateChild(o,h,m,_t(n),r,v):i.eventCache.getNode().hasChild(h)?a.filter.updateChild(o,h,R.EMPTY_NODE,_t(n),r,v):o,d.isEmpty()&&i.serverCache.isFullyInitialized()&&(t=fs(u,Ls(i)),t.isLeafNode()&&(d=a.filter.updateFullNode(d,t,v)))}return t=i.serverCache.isFullyInitialized()||null!=ra(u,he()),ea(i,d,t,a.filter.filtersNodes())}}(a,i,d.path,u,p,v):function Li(a,i,n,u,p,v,t){if(null!=ra(p,n))return i;const r=i.serverCache.isFiltered(),o=i.serverCache;if(null!=u.value){if(gn(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return $n(a,i,n,o.getNode().getChild(n),p,v,r,t);if(gn(n)){let d=new br(null);return o.getNode().forEachChild(yi,(h,m)=>{d=d.set(new ye(h),m)}),Fi(a,i,n,d,p,v,r,t)}return i}{let d=new br(null);return u.foreach((h,m)=>{const E=yn(n,h);o.isCompleteForPath(E)&&(d=d.set(h,o.getNode().getChild(E)))}),Fi(a,i,n,d,p,v,r,t)}}(a,i,d.path,d.affectedTree,u,p,v)}else{if(n.type!==Pi.LISTEN_COMPLETE)throw(0,K.g5)("Unknown operation type: "+n.type);t=function ps(a,i,n,u,p){const v=i.serverCache;return Jt(a,mo(i,v.getNode(),v.isFullyInitialized()||gn(n),v.isFiltered()),n,u,P,p)}(a,i,n.path,u,v)}const o=v.getChanges();return function st(a,i,n){const u=i.eventCache;if(u.isFullyInitialized()){const p=u.getNode().isLeafNode()||u.getNode().isEmpty(),v=mu(a);(n.length>0||!a.eventCache.isFullyInitialized()||p&&!u.getNode().equals(v)||!u.getNode().getPriority().equals(v.getPriority()))&&n.push(ki(mu(i)))}}(i,t,o),{viewCache:t,changes:o}}(a.processor_,p,i,n,u);return function te(a,i){(0,K.hu)(i.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,K.hu)(i.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,v.viewCache),(0,K.hu)(v.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=v.viewCache,Pd(a,v.changes,v.viewCache.eventCache.getNode(),null)}function Pd(a,i,n,u){return function Jo(a,i,n,u){const p=[],v=[];return i.forEach(t=>{"child_changed"===t.type&&a.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&v.push(function Et(a,i){return{type:"child_moved",snapshotNode:i,childName:a}}(t.childName,t.snapshotNode))}),ur(a,p,"child_removed",i,u,n),ur(a,p,"child_added",i,u,n),ur(a,p,"child_moved",v,u,n),ur(a,p,"child_changed",i,u,n),ur(a,p,"value",i,u,n),p}(a.eventGenerator_,i,n,u?[u]:a.eventRegistrations_)}let Yu,xn;class Fd{constructor(){this.views=new Map}}function hi(a,i,n,u){const p=i.source.queryId;if(null!==p){const v=a.views.get(p);return(0,K.hu)(null!=v,"SyncTree gave us an op for an invalid query."),yu(v,i,n,u)}{let v=[];for(const t of a.views.values())v=v.concat(yu(t,i,n,u));return v}}function vu(a,i,n,u,p,v){const t=function Ro(a,i,n,u,p){const t=a.views.get(i._queryIdentifier);if(!t){let r=fs(n,p?u:null),o=!1;r?o=!0:u instanceof R?(r=go(n,u),o=!1):(r=R.EMPTY_NODE,o=!1);const d=Aa(new po(r,o,!1),new po(u,p,!1));return new ms(i,d)}return t}(a,i,u,p,v);return a.views.has(i._queryIdentifier)||a.views.set(i._queryIdentifier,t),function lf(a,i){a.eventRegistrations_.push(i)}(t,n),function Dg(a,i){const n=a.viewCache_.eventCache,u=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kn,(v,t)=>{u.push(Ci(v,t))}),n.isFullyInitialized()&&u.push(ki(n.getNode())),Pd(a,u,n.getNode(),i)}(t,n)}function _o(a){const i=[];for(const n of a.views.values())n.query._queryParams.loadsAllData()||i.push(n);return i}function Dt(a,i){let n=null;for(const u of a.views.values())n=n||af(u,i);return n}function ci(a,i){return i._queryParams.loadsAllData()?fn(a):a.views.get(i._queryIdentifier)}function yo(a,i){return null!=ci(a,i)}function Bs(a){return null!=fn(a)}function fn(a){for(const i of a.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let nt=1;class kt{constructor(i){this.listenProvider_=i,this.syncPointTree_=new br(null),this.pendingWriteTree_=function na(){return{visibleWrites:ts.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Er(a,i,n,u,p){return function Ra(a,i,n,u,p){(0,K.hu)(u>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),a.allWrites.push({path:i,snap:n,writeId:u,visible:p}),p&&(a.visibleWrites=Ma(a.visibleWrites,i,n)),a.lastWriteId=u}(a.pendingWriteTree_,i,n,u,p),p?sa(a,new Ts({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,n)):[]}function Ds(a,i,n=!1){const u=function Mo(a,i){for(let n=0;n<a.allWrites.length;n++){const u=a.allWrites[n];if(u.writeId===i)return u}return null}(a.pendingWriteTree_,i);if(function ka(a,i){const n=a.allWrites.findIndex(r=>r.writeId===i);(0,K.hu)(n>=0,"removeWrite called with nonexistent writeId.");const u=a.allWrites[n];a.allWrites.splice(n,1);let p=u.visible,v=!1,t=a.allWrites.length-1;for(;p&&t>=0;){const r=a.allWrites[t];r.visible&&(t>=n&&ta(r,u.path)?p=!1:hr(u.path,r.path)&&(v=!0)),t--}return!!p&&(v?(function ui(a){a.visibleWrites=kd(a.allWrites,hl,he()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(u.snap?a.visibleWrites=xa(a.visibleWrites,u.path):ut(u.children,o=>{a.visibleWrites=xa(a.visibleWrites,yn(u.path,o))}),!0))}(a.pendingWriteTree_,i)){let v=new br(null);return null!=u.snap?v=v.set(he(),!0):ut(u.children,t=>{v=v.set(new ye(t),!0)}),sa(a,new Fs(u.path,v,n))}return[]}function Vc(a,i,n){return sa(a,new Ts({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,n))}function Qu(a,i,n,u,p=!1){const v=i._path,t=a.syncPointTree_.get(v);let r=[];if(t&&("default"===i._queryIdentifier||yo(t,i))){const o=function Fc(a,i,n,u){const p=i._queryIdentifier,v=[];let t=[];const r=Bs(a);if("default"===p)for(const[o,d]of a.views.entries())t=t.concat(Zu(d,n,u)),Ar(d)&&(a.views.delete(o),d.query._queryParams.loadsAllData()||v.push(d.query));else{const o=a.views.get(p);o&&(t=t.concat(Zu(o,n,u)),Ar(o)&&(a.views.delete(p),o.query._queryParams.loadsAllData()||v.push(o.query)))}return r&&!Bs(a)&&v.push(new(function uf(){return(0,K.hu)(Yu,"Reference.ts has not been loaded"),Yu}())(i._repo,i._path)),{removed:v,events:t}}(t,i,n,u);(function Ei(a){return 0===a.views.size})(t)&&(a.syncPointTree_=a.syncPointTree_.remove(v));const d=o.removed;if(r=o.events,!p){const h=-1!==d.findIndex(E=>E._queryParams.loadsAllData()),m=a.syncPointTree_.findOnPath(v,(E,T)=>Bs(T));if(h&&!m){const E=a.syncPointTree_.subtree(v);if(!E.isEmpty()){const T=function oa(a){return a.fold((i,n,u)=>{if(n&&Bs(n))return[fn(n)];{let p=[];return n&&(p=_o(n)),ut(u,(v,t)=>{p=p.concat(t)}),p}})}(E);for(let O=0;O<T.length;++O){const F=T[O],$=F.query,Q=Sn(a,F);a.listenProvider_.startListening(ml($),Fa(a,$),Q.hashFn,Q.onComplete)}}}if(!m&&d.length>0&&!u)if(h){const E=null;a.listenProvider_.stopListening(ml(i),E)}else d.forEach(E=>{const T=a.queryToTagMap.get(tr(E));a.listenProvider_.stopListening(ml(E),T)})}!function Ks(a,i){for(let n=0;n<i.length;++n){const u=i[n];if(!u._queryParams.loadsAllData()){const p=tr(u),v=a.queryToTagMap.get(p);a.queryToTagMap.delete(p),a.tagToQueryMap.delete(v)}}}(a,d)}return r}function Bc(a,i,n,u=!1){const p=i._path;let v=null,t=!1;a.syncPointTree_.foreachOnPath(p,(E,T)=>{const O=Vr(E,p);v=v||Dt(T,O),t=t||Bs(T)});let o,r=a.syncPointTree_.get(p);r?(t=t||Bs(r),v=v||Dt(r,he())):(r=new Fd,a.syncPointTree_=a.syncPointTree_.set(p,r)),null!=v?o=!0:(o=!1,v=R.EMPTY_NODE,a.syncPointTree_.subtree(p).foreachChild((T,O)=>{const F=Dt(O,he());F&&(v=v.updateImmediateChild(T,F))}));const d=yo(r,i);if(!d&&!i._queryParams.loadsAllData()){const E=tr(i);(0,K.hu)(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const T=function Ai(){return nt++}();a.queryToTagMap.set(E,T),a.tagToQueryMap.set(T,E)}let m=vu(r,i,n,Oa(a.pendingWriteTree_,p),v,o);if(!d&&!t&&!u){const E=ci(r,i);m=m.concat(function Ju(a,i,n){const u=i._path,p=Fa(a,i),v=Sn(a,n),t=a.listenProvider_.startListening(ml(i),p,v.hashFn,v.onComplete),r=a.syncPointTree_.subtree(u);if(p)(0,K.hu)(!Bs(r.value),"If we're adding a query, it shouldn't be shadowed");else{const o=r.fold((d,h,m)=>{if(!gn(d)&&h&&Bs(h))return[fn(h).query];{let E=[];return h&&(E=E.concat(_o(h).map(T=>T.query))),ut(m,(T,O)=>{E=E.concat(O)}),E}});for(let d=0;d<o.length;++d){const h=o[d];a.listenProvider_.stopListening(ml(h),Fa(a,h))}}return t}(a,i,E))}return m}function Ul(a,i,n){const p=a.pendingWriteTree_,v=a.syncPointTree_.findOnPath(i,(t,r)=>{const d=Dt(r,Vr(t,i));if(d)return d});return fl(p,i,v,n,!0)}function sa(a,i){return Pa(i,a.syncPointTree_,null,Oa(a.pendingWriteTree_,he()))}function Pa(a,i,n,u){if(gn(a.path))return Yr(a,i,n,u);{const p=i.get(he());null==n&&null!=p&&(n=Dt(p,he()));let v=[];const t=Ee(a.path),r=a.operationForChild(t),o=i.children.get(t);if(o&&r){const d=n?n.getImmediateChild(t):null,h=Bl(u,t);v=v.concat(Pa(r,o,d,h))}return p&&(v=v.concat(hi(p,a,u,n))),v}}function Yr(a,i,n,u){const p=i.get(he());null==n&&null!=p&&(n=Dt(p,he()));let v=[];return i.children.inorderTraversal((t,r)=>{const o=n?n.getImmediateChild(t):null,d=Bl(u,t),h=a.operationForChild(t);h&&(v=v.concat(Yr(h,r,o,d)))}),p&&(v=v.concat(hi(p,a,u,n))),v}function Sn(a,i){const n=i.query,u=Fa(a,n);return{hashFn:()=>(function ri(a){return a.viewCache_.serverCache.getNode()}(i)||R.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return u?function Vp(a,i,n){const u=bu(a,n);if(u){const p=Qr(u),v=p.path,t=p.queryId,r=Vr(v,i);return Zt(a,v,new Da(fo(t),r))}return[]}(a,n._path,u):function Lp(a,i){return sa(a,new Da({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(a,n._path);{const v=function St(a,i){let n="Unknown Error";"too_big"===a?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?n="Client doesn't have permission to access the desired data.":"unavailable"===a&&(n="The service is unavailable");const u=new Error(a+" at "+i._path.toString()+": "+n);return u.code=a.toUpperCase(),u}(p,n);return Qu(a,n,null,v)}}}}function Fa(a,i){const n=tr(i);return a.queryToTagMap.get(n)}function tr(a){return a._path.toString()+"$"+a._queryIdentifier}function bu(a,i){return a.tagToQueryMap.get(i)}function Qr(a){const i=a.indexOf("$");return(0,K.hu)(-1!==i&&i<a.length-1,"Bad queryKey."),{queryId:a.substr(i+1),path:new ye(a.substr(0,i))}}function Zt(a,i,n){const u=a.syncPointTree_.get(i);return(0,K.hu)(u,"Missing sync point for query tag that we're tracking"),hi(u,n,Oa(a.pendingWriteTree_,i),null)}function ml(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(function an(){return(0,K.hu)(xn,"Reference.ts has not been loaded"),xn}())(a._repo,a._path):a}class Vd{constructor(i){this.node_=i}getImmediateChild(i){const n=this.node_.getImmediateChild(i);return new Vd(n)}node(){return this.node_}}class La{constructor(i,n){this.syncTree_=i,this.path_=n}getImmediateChild(i){const n=yn(this.path_,i);return new La(this.syncTree_,n)}node(){return Ul(this.syncTree_,this.path_)}}const Uc=function(a,i,n){return a&&"object"==typeof a?((0,K.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?Zs(a[".sv"],i,n):"object"==typeof a[".sv"]?Bd(a[".sv"],i):void(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},Zs=function(a,i,n){if("timestamp"===a)return n.timestamp;(0,K.hu)(!1,"Unexpected server value: "+a)},Bd=function(a,i,n){a.hasOwnProperty("increment")||(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const u=a.increment;"number"!=typeof u&&(0,K.hu)(!1,"Unexpected increment value: "+u);const p=i.node();if((0,K.hu)(null!=p,"Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return u;const t=p.getValue();return"number"!=typeof t?u:t+u},Ba=function(a,i,n){return Ys(a,new Vd(i),n)};function Ys(a,i,n){const u=a.getPriority().val(),p=Uc(u,i.getImmediateChild(".priority"),n);let v;if(a.isLeafNode()){const t=a,r=Uc(t.getValue(),i,n);return r!==t.getValue()||p!==t.getPriority().val()?new Mr(r,Te(p)):a}{const t=a;return v=t,p!==t.getPriority().val()&&(v=v.updatePriority(new Mr(p))),t.forEachChild(Kn,(r,o)=>{const d=Ys(o,i.getImmediateChild(r),n);d!==o&&(v=v.updateImmediateChild(r,d))}),v}}class aa{constructor(i="",n=null,u={children:{},childCount:0}){this.name=i,this.parent=n,this.node=u}}function Qe(a,i){let n=i instanceof ye?i:new ye(i),u=a,p=Ee(n);for(;null!==p;){const v=(0,K.DV)(u.node.children,p)||{children:{},childCount:0};u=new aa(p,u,v),n=_t(n),p=Ee(n)}return u}function Qs(a){return a.node.value}function As(a,i){a.node.value=i,Xu(a)}function Ua(a){return a.node.childCount>0}function ko(a,i){ut(a.node.children,(n,u)=>{i(new aa(n,a,u))})}function jc(a,i,n,u){n&&!u&&i(a),ko(a,p=>{jc(p,i,!0,u)}),n&&u&&i(a)}function vo(a){return new ye(null===a.parent?a.name:vo(a.parent)+"/"+a.name)}function Xu(a){null!==a.parent&&function Bp(a,i,n){const u=function Eu(a){return void 0===Qs(a)&&!Ua(a)}(n),p=(0,K.r3)(a.node.children,i);u&&p?(delete a.node.children[i],a.node.childCount--,Xu(a)):!u&&!p&&(a.node.children[i]=n.node,a.node.childCount++,Xu(a))}(a.parent,a.name,a)}const Ud=/[\[\].#$\/\u0000-\u001F\u007F]/,Ss=/[\[\].#$\u0000-\u001F\u007F]/,jd=10485760,la=function(a){return"string"==typeof a&&0!==a.length&&!Ud.test(a)},ec=function(a){return"string"==typeof a&&0!==a.length&&!Ss.test(a)},Or=function(a,i,n,u){u&&void 0===i||or((0,K.gK)(a,"value"),i,n)},or=function(a,i,n){const u=n instanceof ye?new wa(n,a):n;if(void 0===i)throw new Error(a+"contains undefined "+Mi(u));if("function"==typeof i)throw new Error(a+"contains a function "+Mi(u)+" with contents = "+i.toString());if(it(i))throw new Error(a+"contains "+i.toString()+" "+Mi(u));if("string"==typeof i&&i.length>jd/3&&(0,K.ug)(i)>jd)throw new Error(a+"contains a string greater than "+jd+" utf8 bytes "+Mi(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let p=!1,v=!1;if(ut(i,(t,r)=>{if(".value"===t)p=!0;else if(".priority"!==t&&".sv"!==t&&(v=!0,!la(t)))throw new Error(a+" contains an invalid key ("+t+") "+Mi(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ls(a,i){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(i),a.byteLength_+=(0,K.ug)(i),bs(a)})(u,t),or(a,r,u),function Ca(a){const i=a.parts_.pop();a.byteLength_-=(0,K.ug)(i),a.parts_.length>0&&(a.byteLength_-=1)}(u)}),p&&v)throw new Error(a+' contains ".value" child '+Mi(u)+" in addition to actual children.")}},ii=function(a,i,n,u){if(!(u&&void 0===n||ec(n)))throw new Error((0,K.gK)(a,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vi=function(a,i){if(".info"===Ee(i))throw new Error(a+" failed = Can't modify data under /.info/")};class Js{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jl(a,i){let n=null;for(let u=0;u<i.length;u++){const p=i[u],v=p.getPath();null!==n&&!as(v,n.path)&&(a.eventLists_.push(n),n=null),null===n&&(n={events:[],path:v}),n.events.push(p)}n&&a.eventLists_.push(n)}function $c(a,i,n){jl(a,n),hf(a,u=>as(u,i))}function qi(a,i,n){jl(a,n),hf(a,u=>hr(u,i)||hr(i,u))}function hf(a,i){a.recursionDepth_++;let n=!0;for(let u=0;u<a.eventLists_.length;u++){const p=a.eventLists_[u];p&&(i(p.path)?(_l(a.eventLists_[u]),a.eventLists_[u]=null):n=!1)}n&&(a.eventLists_=[]),a.recursionDepth_--}function _l(a){for(let i=0;i<a.events.length;i++){const n=a.events[i];if(null!==n){a.events[i]=null;const u=n.getEventRunner();Ue&&ct("event: "+n.toString()),Yn(u)}}}class Hd{constructor(i,n,u,p){this.repoInfo_=i,this.forceRestClient_=n,this.authTokenProvider_=u,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Js,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hs(),this.transactionQueueTree_=new aa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Hl(a){const n=a.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Po(a){return function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a}({timestamp:Hl(a)})}function Fo(a,i,n,u,p){a.dataUpdateCount++;const v=new ye(i);n=a.interceptServerDataCallback_?a.interceptServerDataCallback_(i,n):n;let t=[];if(p)if(u){const o=(0,K.UI)(n,d=>Te(d));t=function Sg(a,i,n,u){const p=bu(a,u);if(p){const v=Qr(p),t=v.path,r=v.queryId,o=Vr(t,i),d=br.fromObject(n);return Zt(a,t,new cl(fo(r),o,d))}return[]}(a.serverSyncTree_,v,o,p)}else{const o=Te(n);t=function Ld(a,i,n,u){const p=bu(a,u);if(null!=p){const v=Qr(p),t=v.path,r=v.queryId,o=Vr(t,i);return Zt(a,t,new Ts(fo(r),o,n))}return[]}(a.serverSyncTree_,v,o,p)}else if(u){const o=(0,K.UI)(n,d=>Te(d));t=function cf(a,i,n){const u=br.fromObject(n);return sa(a,new cl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(a.serverSyncTree_,v,o)}else{const o=Te(n);t=Vc(a.serverSyncTree_,v,o)}let r=v;t.length>0&&(r=eo(a,v)),qi(a.eventQueue_,r,t)}function $l(a,i){Gl(a,"connected",i),!1===i&&function tc(a){Cu(a,"onDisconnectEvents");const i=Po(a),n=hs();ll(a.onDisconnect_,he(),(p,v)=>{const t=function(a,i,n,u){return Ys(i,new La(n,a),u)}(p,v,a.serverSyncTree_,i);Yo(n,p,t)});let u=[];ll(n,he(),(p,v)=>{u=u.concat(Vc(a.serverSyncTree_,p,v));const t=zl(a,p);eo(a,t)}),a.onDisconnect_=hs(),qi(a.eventQueue_,he(),u)}(a)}function Gl(a,i,n){const u=new ye("/.info/"+i),p=Te(n);a.infoData_.updateSnapshot(u,p);const v=Vc(a.infoSyncTree_,u,p);qi(a.eventQueue_,u,v)}function Ga(a){return a.nextWriteId_++}function za(a,i,n,u,p){Cu(a,"set",{path:i.toString(),value:n,priority:u});const v=Po(a),t=Te(n,u),r=Ul(a.serverSyncTree_,i),o=Ba(t,r,v),d=Ga(a),h=Er(a.serverSyncTree_,i,o,d,!0);jl(a.eventQueue_,h),a.server_.put(i.toString(),t.val(!0),(E,T)=>{const O="ok"===E;O||Fe("set at "+i+" failed: "+E);const F=Ds(a.serverSyncTree_,d,!O);qi(a.eventQueue_,i,F),function si(a,i,n,u){i&&Yn(()=>{if("ok"===n)i(null);else{const p=(n||"error").toUpperCase();let v=p;u&&(v+=": "+u);const t=new Error(v);t.code=p,i(t)}})}(0,p,E,T)});const m=zl(a,i);eo(a,m),qi(a.eventQueue_,m,[])}function zc(a,i,n){let u;u=".info"===Ee(i._path)?Qu(a.infoSyncTree_,i,n):Qu(a.serverSyncTree_,i,n),$c(a.eventQueue_,i._path,u)}function Cu(a,...i){let n="";a.persistentConnection_&&(n=a.persistentConnection_.id+":"),ct(n,...i)}function Rr(a,i,n){return Ul(a.serverSyncTree_,i,n)||R.EMPTY_NODE}function Iu(a,i=a.transactionQueueTree_){if(i||rc(a,i),Qs(i)){const n=nc(a,i);(0,K.hu)(n.length>0,"Sending zero length transaction queue"),n.every(p=>0===p.status)&&function jp(a,i,n){const u=n.map(d=>d.currentWriteId),p=Rr(a,i,u);let v=p;const t=p.hash();for(let d=0;d<n.length;d++){const h=n[d];(0,K.hu)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const m=Vr(i,h.path);v=v.updateChild(m,h.currentOutputSnapshotRaw)}const r=v.val(!0),o=i;a.server_.put(o.toString(),r,d=>{Cu(a,"transaction put response",{path:o.toString(),status:d});let h=[];if("ok"===d){const m=[];for(let E=0;E<n.length;E++)n[E].status=2,h=h.concat(Ds(a.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&m.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();rc(a,Qe(a.transactionQueueTree_,i)),Iu(a,a.transactionQueueTree_),qi(a.eventQueue_,i,h);for(let E=0;E<m.length;E++)Yn(m[E])}else{if("datastale"===d)for(let m=0;m<n.length;m++)n[m].status=3===n[m].status?4:0;else{Fe("transaction at "+o.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}eo(a,i)}},t)}(a,vo(i),n)}else Ua(i)&&ko(i,n=>{Iu(a,n)})}function eo(a,i){const n=vl(a,i),u=vo(n);return function pf(a,i,n){if(0===i.length)return;const u=[];let p=[];const t=i.filter(r=>0===r.status).map(r=>r.currentWriteId);for(let r=0;r<i.length;r++){const o=i[r],d=Vr(n,o.path);let m,h=!1;if((0,K.hu)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,m=o.abortReason,p=p.concat(Ds(a.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)h=!0,m="maxretry",p=p.concat(Ds(a.serverSyncTree_,o.currentWriteId,!0));else{const E=Rr(a,o.path,t);o.currentInputSnapshot=E;const T=i[r].update(E.val());if(void 0!==T){or("transaction failed: Data returned ",T,o.path);let O=Te(T);"object"==typeof T&&null!=T&&(0,K.r3)(T,".priority")||(O=O.updatePriority(E.getPriority()));const $=o.currentWriteId,Q=Po(a),ue=Ba(O,E,Q);o.currentOutputSnapshotRaw=O,o.currentOutputSnapshotResolved=ue,o.currentWriteId=Ga(a),t.splice(t.indexOf($),1),p=p.concat(Er(a.serverSyncTree_,o.path,ue,o.currentWriteId,o.applyLocally)),p=p.concat(Ds(a.serverSyncTree_,$,!0))}else h=!0,m="nodata",p=p.concat(Ds(a.serverSyncTree_,o.currentWriteId,!0))}qi(a.eventQueue_,n,p),p=[],h&&(i[r].status=2,setTimeout(i[r].unwatcher,Math.floor(0)),i[r].onComplete&&u.push("nodata"===m?()=>i[r].onComplete(null,!1,i[r].currentInputSnapshot):()=>i[r].onComplete(new Error(m),!1,null)))}rc(a,a.transactionQueueTree_);for(let r=0;r<u.length;r++)Yn(u[r]);Iu(a,a.transactionQueueTree_)}(a,nc(a,n),u),u}function vl(a,i){let n,u=a.transactionQueueTree_;for(n=Ee(i);null!==n&&void 0===Qs(u);)u=Qe(u,n),n=Ee(i=_t(i));return u}function nc(a,i){const n=[];return Tu(a,i,n),n.sort((u,p)=>u.order-p.order),n}function Tu(a,i,n){const u=Qs(i);if(u)for(let p=0;p<u.length;p++)n.push(u[p]);ko(i,p=>{Tu(a,p,n)})}function rc(a,i){const n=Qs(i);if(n){let u=0;for(let p=0;p<n.length;p++)2!==n[p].status&&(n[u]=n[p],u++);n.length=u,As(i,n.length>0?n:void 0)}ko(i,u=>{rc(a,u)})}function zl(a,i){const n=vo(vl(a,i)),u=Qe(a.transactionQueueTree_,i);return function Us(a,i,n){let u=n?a:a.parent;for(;null!==u;){if(i(u))return!0;u=u.parent}}(u,p=>{pi(a,p)}),pi(a,u),jc(u,p=>{pi(a,p)}),n}function pi(a,i){const n=Qs(i);if(n){const u=[];let p=[],v=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,K.hu)(v===t-1,"All SENT items should be at beginning of queue."),v=t,n[t].status=3,n[t].abortReason="set"):((0,K.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),p=p.concat(Ds(a.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&u.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===v?As(i,void 0):n.length=v+1,qi(a.eventQueue_,vo(i),p);for(let t=0;t<u.length;t++)Yn(u[t])}}const qd=function(a,i){const n=mi(a),u=n.namespace;return"firebase.com"===n.domain&&Me(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==n.domain&&Me("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Fe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new wn(n.host,n.secure,u,"ws"===n.scheme||"wss"===n.scheme,i,"",u!==n.subdomain),path:new ye(n.pathString)}},mi=function(a){let i="",n="",u="",p="",v="",t=!0,r="https",o=443;if("string"==typeof a){let d=a.indexOf("//");d>=0&&(r=a.substring(0,d-1),a=a.substring(d+2));let h=a.indexOf("/");-1===h&&(h=a.length);let m=a.indexOf("?");-1===m&&(m=a.length),i=a.substring(0,Math.min(h,m)),h<m&&(p=function Wd(a){let i="";const n=a.split("/");for(let u=0;u<n.length;u++)if(n[u].length>0){let p=n[u];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch(v){}i+="/"+p}return i}(a.substring(h,m)));const E=function qc(a){const i={};"?"===a.charAt(0)&&(a=a.substring(1));for(const n of a.split("&")){if(0===n.length)continue;const u=n.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Fe(`Invalid query segment '${n}' in query '${a}'`)}return i}(a.substring(Math.min(a.length,m)));d=i.indexOf(":"),d>=0?(t="https"===r||"wss"===r,o=parseInt(i.substring(d+1),10)):d=i.length;const T=i.slice(0,d);if("localhost"===T.toLowerCase())n="localhost";else if(T.split(".").length<=2)n=T;else{const O=i.indexOf(".");u=i.substring(0,O).toLowerCase(),n=i.substring(O+1),v=u}"ns"in E&&(v=E.ns)}return{host:i,port:o,domain:n,subdomain:u,secure:t,scheme:r,pathString:p,namespace:v}};class Kd{constructor(i,n,u,p){this.eventType=i,this.eventRegistration=n,this.snapshot=u,this.prevName=p}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,K.Pz)(this.snapshot.exportVal())}}class mf{constructor(i,n,u){this.eventRegistration=i,this.error=n,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class I{constructor(i,n){this.snapshotCallback=i,this.cancelCallback=n}onValue(i,n){this.snapshotCallback.call(null,i,n)}onCancel(i){return(0,K.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class b{constructor(i,n,u,p){this._repo=i,this._path=n,this._queryParams=u,this._orderByCalled=p}get key(){return gn(this._path)?null:Wt(this._path)}get ref(){return new we(this._repo,this._path)}get _queryIdentifier(){const i=Xi(this._queryParams),n=sn(i);return"{}"===n?"default":n}get _queryObject(){return Xi(this._queryParams)}isEqual(i){if(!((i=(0,K.m9)(i))instanceof b))return!1;const n=this._repo===i._repo,u=as(this._path,i._path);return n&&u&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function On(a){let i="";for(let n=a.pieceNum_;n<a.pieces_.length;n++)""!==a.pieces_[n]&&(i+="/"+encodeURIComponent(String(a.pieces_[n])));return i||"/"}(this._path)}}class we extends b{constructor(i,n){super(i,n,new sl,!1)}get parent(){const i=Xn(this._path);return null===i?null:new we(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class et{constructor(i,n,u){this._node=i,this.ref=n,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const n=new ye(i),u=ln(this.ref,i);return new et(this._node.getChild(n),u,Kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,p)=>i(new et(p,ln(this.ref,u),Kn)))}hasChild(i){const n=new ye(i);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qt(a,i){return(a=(0,K.m9)(a))._checkNotDeleted("ref"),void 0!==i?ln(a._root,i):a._root}function ln(a,i){return null===Ee((a=(0,K.m9)(a))._path)?(n=i,n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ii("child","path",n,!1)):ii("child","path",i,!1),new we(a._repo,yn(a._path,i));var n}function Nr(a,i){a=(0,K.m9)(a),Vi("set",a._path),Or("set",i,a._path,!1);const n=new K.BH;return za(a._repo,a._path,i,null,n.wrapCallback(()=>{})),n.promise}class ca{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,n){const u=n._queryParams.getIndex();return new Kd("value",this,new et(i.snapshotNode,new we(n._repo,n._path),u))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,n){return this.callbackContext.hasCancelCallback?new mf(this,i,n):null}matches(i){return i instanceof ca&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ql{constructor(i,n){this.eventType=i,this.callbackContext=n}respondsTo(i){let n="children_added"===i?"child_added":i;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(i,n){return this.callbackContext.hasCancelCallback?new mf(this,i,n):null}createEvent(i,n){(0,K.hu)(null!=i.childName,"Child events should have a childName.");const u=ln(new we(n._repo,n._path),i.childName),p=n._queryParams.getIndex();return new Kd(i.type,this,new et(i.snapshotNode,u,p),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof ql&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Du(a,i,n,u){return function bl(a,i,n,u,p){let v;if("object"==typeof u&&(v=void 0,p=u),"function"==typeof u&&(v=u),p&&p.onlyOnce){const o=n,d=(h,m)=>{zc(a._repo,a,r),o(h,m)};d.userCallback=n.userCallback,d.context=n.context,n=d}const t=new I(n,v||void 0),r="value"===i?new ca(t):new ql(i,t);return function Gd(a,i,n){let u;u=".info"===Ee(i._path)?Bc(a.infoSyncTree_,i,n):Bc(a.serverSyncTree_,i,n),$c(a.eventQueue_,i._path,u)}(a._repo,a,r),()=>zc(a._repo,a,r)}(a,"value",i,n,u)}(function pl(a){(0,K.hu)(!Yu,"__referenceConstructor has already been defined"),Yu=a})(we),function Ag(a){(0,K.hu)(!xn,"__referenceConstructor has already been defined"),xn=a}(we);const Vo={};function Wp(a,i,n,u,p){let v=u||a.options.databaseURL;void 0===v&&(a.options.projectId||Me("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",a.options.projectId),v=`${a.options.projectId}-default-rtdb.firebaseio.com`);let o,d,t=qd(v,p),r=t.repoInfo;"undefined"!=typeof process&&process.env&&(d=process.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(o=!0,v=`http://${d}?ns=${r.namespace}`,t=qd(v,p),r=t.repoInfo):o=!t.repoInfo.secure;const h=p&&o?new cr(cr.OWNER):new Xt(a.name,a.options,i);(function(a,i){const n=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!la(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==n.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),ec(a)}(n))throw new Error((0,K.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",t),gn(t.path)||Me("Database URL must point to the root of a Firebase Database (not including a child path).");const m=function gi(a,i,n,u){let p=Vo[i.name];p||(p={},Vo[i.name]=p);let v=p[a.toURLString()];return v&&Me("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),v=new Hd(a,false,n,u),p[a.toURLString()]=v,v}(r,a,h,new ar(a.name,n));return new qp(m,a)}class qp{constructor(i,n){this._repoInternal=i,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yl(a,i,n){if(a.stats_=Je(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new uo(a.repoInfo_,(u,p,v,t)=>{Fo(a,u,p,v,t)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>$l(a,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,K.Pz)(n)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}a.persistentConnection_=new $i(a.repoInfo_,i,(u,p,v,t)=>{Fo(a,u,p,v,t)},u=>{$l(a,u)},u=>{!function $a(a,i){ut(i,(n,u)=>{Gl(a,n,u)})}(a,u)},a.authTokenProvider_,a.appCheckProvider_,n),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(u=>{a.server_.refreshAuthToken(u)}),a.appCheckProvider_.addTokenChangeListener(u=>{a.server_.refreshAppCheckToken(u.token)}),a.statsReporter_=function Gn(a,i){const n=a.toString();return cn[n]||(cn[n]=i()),cn[n]}(a.repoInfo_,()=>new pu(a.stats_,a.server_)),a.infoData_=new ds,a.infoSyncTree_=new kt({startListening:(u,p,v,t)=>{let r=[];const o=a.infoData_.getNode(u._path);return o.isEmpty()||(r=Vc(a.infoSyncTree_,u._path,o),setTimeout(()=>{t("ok")},0)),r},stopListening:()=>{}}),Gl(a,"connected",!1),a.serverSyncTree_=new kt({startListening:(u,p,v,t)=>(a.server_.listen(u,v,p,(r,o)=>{const d=t(r,o);qi(a.eventQueue_,u._path,d)}),[]),stopListening:(u,p)=>{a.server_.unlisten(u,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new we(this._repo,he())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kg(a,i){const n=Vo[i];(!n||n[a.key]!==a)&&Me(`Database ${i}(${a.repoInfo_}) has already been deleted.`),function zd(a){a.persistentConnection_&&a.persistentConnection_.interrupt("repo_interrupt")}(a),delete n[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Me("Cannot call "+i+" on a deleted database.")}}function bo(a=(0,Ae.getApp)(),i){return(0,Ae._getProvider)(a,"database").getImmediate({identifier:i})}$i.prototype.simpleListen=function(a,i){this.sendRequest("q",{p:a},i)},$i.prototype.echo=function(a,i){this.sendRequest("echo",{d:a},i)},function bf(a){(function Se(a){le=a})(Ae.SDK_VERSION),(0,Ae._registerComponent)(new Le.wA("database",(i,{instanceIdentifier:n})=>Wp(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Ae.registerVersion)(ze,"0.13.6",a),(0,Ae.registerVersion)(ze,"0.13.6","esm2017")}();var Wa=U(9870);let ih=(()=>{class a{constructor(n){this.auth=n,this.database=bo(),this.readData()}writeUserData(n){let p=function kr(a,i){a=(0,K.m9)(a),Vi("push",a._path),Or("push",i,a._path,!0);const n=Hl(a._repo),u=Gr(n),p=ln(a,u),v=ln(a,u);let t;return t=null!=i?Nr(v,i).then(()=>v):Promise.resolve(v),p.then=t.then.bind(t),p.catch=t.then.bind(t,void 0),p}(qt(this.database,"chat"));Nr(p,n)}readData(){Du(qt(this.database,"chat"),u=>{this.items=Object.values(u.val()),console.log("cambie")})}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(Wa.e))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Su=U(994),rs=U(9808),Ef=U(8996),wf=U(8306),Zp=U(4742),Jl=U(8421),Pg=U(7669),Cf=U(5403),jy=U(3268),Mu=U(1810),sh=U(4004);let Ki=(()=>{class a{constructor(n,u){this._renderer=n,this._elementRef=u,this.onChange=p=>{},this.onTouched=()=>{}}setProperty(n,u){this._renderer.setProperty(this._elementRef.nativeElement,n,u)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(g.Qsj),g.Y36(g.SBq))},a.\u0275dir=g.lG2({type:a}),a})(),Cl=(()=>{class a extends Ki{}return a.\u0275fac=function(){let i;return function(u){return(i||(i=g.n5z(a)))(u||a)}}(),a.\u0275dir=g.lG2({type:a,features:[g.qOj]}),a})();const to=new g.OlP("NgValueAccessor"),Xc={provide:to,useExisting:(0,g.Gpc)(()=>Xl),multi:!0},sc=new g.OlP("CompositionEventMode");let Xl=(()=>{class a extends Ki{constructor(n,u,p){super(n,u),this._compositionMode=p,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yp(){const a=(0,rs.q)()?(0,rs.q)().getUserAgent():"";return/android (\d+)/.test(a.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(sc,8))},a.\u0275dir=g.lG2({type:a,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,u){1&n&&g.NdJ("input",function(v){return u._handleInput(v.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(v){return u._compositionEnd(v.target.value)})},features:[g._Bn([Xc]),g.qOj]}),a})();function qa(a){return null==a||0===a.length}function oc(a){return null!=a&&"number"==typeof a.length}const Hs=new g.OlP("NgValidators"),eu=new g.OlP("NgAsyncValidators"),oh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qp{static min(i){return Jp(i)}static max(i){return ah(i)}static required(i){return function If(a){return qa(a.value)?{required:!0}:null}(i)}static requiredTrue(i){return function Lg(a){return!0===a.value?null:{required:!0}}(i)}static email(i){return function Xp(a){return qa(a.value)||oh.test(a.value)?null:{email:!0}}(i)}static minLength(i){return function em(a){return i=>qa(i.value)||!oc(i.value)?null:i.value.length<a?{minlength:{requiredLength:a,actualLength:i.value.length}}:null}(i)}static maxLength(i){return tm(i)}static pattern(i){return function Vg(a){if(!a)return Il;let i,n;return"string"==typeof a?(n="","^"!==a.charAt(0)&&(n+="^"),n+=a,"$"!==a.charAt(a.length-1)&&(n+="$"),i=new RegExp(n)):(n=a.toString(),i=a),u=>{if(qa(u.value))return null;const p=u.value;return i.test(p)?null:{pattern:{requiredPattern:n,actualValue:p}}}}(i)}static nullValidator(i){return null}static compose(i){return Hg(i)}static composeAsync(i){return Ka(i)}}function Jp(a){return i=>{if(qa(i.value)||qa(a))return null;const n=parseFloat(i.value);return!isNaN(n)&&n<a?{min:{min:a,actual:i.value}}:null}}function ah(a){return i=>{if(qa(i.value)||qa(a))return null;const n=parseFloat(i.value);return!isNaN(n)&&n>a?{max:{max:a,actual:i.value}}:null}}function tm(a){return i=>oc(i.value)&&i.value.length>a?{maxlength:{requiredLength:a,actualLength:i.value.length}}:null}function Il(a){return null}function Ms(a){return null!=a}function Bg(a){const i=(0,g.QGY)(a)?(0,Ef.D)(a):a;return(0,g.CqO)(i),i}function nm(a){let i={};return a.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function Ug(a,i){return i.map(n=>n(a))}function $s(a){return a.map(i=>function jg(a){return!a.validate}(i)?i:n=>i.validate(n))}function Hg(a){if(!a)return null;const i=a.filter(Ms);return 0==i.length?null:function(n){return nm(Ug(n,i))}}function lh(a){return null!=a?Hg($s(a)):null}function Ka(a){if(!a)return null;const i=a.filter(Ms);return 0==i.length?null:function(n){return function Fg(...a){const i=(0,Pg.jO)(a),{args:n,keys:u}=(0,Zp.D)(a),p=new wf.y(v=>{const{length:t}=n;if(!t)return void v.complete();const r=new Array(t);let o=t,d=t;for(let h=0;h<t;h++){let m=!1;(0,Jl.Xf)(n[h]).subscribe(new Cf.Q(v,E=>{m||(m=!0,d--),r[h]=E},()=>o--,void 0,()=>{(!o||!m)&&(d||v.next(u?(0,Mu.n)(u,r):r),v.complete())}))}});return i?p.pipe((0,jy.Z)(i)):p}(Ug(n,i).map(Bg)).pipe((0,sh.U)(nm))}}function Tf(a){return null!=a?Ka($s(a)):null}function uh(a,i){return null===a?[i]:Array.isArray(a)?[...a,i]:[a,i]}function zn(a){return a._rawValidators}function rm(a){return a._rawAsyncValidators}function Df(a){return a?Array.isArray(a)?a:[a]:[]}function ch(a,i){return Array.isArray(a)?a.includes(i):a===i}function dh(a,i){const n=Df(i);return Df(a).forEach(p=>{ch(n,p)||n.push(p)}),n}function da(a,i){return Df(i).filter(n=>!ch(a,n))}class im{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=lh(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Tf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,n){return!!this.control&&this.control.hasError(i,n)}getError(i,n){return this.control?this.control.getError(i,n):null}}class tu extends im{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xs extends im{get formDirective(){return null}get path(){return null}}class Tl{constructor(i){this._cd=i}is(i){var n,u,p;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(p=null===(u=this._cd)||void 0===u?void 0:u.control)||void 0===p?void 0:p[i])}}let ac=(()=>{class a extends Tl{constructor(n){super(n)}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(tu,2))},a.\u0275dir=g.lG2({type:a,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,u){2&n&&g.ekj("ng-untouched",u.is("untouched"))("ng-touched",u.is("touched"))("ng-pristine",u.is("pristine"))("ng-dirty",u.is("dirty"))("ng-valid",u.is("valid"))("ng-invalid",u.is("invalid"))("ng-pending",u.is("pending"))},features:[g.qOj]}),a})(),$y=(()=>{class a extends Tl{constructor(n){super(n)}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(xs,10))},a.\u0275dir=g.lG2({type:a,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,u){2&n&&g.ekj("ng-untouched",u.is("untouched"))("ng-touched",u.is("touched"))("ng-pristine",u.is("pristine"))("ng-dirty",u.is("dirty"))("ng-valid",u.is("valid"))("ng-invalid",u.is("invalid"))("ng-pending",u.is("pending"))("ng-submitted",u.is("submitted"))},features:[g.qOj]}),a})();function ha(a,i){lm(a,i),i.valueAccessor.writeValue(a.value),function qg(a,i){i.valueAccessor.registerOnChange(n=>{a._pendingValue=n,a._pendingChange=!0,a._pendingDirty=!0,"change"===a.updateOn&&Kg(a,i)})}(a,i),function Gb(a,i){const n=(u,p)=>{i.valueAccessor.writeValue(u),p&&i.viewToModelUpdate(u)};a.registerOnChange(n),i._registerOnDestroy(()=>{a._unregisterOnChange(n)})}(a,i),function Ky(a,i){i.valueAccessor.registerOnTouched(()=>{a._pendingTouched=!0,"blur"===a.updateOn&&a._pendingChange&&Kg(a,i),"submit"!==a.updateOn&&a.markAsTouched()})}(a,i),function Mf(a,i){if(i.valueAccessor.setDisabledState){const n=u=>{i.valueAccessor.setDisabledState(u)};a.registerOnDisabledChange(n),i._registerOnDestroy(()=>{a._unregisterOnDisabledChange(n)})}}(a,i)}function Al(a,i,n=!0){const u=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(u),i.valueAccessor.registerOnTouched(u)),fh(a,i),a&&(i._invokeOnDestroyCallbacks(),a._registerOnCollectionChange(()=>{}))}function fa(a,i){a.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function lm(a,i){const n=zn(a);null!==i.validator?a.setValidators(uh(n,i.validator)):"function"==typeof n&&a.setValidators([n]);const u=rm(a);null!==i.asyncValidator?a.setAsyncValidators(uh(u,i.asyncValidator)):"function"==typeof u&&a.setAsyncValidators([u]);const p=()=>a.updateValueAndValidity();fa(i._rawValidators,p),fa(i._rawAsyncValidators,p)}function fh(a,i){let n=!1;if(null!==a){if(null!==i.validator){const p=zn(a);if(Array.isArray(p)&&p.length>0){const v=p.filter(t=>t!==i.validator);v.length!==p.length&&(n=!0,a.setValidators(v))}}if(null!==i.asyncValidator){const p=rm(a);if(Array.isArray(p)&&p.length>0){const v=p.filter(t=>t!==i.asyncValidator);v.length!==p.length&&(n=!0,a.setAsyncValidators(v))}}}const u=()=>{};return fa(i._rawValidators,u),fa(i._rawAsyncValidators,u),n}function Kg(a,i){a._pendingDirty&&a.markAsDirty(),a.setValue(a._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(a._pendingValue),a._pendingChange=!1}function Zg(a,i){lm(a,i)}function xf(a,i){a._syncPendingControls(),i.forEach(n=>{const u=n.control;"submit"===u.updateOn&&u._pendingChange&&(n.viewToModelUpdate(u._pendingValue),u._pendingChange=!1)})}function mh(a,i){const n=a.indexOf(i);n>-1&&a.splice(n,1)}const _s="VALID",Ya="INVALID",uc="PENDING",cc="DISABLED";function td(a){return(ma(a)?a.validators:a)||null}function gh(a){return Array.isArray(a)?lh(a):a||null}function um(a,i){return(ma(i)?i.asyncValidators:a)||null}function dc(a){return Array.isArray(a)?Tf(a):a||null}function ma(a){return null!=a&&!Array.isArray(a)&&"object"==typeof a}const hc=a=>a instanceof pc,ga=a=>a instanceof rd;function Ou(a){return hc(a)?a.value:a.getRawValue()}function no(a,i){const n=ga(a),u=a.controls;if(!(n?Object.keys(u):u).length)throw new g.vHH(1e3,"");if(!u[i])throw new g.vHH(1001,"")}function Of(a,i){ga(a),a._forEachChild((u,p)=>{if(void 0===i[p])throw new g.vHH(1002,"")})}class fc{constructor(i,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=gh(this._rawValidators),this._composedAsyncValidatorFn=dc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===_s}get invalid(){return this.status===Ya}get pending(){return this.status==uc}get disabled(){return this.status===cc}get enabled(){return this.status!==cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=gh(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=dc(i)}addValidators(i){this.setValidators(dh(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(dh(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(da(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(da(i,this._rawAsyncValidators))}hasValidator(i){return ch(this._rawValidators,i)}hasAsyncValidator(i){return ch(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=uc,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=cc,this.errors=null,this._forEachChild(u=>{u.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(u=>u(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=_s,this._forEachChild(u=>{u.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(u=>u(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_s||this.status===uc)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cc:_s}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=uc,this._hasOwnPendingAsyncValidator=!0;const n=Bg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(u=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(u,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function Qy(a,i,n){if(null==i||(Array.isArray(i)||(i=i.split(n)),Array.isArray(i)&&0===i.length))return null;let u=a;return i.forEach(p=>{u=ga(u)?u.controls.hasOwnProperty(p)?u.controls[p]:null:(a=>a instanceof nu)(u)&&u.at(p)||null}),u}(this,i,".")}getError(i,n){const u=n?this.get(n):this;return u&&u.errors?u.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?cc:this.errors?Ya:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uc)?uc:this._anyControlsHaveStatus(Ya)?Ya:_s}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){ma(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pc extends fc{constructor(i=null,n,u){super(td(n),um(u,n)),this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(u=>u(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){mh(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){mh(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class rd extends fc{constructor(i,n,u){super(td(n),um(u,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,u={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,u={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){Of(this,i),Object.keys(i).forEach(u=>{no(this,u),this.controls[u].setValue(i[u],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(u=>{this.controls[u]&&this.controls[u].patchValue(i[u],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((u,p)=>{u.reset(i[p],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,u)=>(i[u]=Ou(n),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,u)=>!!u._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const u=this.controls[n];u&&i(u,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const u=this.controls[n];if(this.contains(n)&&i(u))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,u)=>((n.enabled||this.disabled)&&(i[u]=n.value),i))}_reduceChildren(i,n){let u=i;return this._forEachChild((p,v)=>{u=n(u,p,v)}),u}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class nu extends fc{constructor(i,n,u){super(td(n),um(u,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,u={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:u.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,u={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){Of(this,i),i.forEach((u,p)=>{no(this,p),this.at(p).setValue(u,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((u,p)=>{this.at(p)&&this.at(p).patchValue(u,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((u,p)=>{u.reset(i[p],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>Ou(i))}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,u)=>!!u._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((n,u)=>{i(n,u)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const ru={provide:xs,useExisting:(0,g.Gpc)(()=>_a)},id=(()=>Promise.resolve(null))();let _a=(()=>{class a extends xs{constructor(n,u){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new g.vpe,this.form=new rd({},lh(n),Tf(u))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){id.then(()=>{const u=this._findContainer(n.path);n.control=u.registerControl(n.name,n.control),ha(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){id.then(()=>{const u=this._findContainer(n.path);u&&u.removeControl(n.name),mh(this._directives,n)})}addFormGroup(n){id.then(()=>{const u=this._findContainer(n.path),p=new rd({});Zg(p,n),u.registerControl(n.name,p),p.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){id.then(()=>{const u=this._findContainer(n.path);u&&u.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,u){id.then(()=>{this.form.get(n.path).setValue(u)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,xf(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(Hs,10),g.Y36(eu,10))},a.\u0275dir=g.lG2({type:a,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,u){1&n&&g.NdJ("submit",function(v){return u.onSubmit(v)})("reset",function(){return u.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([ru]),g.qOj]}),a})();const Bo={provide:tu,useExisting:(0,g.Gpc)(()=>iu)},t_=(()=>Promise.resolve(null))();let iu=(()=>{class a extends tu{constructor(n,u,p,v){super(),this.control=new pc,this._registered=!1,this.update=new g.vpe,this._parent=n,this._setValidators(u),this._setAsyncValidators(p),this.valueAccessor=function ph(a,i){if(!i)return null;let n,u,p;return Array.isArray(i),i.forEach(v=>{v.constructor===Xl?n=v:function Yy(a){return Object.getPrototypeOf(a.constructor)===Cl}(v)?u=v:p=v}),p||u||n||null}(0,v)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function Za(a,i){if(!a.hasOwnProperty("model"))return!1;const n=a.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function xu(a,i){return[...i.path,a]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ha(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){t_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const u=n.isDisabled.currentValue,p=""===u||u&&"false"!==u;t_.then(()=>{p&&!this.control.disabled?this.control.disable():!p&&this.control.disabled&&this.control.enable()})}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(xs,9),g.Y36(Hs,10),g.Y36(eu,10),g.Y36(to,10))},a.\u0275dir=g.lG2({type:a,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Bo]),g.qOj,g.TTD]}),a})(),ev=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=g.lG2({type:a,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),a})();const zb={provide:to,useExisting:(0,g.Gpc)(()=>_h),multi:!0};let _h=(()=>{class a extends Cl{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=u=>{n(""==u?null:parseFloat(u))}}}return a.\u0275fac=function(){let i;return function(u){return(i||(i=g.n5z(a)))(u||a)}}(),a.\u0275dir=g.lG2({type:a,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,u){1&n&&g.NdJ("input",function(v){return u.onChange(v.target.value)})("blur",function(){return u.onTouched()})},features:[g._Bn([zb]),g.qOj]}),a})(),Sl=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({}),a})();const hm={provide:xs,useExisting:(0,g.Gpc)(()=>Bi)};let Bi=(()=>{class a extends xs{constructor(n,u){super(),this.validators=n,this.asyncValidators=u,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(n),this._setAsyncValidators(u)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const u=this.form.get(n.path);return ha(u,n),u.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),u}getControl(n){return this.form.get(n.path)}removeControl(n){Al(n.control||null,n,!1),mh(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,u){this.form.get(n.path).setValue(u)}onSubmit(n){return this.submitted=!0,xf(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const u=n.control,p=this.form.get(n.path);u!==p&&(Al(u||null,n),hc(p)&&(ha(p,n),n.control=p))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const u=this.form.get(n.path);Zg(u,n),u.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const u=this.form.get(n.path);u&&function Zy(a,i){return fh(a,i)}(u,n)&&u.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lm(this.form,this),this._oldForm&&fh(this._oldForm,this)}_checkFormPresent(){}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(Hs,10),g.Y36(eu,10))},a.\u0275dir=g.lG2({type:a,selectors:[["","formGroup",""]],hostBindings:function(n,u){1&n&&g.NdJ("submit",function(v){return u.onSubmit(v)})("reset",function(){return u.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([hm]),g.qOj,g.TTD]}),a})();function ld(a){return"number"==typeof a?a:parseFloat(a)}let ud=(()=>{class a{constructor(){this._validator=Il}ngOnChanges(n){if(this.inputName in n){const u=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(u),this._validator=this._enabled?this.createValidator(u):Il,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=g.lG2({type:a,features:[g.TTD]}),a})();const o_={provide:Hs,useExisting:(0,g.Gpc)(()=>mm),multi:!0};let mm=(()=>{class a extends ud{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>ld(n),this.createValidator=n=>ah(n)}}return a.\u0275fac=function(){let i;return function(u){return(i||(i=g.n5z(a)))(u||a)}}(),a.\u0275dir=g.lG2({type:a,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,u){2&n&&g.uIk("max",u._enabled?u.max:null)},inputs:{max:"max"},features:[g._Bn([o_]),g.qOj]}),a})();const Lf={provide:Hs,useExisting:(0,g.Gpc)(()=>a_),multi:!0};let a_=(()=>{class a extends ud{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>ld(n),this.createValidator=n=>Jp(n)}}return a.\u0275fac=function(){let i;return function(u){return(i||(i=g.n5z(a)))(u||a)}}(),a.\u0275dir=g.lG2({type:a,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,u){2&n&&g.uIk("min",u._enabled?u.min:null)},inputs:{min:"min"},features:[g._Bn([Lf]),g.qOj]}),a})();const _m={provide:Hs,useExisting:(0,g.Gpc)(()=>ym),multi:!0};let ym=(()=>{class a extends ud{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Ch(a){return"number"==typeof a?a:parseInt(a,10)}(n),this.createValidator=n=>tm(n)}}return a.\u0275fac=function(){let i;return function(u){return(i||(i=g.n5z(a)))(u||a)}}(),a.\u0275dir=g.lG2({type:a,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,u){2&n&&g.uIk("maxlength",u._enabled?u.maxlength:null)},inputs:{maxlength:"maxlength"},features:[g._Bn([_m]),g.qOj]}),a})(),Dh=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[Sl]]}),a})(),fd=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[Dh]}),a})();function wm(a,i){if(1&a&&(g.TgZ(0,"div",13),g.TgZ(1,"div",14),g.TgZ(2,"div",15),g.TgZ(3,"h6"),g._uU(4),g.qZA(),g.TgZ(5,"p"),g._uU(6),g.qZA(),g.TgZ(7,"time"),g._uU(8),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&a){const n=g.oxw().$implicit;g.xp6(4),g.Oqu(n.user),g.xp6(2),g.Oqu(n.message),g.xp6(2),g.Oqu(n.date)}}function c_(a,i){if(1&a&&(g.TgZ(0,"div"),g.TgZ(1,"div",16),g.TgZ(2,"div",14),g.TgZ(3,"div",17),g.TgZ(4,"h6"),g._uU(5),g.qZA(),g.TgZ(6,"p"),g._uU(7),g.qZA(),g.TgZ(8,"time"),g._uU(9),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&a){const n=g.oxw().$implicit;g.xp6(5),g.Oqu(n.user),g.xp6(2),g.Oqu(n.message),g.xp6(2),g.Oqu(n.date)}}function ov(a,i){if(1&a&&(g.TgZ(0,"div"),g.YNc(1,wm,9,3,"div",11),g.YNc(2,c_,10,3,"div",12),g.qZA()),2&a){const n=i.$implicit,u=g.oxw();g.xp6(1),g.Q6J("ngIf",u.user.logueado.correo===n.user),g.xp6(1),g.Q6J("ngIf",u.user.logueado.correo!==n.user)}}let d_=(()=>{class a{constructor(n,u){this.chat=n,this.user=u,this.database=bo(),Du(qt(this.database,"chat"),v=>{this.mensajes=Object.values(v.val()),console.log("cambie")}),this.mensaje={user:"",message:"",date:Date().toString()}}sendMessage(){let n=new Date;this.mensaje.user=this.user.logueado.correo,this.mensaje.date=n.getHours()+":"+n.getMinutes(),this.chat.writeUserData(this.mensaje),this.mensaje.message=""}ngOnInit(){}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(ih),g.Y36(Wa.e))},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-chat"]],decls:14,vars:3,consts:[[1,"container"],["id","chat_window_1",1,"row","chat-window","col-md-12",2,"margin-left","10px"],[1,"col-xs-12","col-md-12"],[1,"panel","panel-default"],[1,"panel-body","msg_container_base",3,"scrollTop"],["scrollMe",""],[4,"ngFor","ngForOf"],[1,"panel-footer"],[1,"input-group"],["id","btn-input","type","text","placeholder","Ingrese su mensaje",1,"form-control","input-sm","chat_input",3,"ngModel","ngModelChange"],[1,"fa-play","fs-4","ms-2","mt-2",2,"cursor","pointer",3,"click"],["class","row msg_container base_sent",4,"ngIf"],[4,"ngIf"],[1,"row","msg_container","base_sent"],[1,"col-md-10","col-xs-10"],[1,"messages","msg_sent"],[1,"row","msg_container","base_receive"],[1,"messages","msg_receive"]],template:function(n,u){if(1&n&&(g._UZ(0,"app-nav"),g.TgZ(1,"div",0),g.TgZ(2,"div",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4,5),g.YNc(7,ov,3,2,"div",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"div",7),g.TgZ(9,"div",8),g.TgZ(10,"input",9),g.NdJ("ngModelChange",function(v){return u.mensaje.message=v}),g.qZA(),g.TgZ(11,"div"),g.TgZ(12,"button",10),g.NdJ("click",function(){return u.sendMessage()}),g._uU(13,"Enviar"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n){const p=g.MAs(6);g.xp6(5),g.Q6J("scrollTop",p.scrollHeight),g.xp6(2),g.Q6J("ngForOf",u.mensajes),g.xp6(3),g.Q6J("ngModel",u.mensaje.message)}},directives:[Su.r,rs.sg,rs.O5,Xl,ac,iu],styles:['.container[_ngcontent-%COMP%]{width:500px;margin-bottom:auto;margin-top:5em;background-color:#dadada;padding-top:30px;padding-bottom:30px}.col-md-2[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%]{padding:0}.panel[_ngcontent-%COMP%]{margin-bottom:0}.chat-window[_ngcontent-%COMP%]{bottom:0;margin-left:10px}.chat-window[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .panel[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}.icon_minim[_ngcontent-%COMP%]{padding:2px 10px}.msg_container_base[_ngcontent-%COMP%]{background:#e5e5e504;margin:0;padding:0 10px 10px;max-height:500px;overflow-x:hidden}.top-bar[_ngcontent-%COMP%]{background:#444444;padding:5px;position:relative;overflow:hidden;border-radius:2px}.msg_receive[_ngcontent-%COMP%]{padding-left:0;margin-left:0;border-radius:5px;background-color:#f7845adc}.msg_sent[_ngcontent-%COMP%]{padding-bottom:20px!important;margin-right:0;background-color:#a022a0b7}.messages[_ngcontent-%COMP%]{padding:10px;border-radius:5px;box-shadow:0 1px 2px #0003;max-width:100%}.messages[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:13px;margin:0 0 .2rem}.messages[_ngcontent-%COMP%] > time[_ngcontent-%COMP%]{font-size:11px;color:#292828ef}.msg_container[_ngcontent-%COMP%]{padding:10px;overflow:hidden;display:flex}img[_ngcontent-%COMP%]{display:block;width:100%}.base_receive[_ngcontent-%COMP%] > .avatar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:0;height:0;border:5px solid #FFF;border-left-color:#0000;border-bottom-color:#0000}.base_sent[_ngcontent-%COMP%]{justify-content:flex-end;align-items:flex-end}.base_sent[_ngcontent-%COMP%] > .avatar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:0;border:5px solid white;border-right-color:transparent;border-top-color:transparent;box-shadow:1px 1px 2px #0003}.msg_sent[_ngcontent-%COMP%] > time[_ngcontent-%COMP%]{float:right}.msg_container_base[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 10px rgba(0,0,0,.3);background-color:#f5f5f5;border-radius:2px}.msg_container_base[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;background-color:#f5f5f5;border-radius:2px}.msg_container_base[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#555;border-radius:2px}.btn-group.dropup[_ngcontent-%COMP%]{position:fixed;left:0px;bottom:0}']}),a})();var yc=U(1343);function ro(a){return null!=a&&"false"!=`${a}`}function xl(a,i=0){return function Ah(a){return!isNaN(parseFloat(a))&&!isNaN(Number(a))}(a)?Number(a):i}function bc(a){return a instanceof g.SBq?a.nativeElement:a}let Cm;try{Cm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(a){Cm=!1}let Qa,Rs=(()=>{class a{constructor(n){this._platformId=n,this.isBrowser=this._platformId?(0,rs.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(g.Lbi))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Sh=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ru(){if(Qa)return Qa;if("object"!=typeof document||!document)return Qa=new Set(Sh),Qa;let a=document.createElement("input");return Qa=new Set(Sh.filter(i=>(a.setAttribute("type",i),a.type===i))),Qa}let ku,Ja;function su(a){return function Uf(){if(null==ku&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ku=!0}))}finally{ku=ku||!1}return ku}()?a:!!a.capture}function jf(a){return a.composedPath?a.composedPath()[0]:a.target}const dv=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function Hf(){return(0,g.f3M)(rs.K0)}}),xh=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let va=(()=>{class a{constructor(n){if(this.value="ltr",this.change=new g.vpe,n){const p=n.documentElement?n.documentElement.dir:null;this.value=function p_(a){const i=(null==a?void 0:a.toLowerCase())||"";return"auto"===i&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?xh.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((n.body?n.body.dir:null)||p||"ltr")}}ngOnDestroy(){this.change.complete()}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(dv,8))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Tm=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({}),a})();var m_=U(1135),ou=U(7579),md=U(9646),qm=U(9300),$_=U(4671),rp=U(4482);function G_(a,i){return a===i}var Nv=U(5032);function Lu(a){return 0===a.buttons||0===a.offsetX&&0===a.offsetY}function sp(a){const i=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const op=new g.OlP("cdk-input-modality-detector-options"),ap={ignoreKeys:[18,17,224,91,16]},Vu=su({passive:!0,capture:!0});let Zm=(()=>{class a{constructor(n,u,p,v){this._platform=n,this._mostRecentTarget=null,this._modality=new m_.X(null),this._lastTouchMs=0,this._onKeydown=t=>{var r,o;(null===(o=null===(r=this._options)||void 0===r?void 0:r.ignoreKeys)||void 0===o?void 0:o.some(d=>d===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=jf(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Lu(t)?"keyboard":"mouse"),this._mostRecentTarget=jf(t))},this._onTouchstart=t=>{sp(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jf(t))},this._options=Object.assign(Object.assign({},ap),v),this.modalityDetected=this._modality.pipe(function H_(a){return(0,qm.h)((i,n)=>a<=n)}(1)),this.modalityChanged=this.modalityDetected.pipe(function ip(a,i=$_.y){return a=null!=a?a:G_,(0,rp.e)((n,u)=>{let p,v=!0;n.subscribe(new Cf.Q(u,t=>{const r=i(t);(v||!a(p,r))&&(v=!1,p=r,u.next(t))}))})}()),n.isBrowser&&u.runOutsideAngular(()=>{p.addEventListener("keydown",this._onKeydown,Vu),p.addEventListener("mousedown",this._onMousedown,Vu),p.addEventListener("touchstart",this._onTouchstart,Vu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vu),document.removeEventListener("mousedown",this._onMousedown,Vu),document.removeEventListener("touchstart",this._onTouchstart,Vu))}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(Rs),g.LFG(g.R0b),g.LFG(rs.K0),g.LFG(op,8))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Qm=new g.OlP("cdk-focus-monitor-default-options"),Dc=su({passive:!0,capture:!0});let up=(()=>{class a{constructor(n,u,p,v,t){this._ngZone=n,this._platform=u,this._inputModalityDetector=p,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ou.x,this._rootNodeFocusAndBlurListener=r=>{const o=jf(r),d="focus"===r.type?this._onFocus:this._onBlur;for(let h=o;h;h=h.parentElement)d.call(this,r,h)},this._document=v,this._detectionMode=(null==t?void 0:t.detectionMode)||0}monitor(n,u=!1){const p=bc(n);if(!this._platform.isBrowser||1!==p.nodeType)return(0,md.of)(null);const v=function uv(a){if(function f_(){if(null==Ja){const a="undefined"!=typeof document?document.head:null;Ja=!(!a||!a.createShadowRoot&&!a.attachShadow)}return Ja}()){const i=a.getRootNode?a.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(p)||this._getDocument(),t=this._elementInfo.get(p);if(t)return u&&(t.checkChildren=!0),t.subject;const r={checkChildren:u,subject:new ou.x,rootNode:v};return this._elementInfo.set(p,r),this._registerGlobalListeners(r),r.subject}stopMonitoring(n){const u=bc(n),p=this._elementInfo.get(u);p&&(p.subject.complete(),this._setClasses(u),this._elementInfo.delete(u),this._removeGlobalListeners(p))}focusVia(n,u,p){const v=bc(n);v===this._getDocument().activeElement?this._getClosestElementsInfo(v).forEach(([r,o])=>this._originChanged(r,u,o)):(this._setOrigin(u),"function"==typeof v.focus&&v.focus(p))}ngOnDestroy(){this._elementInfo.forEach((n,u)=>this.stopMonitoring(u))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,u){n.classList.toggle("cdk-focused",!!u),n.classList.toggle("cdk-touch-focused","touch"===u),n.classList.toggle("cdk-keyboard-focused","keyboard"===u),n.classList.toggle("cdk-mouse-focused","mouse"===u),n.classList.toggle("cdk-program-focused","program"===u)}_setOrigin(n,u=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&u,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,u){const p=this._elementInfo.get(u),v=jf(n);!p||!p.checkChildren&&u!==v||this._originChanged(u,this._getFocusOrigin(v),p)}_onBlur(n,u){const p=this._elementInfo.get(u);!p||p.checkChildren&&n.relatedTarget instanceof Node&&u.contains(n.relatedTarget)||(this._setClasses(u),this._emitOrigin(p.subject,null))}_emitOrigin(n,u){this._ngZone.run(()=>n.next(u))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const u=n.rootNode,p=this._rootNodeFocusListenerCount.get(u)||0;p||this._ngZone.runOutsideAngular(()=>{u.addEventListener("focus",this._rootNodeFocusAndBlurListener,Dc),u.addEventListener("blur",this._rootNodeFocusAndBlurListener,Dc)}),this._rootNodeFocusListenerCount.set(u,p+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(function z_(a){return(0,rp.e)((i,n)=>{(0,Jl.Xf)(a).subscribe(new Cf.Q(n,()=>n.complete(),Nv.Z)),!n.closed&&i.subscribe(n)})}(this._stopInputModalityDetector)).subscribe(v=>{this._setOrigin(v,!0)}))}_removeGlobalListeners(n){const u=n.rootNode;if(this._rootNodeFocusListenerCount.has(u)){const p=this._rootNodeFocusListenerCount.get(u);p>1?this._rootNodeFocusListenerCount.set(u,p-1):(u.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Dc),u.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Dc),this._rootNodeFocusListenerCount.delete(u))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,u,p){this._setClasses(n,u),this._emitOrigin(p.subject,u),this._lastFocusOrigin=u}_getClosestElementsInfo(n){const u=[];return this._elementInfo.forEach((p,v)=>{(v===n||p.checkChildren&&v.contains(n))&&u.push([v,p])}),u}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(g.R0b),g.LFG(Rs),g.LFG(Zm),g.LFG(rs.K0,8),g.LFG(Qm,8))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Jm="cdk-high-contrast-black-on-white",Xm="cdk-high-contrast-white-on-black",cp="cdk-high-contrast-active";let Z_=(()=>{class a{constructor(n,u){this._platform=n,this._document=u}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const u=this._document.defaultView||window,p=u&&u.getComputedStyle?u.getComputedStyle(n):null,v=(p&&p.backgroundColor||"").replace(/ /g,"");switch(n.remove(),v){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(cp),n.remove(Jm),n.remove(Xm),this._hasCheckedHighContrastMode=!0;const u=this.getHighContrastMode();1===u?(n.add(cp),n.add(Jm)):2===u&&(n.add(cp),n.add(Xm))}}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(Rs),g.LFG(rs.K0))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Cr=U(1777);function eg(){return"undefined"!=typeof window&&void 0!==window.document}function qh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kl(a){switch(a.length){case 0:return new Cr.ZN;case 1:return a[0];default:return new Cr.ZE(a)}}function Y_(a,i,n,u,p={},v={}){const t=[],r=[];let o=-1,d=null;if(u.forEach(h=>{const m=h.offset,E=m==o,T=E&&d||{};Object.keys(h).forEach(O=>{let F=O,$=h[O];if("offset"!==O)switch(F=i.normalizePropertyName(F,t),$){case Cr.k1:$=p[O];break;case Cr.l3:$=v[O];break;default:$=i.normalizeStyleValue(O,F,$,t)}T[F]=$}),E||r.push(T),d=T,o=m}),t.length){const h="\n - ";throw new Error(`Unable to animate due to the following errors:${h}${t.join(h)}`)}return r}function Cd(a,i,n,u){switch(i){case"start":a.onStart(()=>u(n&&Id(n,"start",a)));break;case"done":a.onDone(()=>u(n&&Id(n,"done",a)));break;case"destroy":a.onDestroy(()=>u(n&&Id(n,"destroy",a)))}}function Id(a,i,n){const u=n.totalTime,v=dp(a.element,a.triggerName,a.fromState,a.toState,i||a.phaseName,null==u?a.totalTime:u,!!n.disabled),t=a._data;return null!=t&&(v._data=t),v}function dp(a,i,n,u,p="",v=0,t){return{element:a,triggerName:i,fromState:n,toState:u,phaseName:p,totalTime:v,disabled:!!t}}function oo(a,i,n){let u;return a instanceof Map?(u=a.get(i),u||a.set(i,u=n)):(u=a[i],u||(u=a[i]=n)),u}function Q_(a){const i=a.indexOf(":");return[a.substring(1,i),a.substr(i+1)]}let Td=(a,i)=>!1,Bu=(a,i,n)=>[];(qh()||"undefined"!=typeof Element)&&(Td=eg()?(a,i)=>{for(;i&&i!==document.documentElement;){if(i===a)return!0;i=i.parentNode||i.host}return!1}:(a,i)=>a.contains(i),Bu=(a,i,n)=>{if(n)return Array.from(a.querySelectorAll(i));const u=a.querySelector(i);return u?[u]:[]});let jo=null,tg=!1;function ng(a){jo||(jo=function rg(){return"undefined"!=typeof document?document.body:null}()||{},tg=!!jo.style&&"WebkitAppearance"in jo.style);let i=!0;return jo.style&&!function hp(a){return"ebkit"==a.substring(1,6)}(a)&&(i=a in jo.style,!i&&tg&&(i="Webkit"+a.charAt(0).toUpperCase()+a.substr(1)in jo.style)),i}const ig=Td,sg=Bu;function og(a){const i={};return Object.keys(a).forEach(n=>{const u=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[u]=a[n]}),i}let J_=(()=>{class a{validateStyleProperty(n){return ng(n)}matchesElement(n,u){return!1}containsElement(n,u){return ig(n,u)}query(n,u,p){return sg(n,u,p)}computeStyle(n,u,p){return p||""}animate(n,u,p,v,t,r=[],o){return new Cr.ZN(p,v)}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac}),a})(),fp=(()=>{class a{}return a.NOOP=new J_,a})();const ey="ng-enter",Yh="ng-leave",Uu="ng-trigger",ty=".ng-trigger",Qh="ng-animating",jv=".ng-animating";function Ac(a){if("number"==typeof a)return a;const i=a.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Jh(parseFloat(i[1]),i[2])}function Jh(a,i){return"s"===i?1e3*a:a}function pp(a,i,n){return a.hasOwnProperty("duration")?a:function Rn(a,i,n){let p,v=0,t="";if("string"==typeof a){const r=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===r)return i.push(`The provided timing value "${a}" is invalid.`),{duration:0,delay:0,easing:""};p=Jh(parseFloat(r[1]),r[2]);const o=r[3];null!=o&&(v=Jh(parseFloat(o),r[4]));const d=r[5];d&&(t=d)}else p=a;if(!n){let r=!1,o=i.length;p<0&&(i.push("Duration values below 0 are not allowed for this animation step."),r=!0),v<0&&(i.push("Delay values below 0 are not allowed for this animation step."),r=!0),r&&i.splice(o,0,`The provided timing value "${a}" is invalid.`)}return{duration:p,delay:v,easing:t}}(a,i,n)}function Sc(a,i={}){return Object.keys(a).forEach(n=>{i[n]=a[n]}),i}function ju(a,i,n={}){if(i)for(let u in a)n[u]=a[u];else Sc(a,n);return n}function Mc(a,i,n){return n?i+":"+n+";":""}function Hv(a){let i="";for(let n=0;n<a.style.length;n++){const u=a.style.item(n);i+=Mc(0,u,a.style.getPropertyValue(u))}for(const n in a.style)a.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=Mc(0,zv(n),a.style[n]));a.setAttribute("style",i)}function Ho(a,i,n){a.style&&(Object.keys(i).forEach(u=>{const p=ug(u);n&&!n.hasOwnProperty(u)&&(n[u]=a.style[p]),a.style[p]=i[u]}),qh()&&Hv(a))}function $o(a,i){a.style&&(Object.keys(i).forEach(n=>{const u=ug(n);a.style[u]=""}),qh()&&Hv(a))}function di(a){return Array.isArray(a)?1==a.length?a[0]:(0,Cr.vP)(a):a}const ag=new RegExp("{{\\s*(.+?)\\s*}}","g");function $v(a){let i=[];if("string"==typeof a){let n;for(;n=ag.exec(a);)i.push(n[1]);ag.lastIndex=0}return i}function lg(a,i,n){const u=a.toString(),p=u.replace(ag,(v,t)=>{let r=i[t];return i.hasOwnProperty(t)||(n.push(`Please provide a value for the animation param ${t}`),r=""),r.toString()});return p==u?a:p}function mp(a){const i=[];let n=a.next();for(;!n.done;)i.push(n.value),n=a.next();return i}const Gv=/-+([a-z0-9])/g;function ug(a){return a.replace(Gv,(...i)=>i[1].toUpperCase())}function zv(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wv(a,i){return 0===a||0===i}function ry(a,i,n){const u=Object.keys(n);if(u.length&&i.length){let v=i[0],t=[];if(u.forEach(r=>{v.hasOwnProperty(r)||t.push(r),v[r]=n[r]}),t.length)for(var p=1;p<i.length;p++){let r=i[p];t.forEach(function(o){r[o]=Sd(a,o)})}}return i}function Go(a,i,n){switch(i.type){case 7:return a.visitTrigger(i,n);case 0:return a.visitState(i,n);case 1:return a.visitTransition(i,n);case 2:return a.visitSequence(i,n);case 3:return a.visitGroup(i,n);case 4:return a.visitAnimate(i,n);case 5:return a.visitKeyframes(i,n);case 6:return a.visitStyle(i,n);case 8:return a.visitReference(i,n);case 9:return a.visitAnimateChild(i,n);case 10:return a.visitAnimateRef(i,n);case 11:return a.visitQuery(i,n);case 12:return a.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function Sd(a,i){return window.getComputedStyle(a)[i]}function cg(a,i){const n=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(u=>function qv(a,i,n){if(":"==a[0]){const o=function dg(a,i){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,u)=>parseFloat(u)>parseFloat(n);case":decrement":return(n,u)=>parseFloat(u)<parseFloat(n);default:return i.push(`The transition alias value "${a}" is not supported`),"* => *"}}(a,n);if("function"==typeof o)return void i.push(o);a=o}const u=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return n.push(`The provided transition expression "${a}" is not supported`),i;const p=u[1],v=u[2],t=u[3];i.push(iy(p,t));"<"==v[0]&&!("*"==p&&"*"==t)&&i.push(iy(t,p))}(u,n,i)):n.push(a),n}const gp=new Set(["true","1"]),_p=new Set(["false","0"]);function iy(a,i){const n=gp.has(a)||_p.has(a),u=gp.has(i)||_p.has(i);return(p,v)=>{let t="*"==a||a==p,r="*"==i||i==v;return!t&&n&&"boolean"==typeof p&&(t=p?gp.has(a):_p.has(a)),!r&&u&&"boolean"==typeof v&&(r=v?gp.has(i):_p.has(i)),t&&r}}const yp=new RegExp("s*:selfs*,?","g");function Md(a,i,n){return new sy(a).build(i,n)}class sy{constructor(i){this._driver=i}build(i,n){const u=new oy(n);return this._resetContextStyleTimingState(u),Go(this,di(i),u)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let u=n.queryCount=0,p=n.depCount=0;const v=[],t=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(r=>{if(this._resetContextStyleTimingState(n),0==r.type){const o=r,d=o.name;d.toString().split(/\s*,\s*/).forEach(h=>{o.name=h,v.push(this.visitState(o,n))}),o.name=d}else if(1==r.type){const o=this.visitTransition(r,n);u+=o.queryCount,p+=o.depCount,t.push(o)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:v,transitions:t,queryCount:u,depCount:p,options:null}}visitState(i,n){const u=this.visitStyle(i.styles,n),p=i.options&&i.options.params||null;if(u.containsDynamicStyles){const v=new Set,t=p||{};if(u.styles.forEach(r=>{if(bp(r)){const o=r;Object.keys(o).forEach(d=>{$v(o[d]).forEach(h=>{t.hasOwnProperty(h)||v.add(h)})})}}),v.size){const r=mp(v.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${r.join(", ")}`)}}return{type:0,name:i.name,style:u,options:p?{params:p}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const u=Go(this,di(i.animation),n);return{type:1,matchers:cg(i.expr,n.errors),animation:u,queryCount:n.queryCount,depCount:n.depCount,options:$u(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(u=>Go(this,u,n)),options:$u(i.options)}}visitGroup(i,n){const u=n.currentTime;let p=0;const v=i.steps.map(t=>{n.currentTime=u;const r=Go(this,t,n);return p=Math.max(p,n.currentTime),r});return n.currentTime=p,{type:3,steps:v,options:$u(i.options)}}visitAnimate(i,n){const u=function Qv(a,i){let n=null;if(a.hasOwnProperty("duration"))n=a;else if("number"==typeof a)return Ep(pp(a,i).duration,0,"");const u=a;if(u.split(/\s+/).some(v=>"{"==v.charAt(0)&&"{"==v.charAt(1))){const v=Ep(0,0,"");return v.dynamic=!0,v.strValue=u,v}return n=n||pp(u,i),Ep(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=u;let p,v=i.styles?i.styles:(0,Cr.oB)({});if(5==v.type)p=this.visitKeyframes(v,n);else{let t=i.styles,r=!1;if(!t){r=!0;const d={};u.easing&&(d.easing=u.easing),t=(0,Cr.oB)(d)}n.currentTime+=u.duration+u.delay;const o=this.visitStyle(t,n);o.isEmptyStep=r,p=o}return n.currentAnimateTimings=null,{type:4,timings:u,style:p,options:null}}visitStyle(i,n){const u=this._makeStyleAst(i,n);return this._validateStyleAst(u,n),u}_makeStyleAst(i,n){const u=[];Array.isArray(i.styles)?i.styles.forEach(t=>{"string"==typeof t?t==Cr.l3?u.push(t):n.errors.push(`The provided style string value ${t} is not allowed.`):u.push(t)}):u.push(i.styles);let p=!1,v=null;return u.forEach(t=>{if(bp(t)){const r=t,o=r.easing;if(o&&(v=o,delete r.easing),!p)for(let d in r)if(r[d].toString().indexOf("{{")>=0){p=!0;break}}}),{type:6,styles:u,easing:v,offset:i.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(i,n){const u=n.currentAnimateTimings;let p=n.currentTime,v=n.currentTime;u&&v>0&&(v-=u.duration+u.delay),i.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(r=>{if(!this._driver.validateStyleProperty(r))return void n.errors.push(`The provided animation property "${r}" is not a supported CSS property for animations`);const o=n.collectedStyles[n.currentQuerySelector],d=o[r];let h=!0;d&&(v!=p&&v>=d.startTime&&p<=d.endTime&&(n.errors.push(`The CSS property "${r}" that exists between the times of "${d.startTime}ms" and "${d.endTime}ms" is also being animated in a parallel animation between the times of "${v}ms" and "${p}ms"`),h=!1),v=d.startTime),h&&(o[r]={startTime:v,endTime:p}),n.options&&function Ad(a,i,n){const u=i.params||{},p=$v(a);p.length&&p.forEach(v=>{u.hasOwnProperty(v)||n.push(`Unable to resolve the local animation param ${v} in the given list of values`)})}(t[r],n.options,n.errors)})})}visitKeyframes(i,n){const u={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),u;let v=0;const t=[];let r=!1,o=!1,d=0;const h=i.steps.map(Q=>{const ue=this._makeStyleAst(Q,n);let Oe=null!=ue.offset?ue.offset:function vp(a){if("string"==typeof a)return null;let i=null;if(Array.isArray(a))a.forEach(n=>{if(bp(n)&&n.hasOwnProperty("offset")){const u=n;i=parseFloat(u.offset),delete u.offset}});else if(bp(a)&&a.hasOwnProperty("offset")){const n=a;i=parseFloat(n.offset),delete n.offset}return i}(ue.styles),Ke=0;return null!=Oe&&(v++,Ke=ue.offset=Oe),o=o||Ke<0||Ke>1,r=r||Ke<d,d=Ke,t.push(Ke),ue});o&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&n.errors.push("Please ensure that all keyframe offsets are in order");const m=i.steps.length;let E=0;v>0&&v<m?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==v&&(E=1/(m-1));const T=m-1,O=n.currentTime,F=n.currentAnimateTimings,$=F.duration;return h.forEach((Q,ue)=>{const Oe=E>0?ue==T?1:E*ue:t[ue],Ke=Oe*$;n.currentTime=O+F.delay+Ke,F.duration=Ke,this._validateStyleAst(Q,n),Q.offset=Oe,u.styles.push(Q)}),u}visitReference(i,n){return{type:8,animation:Go(this,di(i.animation),n),options:$u(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:$u(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:$u(i.options)}}visitQuery(i,n){const u=n.currentQuerySelector,p=i.options||{};n.queryCount++,n.currentQuery=i;const[v,t]=function Yv(a){const i=!!a.split(/\s*,\s*/).find(n=>":self"==n);return i&&(a=a.replace(yp,"")),a=a.replace(/@\*/g,ty).replace(/@\w+/g,n=>ty+"-"+n.substr(1)).replace(/:animating/g,jv),[a,i]}(i.selector);n.currentQuerySelector=u.length?u+" "+v:v,oo(n.collectedStyles,n.currentQuerySelector,{});const r=Go(this,di(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=u,{type:11,selector:v,limit:p.limit||0,optional:!!p.optional,includeSelf:t,animation:r,originalSelector:i.selector,options:$u(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const u="full"===i.timings?{duration:0,delay:0,easing:"full"}:pp(i.timings,n.errors,!0);return{type:12,animation:Go(this,di(i.animation),n),timings:u,options:null}}}class oy{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function bp(a){return!Array.isArray(a)&&"object"==typeof a}function $u(a){return a?(a=Sc(a)).params&&(a.params=function hg(a){return a?Sc(a):null}(a.params)):a={},a}function Ep(a,i,n){return{duration:a,delay:i,easing:n}}function ay(a,i,n,u,p,v,t=null,r=!1){return{type:1,element:a,keyframes:i,preStyleProps:n,postStyleProps:u,duration:p,delay:v,totalTime:p+v,easing:t,subTimeline:r}}class Xh{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,n){let u=this._map.get(i);u||this._map.set(i,u=[]),u.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const fg=new RegExp(":enter","g"),Jv=new RegExp(":leave","g");function wp(a,i,n,u,p,v={},t={},r,o,d=[]){return(new ly).buildKeyframes(a,i,n,u,p,v,t,r,o,d)}class ly{buildKeyframes(i,n,u,p,v,t,r,o,d,h=[]){d=d||new Xh;const m=new uy(i,n,d,p,v,h,[]);m.options=o,m.currentTimeline.setStyles([t],null,m.errors,o),Go(this,u,m);const E=m.timelines.filter(T=>T.containsAnimation());if(Object.keys(r).length){let T;for(let O=E.length-1;O>=0;O--){const F=E[O];if(F.element===n){T=F;break}}T&&!T.allowOnlyTimelineStyles()&&T.setStyles([r],null,m.errors,o)}return E.length?E.map(T=>T.buildKeyframes()):[ay(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const u=n.subInstructions.get(n.element);if(u){const p=n.createSubContext(i.options),v=n.currentTimeline.currentTime,t=this._visitSubInstructions(u,p,p.options);v!=t&&n.transformIntoNewTimeline(t)}n.previousNode=i}visitAnimateRef(i,n){const u=n.createSubContext(i.options);u.transformIntoNewTimeline(),this.visitReference(i.animation,u),n.transformIntoNewTimeline(u.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,u){let v=n.currentTimeline.currentTime;const t=null!=u.duration?Ac(u.duration):null,r=null!=u.delay?Ac(u.delay):null;return 0!==t&&i.forEach(o=>{const d=n.appendInstructionToTimeline(o,t,r);v=Math.max(v,d.duration+d.delay)}),v}visitReference(i,n){n.updateOptions(i.options,!0),Go(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const u=n.subContextCount;let p=n;const v=i.options;if(v&&(v.params||v.delay)&&(p=n.createSubContext(v),p.transformIntoNewTimeline(),null!=v.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=xc);const t=Ac(v.delay);p.delayNextStep(t)}i.steps.length&&(i.steps.forEach(t=>Go(this,t,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>u&&p.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const u=[];let p=n.currentTimeline.currentTime;const v=i.options&&i.options.delay?Ac(i.options.delay):0;i.steps.forEach(t=>{const r=n.createSubContext(i.options);v&&r.delayNextStep(v),Go(this,t,r),p=Math.max(p,r.currentTimeline.currentTime),u.push(r.currentTimeline)}),u.forEach(t=>n.currentTimeline.mergeTimelineCollectedStyles(t)),n.transformIntoNewTimeline(p),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const u=i.strValue;return pp(n.params?lg(u,n.params,n.errors):u,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const u=n.currentAnimateTimings=this._visitTiming(i.timings,n),p=n.currentTimeline;u.delay&&(n.incrementTime(u.delay),p.snapshotCurrentStyles());const v=i.style;5==v.type?this.visitKeyframes(v,n):(n.incrementTime(u.duration),this.visitStyle(v,n),p.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const u=n.currentTimeline,p=n.currentAnimateTimings;!p&&u.getCurrentStyleProperties().length&&u.forwardFrame();const v=p&&p.easing||i.easing;i.isEmptyStep?u.applyEmptyStep(v):u.setStyles(i.styles,v,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const u=n.currentAnimateTimings,p=n.currentTimeline.duration,v=u.duration,r=n.createSubContext().currentTimeline;r.easing=u.easing,i.styles.forEach(o=>{r.forwardTime((o.offset||0)*v),r.setStyles(o.styles,o.easing,n.errors,n.options),r.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(r),n.transformIntoNewTimeline(p+v),n.previousNode=i}visitQuery(i,n){const u=n.currentTimeline.currentTime,p=i.options||{},v=p.delay?Ac(p.delay):0;v&&(6===n.previousNode.type||0==u&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=xc);let t=u;const r=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!p.optional,n.errors);n.currentQueryTotal=r.length;let o=null;r.forEach((d,h)=>{n.currentQueryIndex=h;const m=n.createSubContext(i.options,d);v&&m.delayNextStep(v),d===n.element&&(o=m.currentTimeline),Go(this,i.animation,m),m.currentTimeline.applyStylesToKeyframe(),t=Math.max(t,m.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(t),o&&(n.currentTimeline.mergeTimelineCollectedStyles(o),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const u=n.parentContext,p=n.currentTimeline,v=i.timings,t=Math.abs(v.duration),r=t*(n.currentQueryTotal-1);let o=t*n.currentQueryIndex;switch(v.duration<0?"reverse":v.easing){case"reverse":o=r-o;break;case"full":o=u.currentStaggerTime}const h=n.currentTimeline;o&&h.delayNextStep(o);const m=h.currentTime;Go(this,i.animation,n),n.previousNode=i,u.currentStaggerTime=p.currentTime-m+(p.startTime-u.currentTimeline.startTime)}}const xc={};class uy{constructor(i,n,u,p,v,t,r,o){this._driver=i,this.element=n,this.subInstructions=u,this._enterClassName=p,this._leaveClassName=v,this.errors=t,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new Cp(this._driver,n,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const u=i;let p=this.options;null!=u.duration&&(p.duration=Ac(u.duration)),null!=u.delay&&(p.delay=Ac(u.delay));const v=u.params;if(v){let t=p.params;t||(t=this.options.params={}),Object.keys(v).forEach(r=>{(!n||!t.hasOwnProperty(r))&&(t[r]=lg(v[r],t,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const u=i.params={};Object.keys(n).forEach(p=>{u[p]=n[p]})}}return i}createSubContext(i=null,n,u){const p=n||this.element,v=new uy(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,u||0));return v.previousNode=this.previousNode,v.currentAnimateTimings=this.currentAnimateTimings,v.options=this._copyOptions(),v.updateOptions(i),v.currentQueryIndex=this.currentQueryIndex,v.currentQueryTotal=this.currentQueryTotal,v.parentContext=this,this.subContextCount++,v}transformIntoNewTimeline(i){return this.previousNode=xc,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,u){const p={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=u?u:0)+i.delay,easing:""},v=new Ip(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,p,i.stretchStartingKeyframe);return this.timelines.push(v),p}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,u,p,v,t){let r=[];if(p&&r.push(this.element),i.length>0){i=(i=i.replace(fg,"."+this._enterClassName)).replace(Jv,"."+this._leaveClassName);let d=this._driver.query(this.element,i,1!=u);0!==u&&(d=u<0?d.slice(d.length+u,d.length):d.slice(0,u)),r.push(...d)}return!v&&0==r.length&&t.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),r}}class Cp{constructor(i,n,u,p){this._driver=i,this.element=n,this.startTime=u,this._elementTimelineStylesLookup=p,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new Cp(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Cr.l3,this._currentKeyframe[n]=Cr.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,u,p){n&&(this._previousKeyframe.easing=n);const v=p&&p.params||{},t=function Xv(a,i){const n={};let u;return a.forEach(p=>{"*"===p?(u=u||Object.keys(i),u.forEach(v=>{n[v]=Cr.l3})):ju(p,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(t).forEach(r=>{const o=lg(t[r],v,u);this._pendingStyles[r]=o,this._localTimelineStyles.hasOwnProperty(r)||(this._backFill[r]=this._globalTimelineStyles.hasOwnProperty(r)?this._globalTimelineStyles[r]:Cr.l3),this._updateStyle(r,o)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(u=>{this._currentKeyframe[u]=i[u]}),Object.keys(this._localTimelineStyles).forEach(u=>{this._currentKeyframe.hasOwnProperty(u)||(this._currentKeyframe[u]=this._localTimelineStyles[u])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const u=this._styleSummary[n],p=i._styleSummary[n];(!u||p.time>u.time)&&this._updateStyle(n,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,u=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach((r,o)=>{const d=ju(r,!0);Object.keys(d).forEach(h=>{const m=d[h];m==Cr.k1?i.add(h):m==Cr.l3&&n.add(h)}),u||(d.offset=o/this.duration),p.push(d)});const v=i.size?mp(i.values()):[],t=n.size?mp(n.values()):[];if(u){const r=p[0],o=Sc(r);r.offset=0,o.offset=1,p=[r,o]}return ay(this.element,p,v,t,this.duration,this.startTime,this.easing,!1)}}class Ip extends Cp{constructor(i,n,u,p,v,t,r=!1){super(i,n,t.delay),this.keyframes=u,this.preStyleProps=p,this.postStyleProps=v,this._stretchStartingKeyframe=r,this.timings={duration:t.duration,delay:t.delay,easing:t.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:u,easing:p}=this.timings;if(this._stretchStartingKeyframe&&n){const v=[],t=u+n,r=n/t,o=ju(i[0],!1);o.offset=0,v.push(o);const d=ju(i[0],!1);d.offset=pg(r),v.push(d);const h=i.length-1;for(let m=1;m<=h;m++){let E=ju(i[m],!1);E.offset=pg((n+E.offset*u)/t),v.push(E)}u=t,n=0,p="",i=v}return ay(this.element,i,this.preStyleProps,this.postStyleProps,u,n,p,!0)}}function pg(a,i=3){const n=Math.pow(10,i-1);return Math.round(a*n)/n}class ef{}class Od extends ef{normalizePropertyName(i,n){return ug(i)}normalizeStyleValue(i,n,u,p){let v="";const t=u.toString().trim();if(eb[n]&&0!==u&&"0"!==u)if("number"==typeof u)v="px";else{const r=u.match(/^[+-]?[\d\.]+([a-z]*)$/);r&&0==r[1].length&&p.push(`Please provide a CSS unit value for ${i}:${u}`)}return t+v}}const eb=(()=>function cy(a){const i={};return a.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dy(a,i,n,u,p,v,t,r,o,d,h,m,E){return{type:0,element:a,triggerName:i,isRemovalTransition:p,fromState:n,fromStyles:v,toState:u,toStyles:t,timelines:r,queriedElements:o,preStyleProps:d,postStyleProps:h,totalTime:m,errors:E}}const Tp={};class tb{constructor(i,n,u){this._triggerName=i,this.ast=n,this._stateStyles=u}match(i,n,u,p){return function nb(a,i,n,u,p){return a.some(v=>v(i,n,u,p))}(this.ast.matchers,i,n,u,p)}buildStyles(i,n,u){const p=this._stateStyles["*"],v=this._stateStyles[i],t=p?p.buildStyles(n,u):{};return v?v.buildStyles(n,u):t}build(i,n,u,p,v,t,r,o,d,h){const m=[],E=this.ast.options&&this.ast.options.params||Tp,O=this.buildStyles(u,r&&r.params||Tp,m),F=o&&o.params||Tp,$=this.buildStyles(p,F,m),Q=new Set,ue=new Map,Oe=new Map,Ke="void"===p,Ot={params:Object.assign(Object.assign({},E),F)},Vt=h?[]:wp(i,n,this.ast.animation,v,t,O,$,Ot,d,m);let nn=0;if(Vt.forEach(In=>{nn=Math.max(In.duration+In.delay,nn)}),m.length)return dy(n,this._triggerName,u,p,Ke,O,$,[],[],ue,Oe,nn,m);Vt.forEach(In=>{const Zn=In.element,qr=oo(ue,Zn,{});In.preStyleProps.forEach(nl=>qr[nl]=!0);const ao=oo(Oe,Zn,{});In.postStyleProps.forEach(nl=>ao[nl]=!0),Zn!==n&&Q.add(Zn)});const Ct=mp(Q.values());return dy(n,this._triggerName,u,p,Ke,O,$,Vt,Ct,ue,Oe,nn)}}class _0{constructor(i,n,u){this.styles=i,this.defaultParams=n,this.normalizer=u}buildStyles(i,n){const u={},p=Sc(this.defaultParams);return Object.keys(i).forEach(v=>{const t=i[v];null!=t&&(p[v]=t)}),this.styles.styles.forEach(v=>{if("string"!=typeof v){const t=v;Object.keys(t).forEach(r=>{let o=t[r];o.length>1&&(o=lg(o,p,n));const d=this.normalizer.normalizePropertyName(r,n);o=this.normalizer.normalizeStyleValue(r,d,o,n),u[d]=o})}}),u}}class rb{constructor(i,n,u){this.name=i,this.ast=n,this._normalizer=u,this.transitionFactories=[],this.states={},n.states.forEach(p=>{this.states[p.name]=new _0(p.style,p.options&&p.options.params||{},u)}),fy(this.states,"true","1"),fy(this.states,"false","0"),n.transitions.forEach(p=>{this.transitionFactories.push(new tb(i,p,this.states))}),this.fallbackTransition=function ib(a,i,n){return new tb(a,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,r)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,u,p){return this.transitionFactories.find(t=>t.match(i,n,u,p))||null}matchStyles(i,n,u){return this.fallbackTransition.buildStyles(i,n,u)}}function fy(a,i,n){a.hasOwnProperty(i)?a.hasOwnProperty(n)||(a[n]=a[i]):a.hasOwnProperty(n)&&(a[i]=a[n])}const y0=new Xh;class v0{constructor(i,n,u){this.bodyNode=i,this._driver=n,this._normalizer=u,this._animations={},this._playersById={},this.players=[]}register(i,n){const u=[],p=Md(this._driver,n,u);if(u.length)throw new Error(`Unable to build the animation due to the following errors: ${u.join("\n")}`);this._animations[i]=p}_buildPlayer(i,n,u){const p=i.element,v=Y_(0,this._normalizer,0,i.keyframes,n,u);return this._driver.animate(p,v,i.duration,i.delay,i.easing,[],!0)}create(i,n,u={}){const p=[],v=this._animations[i];let t;const r=new Map;if(v?(t=wp(this._driver,n,v,ey,Yh,{},{},u,y0,p),t.forEach(h=>{const m=oo(r,h.element,{});h.postStyleProps.forEach(E=>m[E]=null)})):(p.push("The requested animation doesn't exist or has already been destroyed"),t=[]),p.length)throw new Error(`Unable to create the animation due to the following errors: ${p.join("\n")}`);r.forEach((h,m)=>{Object.keys(h).forEach(E=>{h[E]=this._driver.computeStyle(m,E,Cr.l3)})});const d=kl(t.map(h=>{const m=r.get(h.element);return this._buildPlayer(h,{},m)}));return this._playersById[i]=d,d.onDestroy(()=>this.destroy(i)),this.players.push(d),d}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const u=this.players.indexOf(n);u>=0&&this.players.splice(u,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,u,p){const v=dp(n,"","","");return Cd(this._getPlayer(i),u,v,p),()=>{}}command(i,n,u,p){if("register"==u)return void this.register(i,p[0]);if("create"==u)return void this.create(i,n,p[0]||{});const v=this._getPlayer(i);switch(u){case"play":v.play();break;case"pause":v.pause();break;case"reset":v.reset();break;case"restart":v.restart();break;case"finish":v.finish();break;case"init":v.init();break;case"setPosition":v.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(i)}}}const py="ng-animate-queued",gy="ng-animate-disabled",E0=[],ab={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},w0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tl="__ng_removed";class _y{constructor(i,n=""){this.namespaceId=n;const u=i&&i.hasOwnProperty("value");if(this.value=function I0(a){return null!=a?a:null}(u?i.value:i),u){const v=Sc(i);delete v.value,this.options=v}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const u=this.options.params;Object.keys(n).forEach(p=>{null==u[p]&&(u[p]=n[p])})}}}const Dp="void",mg=new _y(Dp);class lb{constructor(i,n,u){this.id=i,this.hostElement=n,this._engine=u,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,wo(n,this._hostClassName)}listen(i,n,u,p){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${u}" because the animation trigger "${n}" doesn't exist!`);if(null==u||0==u.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function T0(a){return"start"==a||"done"==a}(u))throw new Error(`The provided animation trigger event "${u}" for the animation trigger "${n}" is not supported!`);const v=oo(this._elementListeners,i,[]),t={name:n,phase:u,callback:p};v.push(t);const r=oo(this._engine.statesByElement,i,{});return r.hasOwnProperty(n)||(wo(i,Uu),wo(i,Uu+"-"+n),r[n]=mg),()=>{this._engine.afterFlush(()=>{const o=v.indexOf(t);o>=0&&v.splice(o,1),this._triggers[n]||delete r[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,u,p=!0){const v=this._getTrigger(n),t=new yy(this.id,n,i);let r=this._engine.statesByElement.get(i);r||(wo(i,Uu),wo(i,Uu+"-"+n),this._engine.statesByElement.set(i,r={}));let o=r[n];const d=new _y(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&o&&d.absorbOptions(o.options),r[n]=d,o||(o=mg),d.value!==Dp&&o.value===d.value){if(!function db(a,i){const n=Object.keys(a),u=Object.keys(i);if(n.length!=u.length)return!1;for(let p=0;p<n.length;p++){const v=n[p];if(!i.hasOwnProperty(v)||a[v]!==i[v])return!1}return!0}(o.params,d.params)){const F=[],$=v.matchStyles(o.value,o.params,F),Q=v.matchStyles(d.value,d.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{$o(i,$),Ho(i,Q)})}return}const E=oo(this._engine.playersByElement,i,[]);E.forEach(F=>{F.namespaceId==this.id&&F.triggerName==n&&F.queued&&F.destroy()});let T=v.matchTransition(o.value,d.value,i,d.params),O=!1;if(!T){if(!p)return;T=v.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:T,fromState:o,toState:d,player:t,isFallbackTransition:O}),O||(wo(i,py),t.onStart(()=>{tf(i,py)})),t.onDone(()=>{let F=this.players.indexOf(t);F>=0&&this.players.splice(F,1);const $=this._engine.playersByElement.get(i);if($){let Q=$.indexOf(t);Q>=0&&$.splice(Q,1)}}),this.players.push(t),E.push(t),t}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,u)=>{delete n[i]}),this._elementListeners.forEach((n,u)=>{this._elementListeners.set(u,n.filter(p=>p.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(u=>u.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const u=this._engine.driver.query(i,ty,!0);u.forEach(p=>{if(p[tl])return;const v=this._engine.fetchNamespacesByElement(p);v.size?v.forEach(t=>t.triggerLeaveAnimation(p,n,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(i,n,u,p){const v=this._engine.statesByElement.get(i),t=new Map;if(v){const r=[];if(Object.keys(v).forEach(o=>{if(t.set(o,v[o].value),this._triggers[o]){const d=this.trigger(i,o,Dp,p);d&&r.push(d)}}),r.length)return this._engine.markElementAsRemoved(this.id,i,!0,n,t),u&&kl(r).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),u=this._engine.statesByElement.get(i);if(n&&u){const p=new Set;n.forEach(v=>{const t=v.name;if(p.has(t))return;p.add(t);const o=this._triggers[t].fallbackTransition,d=u[t]||mg,h=new _y(Dp),m=new yy(this.id,t,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:o,fromState:d,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(i,n){const u=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let p=!1;if(u.totalAnimations){const v=u.players.length?u.playersByQueriedElement.get(i):[];if(v&&v.length)p=!0;else{let t=i;for(;t=t.parentNode;)if(u.statesByElement.get(t)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(i),p)u.markElementAsRemoved(this.id,i,!1,n);else{const v=i[tl];(!v||v===ab)&&(u.afterFlush(()=>this.clearElementCache(i)),u.destroyInnerAnimations(i),u._onRemovalComplete(i,n))}}insertNode(i,n){wo(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(u=>{const p=u.player;if(p.destroyed)return;const v=u.element,t=this._elementListeners.get(v);t&&t.forEach(r=>{if(r.name==u.triggerName){const o=dp(v,u.triggerName,u.fromState.value,u.toState.value);o._data=i,Cd(u.player,r.phase,o,r.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):n.push(u)}),this._queue=[],n.sort((u,p)=>{const v=u.transition.ast.depCount,t=p.transition.ast.depCount;return 0==v||0==t?v-t:this._engine.driver.containsElement(u.element,p.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(u=>u.element===i)||n,n}}class C0{constructor(i,n,u){this.bodyNode=i,this.driver=n,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,v)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(u=>{u.queued&&i.push(u)})}),i}createNamespace(i,n){const u=new lb(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(u,n):(this.newHostElements.set(n,u),this.collectEnterElement(n)),this._namespaceLookup[i]=u}_balanceNamespaceList(i,n){const u=this._namespaceList.length-1;if(u>=0){let p=!1;for(let v=u;v>=0;v--)if(this.driver.containsElement(this._namespaceList[v].hostElement,n)){this._namespaceList.splice(v+1,0,i),p=!0;break}p||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let u=this._namespaceLookup[i];return u||(u=this.createNamespace(i,n)),u}registerTrigger(i,n,u){let p=this._namespaceLookup[i];p&&p.register(n,u)&&this.totalAnimations++}destroy(i,n){if(!i)return;const u=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(u.hostElement),delete this._namespaceLookup[i];const p=this._namespaceList.indexOf(u);p>=0&&this._namespaceList.splice(p,1)}),this.afterFlushAnimationsDone(()=>u.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,u=this.statesByElement.get(i);if(u){const p=Object.keys(u);for(let v=0;v<p.length;v++){const t=u[p[v]].namespaceId;if(t){const r=this._fetchNamespace(t);r&&n.add(r)}}}return n}trigger(i,n,u,p){if(gg(n)){const v=this._fetchNamespace(i);if(v)return v.trigger(n,u,p),!0}return!1}insertNode(i,n,u,p){if(!gg(n))return;const v=n[tl];if(v&&v.setForRemoval){v.setForRemoval=!1,v.setForMove=!0;const t=this.collectedLeaveElements.indexOf(n);t>=0&&this.collectedLeaveElements.splice(t,1)}if(i){const t=this._fetchNamespace(i);t&&t.insertNode(n,u)}p&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),wo(i,gy)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),tf(i,gy))}removeNode(i,n,u,p){if(gg(n)){const v=i?this._fetchNamespace(i):null;if(v?v.removeNode(n,p):this.markElementAsRemoved(i,n,!1,p),u){const t=this.namespacesByHostElement.get(n);t&&t.id!==i&&t.removeNode(n,p)}}else this._onRemovalComplete(n,p)}markElementAsRemoved(i,n,u,p,v){this.collectedLeaveElements.push(n),n[tl]={namespaceId:i,setForRemoval:p,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:v}}listen(i,n,u,p,v){return gg(n)?this._fetchNamespace(i).listen(n,u,p,v):()=>{}}_buildInstruction(i,n,u,p,v){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,u,p,i.fromState.options,i.toState.options,n,v)}destroyInnerAnimations(i){let n=this.driver.query(i,ty,!0);n.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,jv,!0),n.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return kl(this.players).onDone(()=>i());i()})}processLeaveNode(i){var n;const u=i[tl];if(u&&u.setForRemoval){if(i[tl]=ab,u.namespaceId){this.destroyInnerAnimations(i);const p=this._fetchNamespace(u.namespaceId);p&&p.clearElementCache(i)}this._onRemovalComplete(i,u.setForRemoval)}(null===(n=i.classList)||void 0===n?void 0:n.contains(gy))&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,p)=>this._balanceNamespaceList(u,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)wo(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{n=this._flushAnimations(u,i)}finally{for(let p=0;p<u.length;p++)u[p]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],n.length?kl(n).onDone(()=>{u.forEach(p=>p())}):u.forEach(p=>p())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const u=new Xh,p=[],v=new Map,t=[],r=new Map,o=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(En=>{h.add(En);const kn=this.driver.query(En,".ng-animate-queued",!0);for(let jn=0;jn<kn.length;jn++)h.add(kn[jn])});const m=this.bodyNode,E=Array.from(this.statesByElement.keys()),T=vy(E,this.collectedEnterElements),O=new Map;let F=0;T.forEach((En,kn)=>{const jn=ey+F++;O.set(kn,jn),En.forEach(Sr=>wo(Sr,jn))});const $=[],Q=new Set,ue=new Set;for(let En=0;En<this.collectedLeaveElements.length;En++){const kn=this.collectedLeaveElements[En],jn=kn[tl];jn&&jn.setForRemoval&&($.push(kn),Q.add(kn),jn.hasAnimation?this.driver.query(kn,".ng-star-inserted",!0).forEach(Sr=>Q.add(Sr)):ue.add(kn))}const Oe=new Map,Ke=vy(E,Array.from(Q));Ke.forEach((En,kn)=>{const jn=Yh+F++;Oe.set(kn,jn),En.forEach(Sr=>wo(Sr,jn))}),i.push(()=>{T.forEach((En,kn)=>{const jn=O.get(kn);En.forEach(Sr=>tf(Sr,jn))}),Ke.forEach((En,kn)=>{const jn=Oe.get(kn);En.forEach(Sr=>tf(Sr,jn))}),$.forEach(En=>{this.processLeaveNode(En)})});const Ot=[],Vt=[];for(let En=this._namespaceList.length-1;En>=0;En--)this._namespaceList[En].drainQueuedTransitions(n).forEach(jn=>{const Sr=jn.player,vs=jn.element;if(Ot.push(Sr),this.collectedEnterElements.length){const rl=vs[tl];if(rl&&rl.setForMove){if(rl.previousTriggersValues&&rl.previousTriggersValues.has(jn.triggerName)){const Ig=rl.previousTriggersValues.get(jn.triggerName),Fp=this.statesByElement.get(jn.element);Fp&&Fp[jn.triggerName]&&(Fp[jn.triggerName].value=Ig)}return void Sr.destroy()}}const Nl=!m||!this.driver.containsElement(m,vs),Wo=Oe.get(vs),Pp=O.get(vs),os=this._buildInstruction(jn,u,Pp,Wo,Nl);if(os.errors&&os.errors.length)return void Vt.push(os);if(Nl)return Sr.onStart(()=>$o(vs,os.fromStyles)),Sr.onDestroy(()=>Ho(vs,os.toStyles)),void p.push(Sr);if(jn.isFallbackTransition)return Sr.onStart(()=>$o(vs,os.fromStyles)),Sr.onDestroy(()=>Ho(vs,os.toStyles)),void p.push(Sr);const sI=[];os.timelines.forEach(rl=>{rl.stretchStartingKeyframe=!0,this.disabledNodes.has(rl.element)||sI.push(rl)}),os.timelines=sI,u.append(vs,os.timelines),t.push({instruction:os,player:Sr,element:vs}),os.queriedElements.forEach(rl=>oo(r,rl,[]).push(Sr)),os.preStyleProps.forEach((rl,Ig)=>{const Fp=Object.keys(rl);if(Fp.length){let Tg=o.get(Ig);Tg||o.set(Ig,Tg=new Set),Fp.forEach(iC=>Tg.add(iC))}}),os.postStyleProps.forEach((rl,Ig)=>{const Fp=Object.keys(rl);let Tg=d.get(Ig);Tg||d.set(Ig,Tg=new Set),Fp.forEach(iC=>Tg.add(iC))})});if(Vt.length){const En=[];Vt.forEach(kn=>{En.push(`@${kn.triggerName} has failed due to:\n`),kn.errors.forEach(jn=>En.push(`- ${jn}\n`))}),Ot.forEach(kn=>kn.destroy()),this.reportError(En)}const nn=new Map,Ct=new Map;t.forEach(En=>{const kn=En.element;u.has(kn)&&(Ct.set(kn,kn),this._beforeAnimationBuild(En.player.namespaceId,En.instruction,nn))}),p.forEach(En=>{const kn=En.element;this._getPreviousPlayers(kn,!1,En.namespaceId,En.triggerName,null).forEach(Sr=>{oo(nn,kn,[]).push(Sr),Sr.destroy()})});const In=$.filter(En=>hb(En,o,d)),Zn=new Map;yg(Zn,this.driver,ue,d,Cr.l3).forEach(En=>{hb(En,o,d)&&In.push(En)});const ao=new Map;T.forEach((En,kn)=>{yg(ao,this.driver,new Set(En),o,Cr.k1)}),In.forEach(En=>{const kn=Zn.get(En),jn=ao.get(En);Zn.set(En,Object.assign(Object.assign({},kn),jn))});const nl=[],Ny=[],Py={};t.forEach(En=>{const{element:kn,player:jn,instruction:Sr}=En;if(u.has(kn)){if(h.has(kn))return jn.onDestroy(()=>Ho(kn,Sr.toStyles)),jn.disabled=!0,jn.overrideTotalTime(Sr.totalTime),void p.push(jn);let vs=Py;if(Ct.size>1){let Wo=kn;const Pp=[];for(;Wo=Wo.parentNode;){const os=Ct.get(Wo);if(os){vs=os;break}Pp.push(Wo)}Pp.forEach(os=>Ct.set(os,vs))}const Nl=this._buildAnimation(jn.namespaceId,Sr,nn,v,ao,Zn);if(jn.setRealPlayer(Nl),vs===Py)nl.push(jn);else{const Wo=this.playersByElement.get(vs);Wo&&Wo.length&&(jn.parentPlayer=kl(Wo)),p.push(jn)}}else $o(kn,Sr.fromStyles),jn.onDestroy(()=>Ho(kn,Sr.toStyles)),Ny.push(jn),h.has(kn)&&p.push(jn)}),Ny.forEach(En=>{const kn=v.get(En.element);if(kn&&kn.length){const jn=kl(kn);En.setRealPlayer(jn)}}),p.forEach(En=>{En.parentPlayer?En.syncPlayerEvents(En.parentPlayer):En.destroy()});for(let En=0;En<$.length;En++){const kn=$[En],jn=kn[tl];if(tf(kn,Yh),jn&&jn.hasAnimation)continue;let Sr=[];if(r.size){let Nl=r.get(kn);Nl&&Nl.length&&Sr.push(...Nl);let Wo=this.driver.query(kn,jv,!0);for(let Pp=0;Pp<Wo.length;Pp++){let os=r.get(Wo[Pp]);os&&os.length&&Sr.push(...os)}}const vs=Sr.filter(Nl=>!Nl.destroyed);vs.length?D0(this,kn,vs):this.processLeaveNode(kn)}return $.length=0,nl.forEach(En=>{this.players.push(En),En.onDone(()=>{En.destroy();const kn=this.players.indexOf(En);this.players.splice(kn,1)}),En.play()}),nl}elementContainsData(i,n){let u=!1;const p=n[tl];return p&&p.setForRemoval&&(u=!0),this.playersByElement.has(n)&&(u=!0),this.playersByQueriedElement.has(n)&&(u=!0),this.statesByElement.has(n)&&(u=!0),this._fetchNamespace(i).elementContainsData(n)||u}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,u,p,v){let t=[];if(n){const r=this.playersByQueriedElement.get(i);r&&(t=r)}else{const r=this.playersByElement.get(i);if(r){const o=!v||v==Dp;r.forEach(d=>{d.queued||!o&&d.triggerName!=p||t.push(d)})}}return(u||p)&&(t=t.filter(r=>!(u&&u!=r.namespaceId||p&&p!=r.triggerName))),t}_beforeAnimationBuild(i,n,u){const v=n.element,t=n.isRemovalTransition?void 0:i,r=n.isRemovalTransition?void 0:n.triggerName;for(const o of n.timelines){const d=o.element,h=d!==v,m=oo(u,d,[]);this._getPreviousPlayers(d,h,t,r,n.toState).forEach(T=>{const O=T.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),T.destroy(),m.push(T)})}$o(v,n.fromStyles)}_buildAnimation(i,n,u,p,v,t){const r=n.triggerName,o=n.element,d=[],h=new Set,m=new Set,E=n.timelines.map(O=>{const F=O.element;h.add(F);const $=F[tl];if($&&$.removedBeforeQueried)return new Cr.ZN(O.duration,O.delay);const Q=F!==o,ue=function by(a){const i=[];return cb(a,i),i}((u.get(F)||E0).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===F),Oe=v.get(F),Ke=t.get(F),Ot=Y_(0,this._normalizer,0,O.keyframes,Oe,Ke),Vt=this._buildPlayer(O,Ot,ue);if(O.subTimeline&&p&&m.add(F),Q){const nn=new yy(i,r,F);nn.setRealPlayer(Vt),d.push(nn)}return Vt});d.forEach(O=>{oo(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function ub(a,i,n){let u;if(a instanceof Map){if(u=a.get(i),u){if(u.length){const p=u.indexOf(n);u.splice(p,1)}0==u.length&&a.delete(i)}}else if(u=a[i],u){if(u.length){const p=u.indexOf(n);u.splice(p,1)}0==u.length&&delete a[i]}return u}(this.playersByQueriedElement,O.element,O))}),h.forEach(O=>wo(O,Qh));const T=kl(E);return T.onDestroy(()=>{h.forEach(O=>tf(O,Qh)),Ho(o,n.toStyles)}),m.forEach(O=>{oo(p,O,[]).push(T)}),T}_buildPlayer(i,n,u){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,u):new Cr.ZN(i.duration,i.delay)}}class yy{constructor(i,n,u){this.namespaceId=i,this.triggerName=n,this.element=u,this._player=new Cr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(u=>Cd(i,n,void 0,u))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){oo(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function gg(a){return a&&1===a.nodeType}function _g(a,i){const n=a.style.display;return a.style.display=null!=i?i:"none",n}function yg(a,i,n,u,p){const v=[];n.forEach(o=>v.push(_g(o)));const t=[];u.forEach((o,d)=>{const h={};o.forEach(m=>{const E=h[m]=i.computeStyle(d,m,p);(!E||0==E.length)&&(d[tl]=w0,t.push(d))}),a.set(d,h)});let r=0;return n.forEach(o=>_g(o,v[r++])),t}function vy(a,i){const n=new Map;if(a.forEach(r=>n.set(r,[])),0==i.length)return n;const p=new Set(i),v=new Map;function t(r){if(!r)return 1;let o=v.get(r);if(o)return o;const d=r.parentNode;return o=n.has(d)?d:p.has(d)?1:t(d),v.set(r,o),o}return i.forEach(r=>{const o=t(r);1!==o&&n.get(o).push(r)}),n}function wo(a,i){var n;null===(n=a.classList)||void 0===n||n.add(i)}function tf(a,i){var n;null===(n=a.classList)||void 0===n||n.remove(i)}function D0(a,i,n){kl(n).onDone(()=>a.processLeaveNode(i))}function cb(a,i){for(let n=0;n<a.length;n++){const u=a[n];u instanceof Cr.ZE?cb(u.players,i):i.push(u)}}function hb(a,i,n){const u=n.get(a);if(!u)return!1;let p=i.get(a);return p?u.forEach(v=>p.add(v)):i.set(a,u),n.delete(a),!0}class Ap{constructor(i,n,u){this.bodyNode=i,this._driver=n,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(p,v)=>{},this._transitionEngine=new C0(i,n,u),this._timelineEngine=new v0(i,n,u),this._transitionEngine.onRemovalComplete=(p,v)=>this.onRemovalComplete(p,v)}registerTrigger(i,n,u,p,v){const t=i+"-"+p;let r=this._triggerCache[t];if(!r){const o=[],d=Md(this._driver,v,o);if(o.length)throw new Error(`The animation trigger "${p}" has failed to build due to the following errors:\n - ${o.join("\n - ")}`);r=function hy(a,i,n){return new rb(a,i,n)}(p,d,this._normalizer),this._triggerCache[t]=r}this._transitionEngine.registerTrigger(n,p,r)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,u,p){this._transitionEngine.insertNode(i,n,u,p)}onRemove(i,n,u,p){this._transitionEngine.removeNode(i,n,p||!1,u)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,u,p){if("@"==u.charAt(0)){const[v,t]=Q_(u);this._timelineEngine.command(v,n,t,p)}else this._transitionEngine.trigger(i,n,u,p)}listen(i,n,u,p,v){if("@"==u.charAt(0)){const[t,r]=Q_(u);return this._timelineEngine.listen(t,n,r,v)}return this._transitionEngine.listen(i,n,u,p,v)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function fb(a,i){let n=null,u=null;return Array.isArray(i)&&i.length?(n=mb(i[0]),i.length>1&&(u=mb(i[i.length-1]))):i&&(n=mb(i)),n||u?new pb(a,n,u):null}let pb=(()=>{class a{constructor(n,u,p){this._element=n,this._startStyles=u,this._endStyles=p,this._state=0;let v=a.initialStylesByElement.get(n);v||a.initialStylesByElement.set(n,v={}),this._initialStyles=v}start(){this._state<1&&(this._startStyles&&Ho(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ho(this._element,this._initialStyles),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(a.initialStylesByElement.delete(this._element),this._startStyles&&($o(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($o(this._element,this._endStyles),this._endStyles=null),Ho(this._element,this._initialStyles),this._state=3)}}return a.initialStylesByElement=new WeakMap,a})();function mb(a){let i=null;const n=Object.keys(a);for(let u=0;u<n.length;u++){const p=n[u];A0(p)&&(i=i||{},i[p]=a[p])}return i}function A0(a){return"display"===a||"position"===a}const gb="animation",Rd="animationend";class S0{constructor(i,n,u,p,v,t,r){this._element=i,this._name=n,this._duration=u,this._delay=p,this._easing=v,this._fillMode=t,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=o=>this._handleCallback(o)}apply(){(function _b(a,i){const n=vg(a,"").trim();let u=0;n.length&&(u=function l(a,i){let n=0;for(let u=0;u<a.length;u++)a.charAt(u)===i&&n++;return n}(n,",")+1,i=`${n}, ${i}`),xp(a,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),vb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){M0(this._element,this._name,"paused")}resume(){M0(this._element,this._name,"running")}setPosition(i){const n=yb(this._element,this._name);this._position=i*this._duration,xp(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),u=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&u>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),vb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function x0(a,i){const u=vg(a,"").split(","),p=Ey(u,i);p>=0&&(u.splice(p,1),xp(a,"",u.join(",")))}(this._element,this._name))}}function M0(a,i,n){xp(a,"PlayState",n,yb(a,i))}function yb(a,i){const n=vg(a,"");return n.indexOf(",")>0?Ey(n.split(","),i):Ey([n],i)}function Ey(a,i){for(let n=0;n<a.length;n++)if(a[n].indexOf(i)>=0)return n;return-1}function vb(a,i,n){n?a.removeEventListener(Rd,i):a.addEventListener(Rd,i)}function xp(a,i,n,u){const p=gb+i;if(null!=u){const v=a.style[p];if(v.length){const t=v.split(",");t[u]=n,n=t.join(",")}}a.style[p]=n}function vg(a,i){return a.style[gb+i]||""}class c{constructor(i,n,u,p,v,t,r,o){this.element=i,this.keyframes=n,this.animationName=u,this._duration=p,this._delay=v,this._finalStyles=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=t||"linear",this.totalTime=p+v,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new S0(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(u=>u()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(u=>{"offset"!=u&&(i[u]=n?this._finalStyles[u]:Sd(this.element,u))})}this.currentSnapshot=i}}class f extends Cr.ZN{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=og(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class k{constructor(){this._count=0}validateStyleProperty(i){return ng(i)}matchesElement(i,n){return!1}containsElement(i,n){return ig(i,n)}query(i,n,u){return sg(i,n,u)}computeStyle(i,n,u){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,u){u=u.map(r=>og(r));let p=`@keyframes ${n} {\n`,v="";u.forEach(r=>{v=" ";const o=parseFloat(r.offset);p+=`${v}${100*o}% {\n`,v+=" ",Object.keys(r).forEach(d=>{const h=r[d];switch(d){case"offset":return;case"easing":return void(h&&(p+=`${v}animation-timing-function: ${h};\n`));default:return void(p+=`${v}${d}: ${h};\n`)}}),p+=`${v}}\n`}),p+="}\n";const t=document.createElement("style");return t.textContent=p,t}animate(i,n,u,p,v,t=[],r){const o=t.filter($=>$ instanceof c),d={};Wv(u,p)&&o.forEach($=>{let Q=$.currentSnapshot;Object.keys(Q).forEach(ue=>d[ue]=Q[ue])});const h=function G(a){let i={};return a&&(Array.isArray(a)?a:[a]).forEach(u=>{Object.keys(u).forEach(p=>{"offset"==p||"easing"==p||(i[p]=u[p])})}),i}(n=ry(i,n,d));if(0==u)return new f(i,h);const m="gen_css_kf_"+this._count++,E=this.buildKeyframeElement(i,m,n);(function V(a){var i;const n=null===(i=a.getRootNode)||void 0===i?void 0:i.call(a);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(E);const O=fb(i,n),F=new c(i,n,m,u,p,v,h,O);return F.onDestroy(()=>function Y(a){a.parentNode.removeChild(a)}(E)),F}}class gt{constructor(i,n,u,p){this.element=i,this.keyframes=n,this.options=u,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,u){return i.animate(n,u)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};if(this.hasStarted()){const n=this._finalKeyframe;Object.keys(n).forEach(u=>{"offset"!=u&&(i[u]=this._finished?n[u]:Sd(this.element,u))})}this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(u=>u()),n.length=0}}class vt{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(mn().toString()),this._cssKeyframesDriver=new k}validateStyleProperty(i){return ng(i)}matchesElement(i,n){return!1}containsElement(i,n){return ig(i,n)}query(i,n,u){return sg(i,n,u)}computeStyle(i,n,u){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,u,p,v,t=[],r){if(!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,u,p,v,t);const h={duration:u,delay:p,fill:0==p?"both":"forwards"};v&&(h.easing=v);const m={},E=t.filter(O=>O instanceof gt);Wv(u,p)&&E.forEach(O=>{let F=O.currentSnapshot;Object.keys(F).forEach($=>m[$]=F[$])});const T=fb(i,n=ry(i,n=n.map(O=>ju(O,!1)),m));return new gt(i,n,h,T)}}function mn(){return eg()&&Element.prototype.animate||{}}let jr=(()=>{class a extends Cr._j{constructor(n,u){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(u.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(n){const u=this._nextAnimationId.toString();this._nextAnimationId++;const p=Array.isArray(n)?(0,Cr.vP)(n):n;return ss(this._renderer,null,u,"register",[p]),new Xr(u,this._renderer)}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(g.FYo),g.LFG(rs.K0))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac}),a})();class Xr extends Cr.LC{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new ai(this._id,i,n||{},this._renderer)}}class ai{constructor(i,n,u,p){this.id=i,this.element=n,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",u)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return ss(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function ss(a,i,n,u,p){return a.setProperty(i,`@@${n}:${u}`,p)}const ei="@.disabled";let ys=(()=>{class a{constructor(n,u,p){this.delegate=n,this.engine=u,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),u.onRemovalComplete=(v,t)=>{const r=null==t?void 0:t.parentNode(v);r&&t.removeChild(r,v)}}createRenderer(n,u){const v=this.delegate.createRenderer(n,u);if(!(n&&u&&u.data&&u.data.animation)){let h=this._rendererCache.get(v);return h||(h=new Gu("",v,this.engine),this._rendererCache.set(v,h)),h}const t=u.id,r=u.id+"-"+this._currentId;this._currentId++,this.engine.register(r,n);const o=h=>{Array.isArray(h)?h.forEach(o):this.engine.registerTrigger(t,r,n,h.name,h)};return u.data.animation.forEach(o),new O0(this,r,v,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,u,p){n>=0&&n<this._microtaskId?this._zone.run(()=>u(p)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(v=>{const[t,r]=v;t(r)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([u,p]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(g.FYo),g.LFG(Ap),g.LFG(g.R0b))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac}),a})();class Gu{constructor(i,n,u){this.namespaceId=i,this.delegate=n,this.engine=u,this.destroyNode=this.delegate.destroyNode?p=>n.destroyNode(p):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,u,p=!0){this.delegate.insertBefore(i,n,u),this.engine.onInsert(this.namespaceId,n,i,p)}removeChild(i,n,u){this.engine.onRemove(this.namespaceId,n,this.delegate,u)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,u,p){this.delegate.setAttribute(i,n,u,p)}removeAttribute(i,n,u){this.delegate.removeAttribute(i,n,u)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,u,p){this.delegate.setStyle(i,n,u,p)}removeStyle(i,n,u){this.delegate.removeStyle(i,n,u)}setProperty(i,n,u){"@"==n.charAt(0)&&n==ei?this.disableAnimations(i,!!u):this.delegate.setProperty(i,n,u)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,u){return this.delegate.listen(i,n,u)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class O0 extends Gu{constructor(i,n,u,p){super(n,u,p),this.factory=i,this.namespaceId=n}setProperty(i,n,u){"@"==n.charAt(0)?"."==n.charAt(1)&&n==ei?this.disableAnimations(i,u=void 0===u||!!u):this.engine.process(this.namespaceId,i,n.substr(1),u):this.delegate.setProperty(i,n,u)}listen(i,n,u){if("@"==n.charAt(0)){const p=function R0(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(i);let v=n.substr(1),t="";return"@"!=v.charAt(0)&&([v,t]=function k0(a){const i=a.indexOf(".");return[a.substring(0,i),a.substr(i+1)]}(v)),this.engine.listen(this.namespaceId,p,v,t,r=>{this.factory.scheduleListenerCallback(r._data||-1,u,r)})}return this.delegate.listen(i,n,u)}}let VE=(()=>{class a extends Ap{constructor(n,u,p){super(n.body,u,p)}ngOnDestroy(){this.flush()}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(rs.K0),g.LFG(fp),g.LFG(ef))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac}),a})();const Op=new g.OlP("AnimationModuleType"),N0=[{provide:Cr._j,useClass:jr},{provide:ef,useFactory:function UE(){return new Od}},{provide:Ap,useClass:VE},{provide:g.FYo,useFactory:function jE(a,i,n){return new ys(a,i,n)},deps:[C.se,Ap,g.R0b]}],P0=[{provide:fp,useFactory:function BE(){return function tn(){return"function"==typeof mn()}()?new vt:new k}},{provide:Op,useValue:"BrowserAnimations"},...N0],bg=[{provide:fp,useClass:J_},{provide:Op,useValue:"NoopAnimations"},...N0];let F0=(()=>{class a{static withConfig(n){return{ngModule:a,providers:n.disableAnimations?bg:P0}}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({providers:P0,imports:[C.b2]}),a})();const qE=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function WE(){return!0}});let zo=(()=>{class a{constructor(n,u,p){this._sanityChecks=u,this._document=p,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function Mh(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(Z_),g.LFG(qE,8),g.LFG(rs.K0))},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[Tm],Tm]}),a})();function B0(a){return class extends a{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=ro(i)}}}function wy(a,i){return class extends a{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const u=n||this.defaultColor;u!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),u&&this._elementRef.nativeElement.classList.add(`mat-${u}`),this._color=u)}}}function Rp(a){return class extends a{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=ro(i)}}}function U0(a,i=0){return class extends a{constructor(...n){super(...n),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?xl(n):this.defaultTabIndex}}}function KE(a){return class extends a{constructor(...i){super(...i),this.stateChanges=new ou.x,this.errorState=!1}updateErrorState(){const i=this.errorState,v=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);v!==i&&(this.errorState=v,this.stateChanges.next())}}}let Iy=(()=>{class a{isErrorState(n,u){return!!(n&&n.invalid&&(n.touched||u&&u.submitted))}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class XE{constructor(i,n,u){this._renderer=i,this.element=n,this.config=u,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const G0={enterDuration:225,exitDuration:150},Eb=su({passive:!0}),wb=["mousedown","touchstart"],Ty=["mouseup","mouseleave","touchend","touchcancel"];class z0{constructor(i,n,u,p){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,p.isBrowser&&(this._containerElement=bc(u))}fadeInRipple(i,n,u={}){const p=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),v=Object.assign(Object.assign({},G0),u.animation);u.centered&&(i=p.left+p.width/2,n=p.top+p.height/2);const t=u.radius||function q0(a,i,n){const u=Math.max(Math.abs(a-n.left),Math.abs(a-n.right)),p=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(u*u+p*p)}(i,n,p),r=i-p.left,o=n-p.top,d=v.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=r-t+"px",h.style.top=o-t+"px",h.style.height=2*t+"px",h.style.width=2*t+"px",null!=u.color&&(h.style.backgroundColor=u.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h),function W0(a){window.getComputedStyle(a).getPropertyValue("opacity")}(h),h.style.transform="scale(1)";const m=new XE(this,h,u);return m.state=0,this._activeRipples.add(m),u.persistent||(this._mostRecentTransientRipple=m),this._runTimeoutOutsideZone(()=>{const E=m===this._mostRecentTransientRipple;m.state=1,!u.persistent&&(!E||!this._isPointerDown)&&m.fadeOut()},d),m}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const u=i.element,p=Object.assign(Object.assign({},G0),i.config.animation);u.style.transitionDuration=`${p.exitDuration}ms`,u.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,u.remove()},p.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=bc(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(wb))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ty),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=Lu(i),u=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!u&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!sp(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let u=0;u<n.length;u++)this.fadeInRipple(n[u].clientX,n[u].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,Eb)})})}_removeTriggerEvents(){this._triggerElement&&(wb.forEach(i=>{this._triggerElement.removeEventListener(i,this,Eb)}),this._pointerUpEventsRegistered&&Ty.forEach(i=>{this._triggerElement.removeEventListener(i,this,Eb)}))}}const K0=new g.OlP("mat-ripple-global-options");let Cb=(()=>{class a{constructor(n,u,p,v,t){this._elementRef=n,this._animationMode=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=v||{},this._rippleRenderer=new z0(this,u,n,p)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,u=0,p){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,u,Object.assign(Object.assign({},this.rippleConfig),p)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(Rs),g.Y36(K0,8),g.Y36(Op,8))},a.\u0275dir=g.lG2({type:a,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,u){2&n&&g.ekj("mat-ripple-unbounded",u.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),a})(),Ib=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[zo],zo]}),a})(),iw=(()=>{class a{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Q0=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({providers:[iw]}),a})(),hw=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=g.lG2({type:a}),a})();const OC=new g.OlP("MatFormField");let vw=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[rs.ez,zo,Q0],zo]}),a})();var Ab=U(515);const rf=su({passive:!0});let rE=(()=>{class a{constructor(n,u){this._platform=n,this._ngZone=u,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Ab.E;const u=bc(n),p=this._monitoredElements.get(u);if(p)return p.subject;const v=new ou.x,t="cdk-text-field-autofilled",r=o=>{"cdk-text-field-autofill-start"!==o.animationName||u.classList.contains(t)?"cdk-text-field-autofill-end"===o.animationName&&u.classList.contains(t)&&(u.classList.remove(t),this._ngZone.run(()=>v.next({target:o.target,isAutofilled:!1}))):(u.classList.add(t),this._ngZone.run(()=>v.next({target:o.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{u.addEventListener("animationstart",r,rf),u.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(u,{subject:v,unlisten:()=>{u.removeEventListener("animationstart",r,rf)}}),v}stopMonitoring(n){const u=bc(n),p=this._monitoredElements.get(u);p&&(p.unlisten(),p.subject.complete(),u.classList.remove("cdk-text-field-autofill-monitored"),u.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(u))}ngOnDestroy(){this._monitoredElements.forEach((n,u)=>this.stopMonitoring(u))}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(Rs),g.LFG(g.R0b))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Sy=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({}),a})();const iE=new g.OlP("MAT_INPUT_VALUE_ACCESSOR"),sE=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let NC=0;const oE=KE(class{constructor(a,i,n,u){this._defaultErrorStateMatcher=a,this._parentForm=i,this._parentFormGroup=n,this.ngControl=u}});let My=(()=>{class a extends oE{constructor(n,u,p,v,t,r,o,d,h,m){super(r,v,t,p),this._elementRef=n,this._platform=u,this._autofillMonitor=d,this._formField=m,this._uid="mat-input-"+NC++,this.focused=!1,this.stateChanges=new ou.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>Ru().has(O)),this._iOSKeyupListener=O=>{const F=O.target;!F.value&&0===F.selectionStart&&0===F.selectionEnd&&(F.setSelectionRange(1,1),F.setSelectionRange(0,0))};const E=this._elementRef.nativeElement,T=E.nodeName.toLowerCase();this._inputValueAccessor=o||E,this._previousNativeValue=this.value,this.id=this.id,u.IOS&&h.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===T,this._isTextarea="textarea"===T,this._isInFormField=!!m,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=ro(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){var n,u,p,v;return null!==(v=null!==(n=this._required)&&void 0!==n?n:null===(p=null===(u=this.ngControl)||void 0===u?void 0:u.control)||void 0===p?void 0:p.hasValidator(Qp.required))&&void 0!==v&&v}set required(n){this._required=ro(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&Ru().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=ro(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,u;const p=(null===(u=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===u?void 0:u.call(n))?null:this.placeholder;if(p!==this._previousPlaceholder){const v=this._elementRef.nativeElement;this._previousPlaceholder=p,p?v.setAttribute("placeholder",p):v.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){sE.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,u=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&u&&u.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(g.SBq),g.Y36(Rs),g.Y36(tu,10),g.Y36(_a,8),g.Y36(Bi,8),g.Y36(Iy),g.Y36(iE,10),g.Y36(rE),g.Y36(g.R0b),g.Y36(OC,8))},a.\u0275dir=g.lG2({type:a,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(n,u){1&n&&g.NdJ("focus",function(){return u._focusChanged(!0)})("blur",function(){return u._focusChanged(!1)})("input",function(){return u._onInput()}),2&n&&(g.Ikx("disabled",u.disabled)("required",u.required),g.uIk("id",u.id)("data-placeholder",u.placeholder)("name",u.name||null)("readonly",u.readonly&&!u._isNativeSelect||null)("aria-invalid",u.empty&&u.required?null:u.errorState)("aria-required",u.required),g.ekj("mat-input-server",u._isServer)("mat-native-select-inline",u._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[g._Bn([{provide:hw,useExisting:a}]),g.qOj,g.TTD]}),a})(),aE=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({providers:[Iy],imports:[[Sy,vw,zo],Sy,vw]}),a})();var PC=U(727);const FC=["sliderWrapper"],uu=su({passive:!1}),Cw={provide:to,useExisting:(0,g.Gpc)(()=>Ea),multi:!0};class Mb{}const Iw=U0(wy(B0(class{constructor(a){this._elementRef=a}}),"accent"));let Ea=(()=>{class a extends Iw{constructor(n,u,p,v,t,r,o,d){super(n),this._focusMonitor=u,this._changeDetectorRef=p,this._dir=v,this._ngZone=r,this._animationMode=d,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new g.vpe,this.input=new g.vpe,this.valueChange=new g.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=PC.w0.EMPTY,this._pointerDown=h=>{this.disabled||this._isSliding||!sf(h)&&0!==h.button||this._ngZone.run(()=>{this._touchId=sf(h)?function Ob(a,i){for(let n=0;n<a.touches.length;n++){const u=a.touches[n].target;if(i===u||i.contains(u))return a.touches[n].identifier}}(h,this._elementRef.nativeElement):void 0;const m=uE(h,this._touchId);if(m){const E=this.value;this._isSliding="pointer",this._lastPointerEvent=h,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(h),this._focusHostElement(),this._updateValueFromPosition(m),this._valueOnSlideStart=E,h.cancelable&&h.preventDefault(),E!=this.value&&this._emitInputEvent()}})},this._pointerMove=h=>{if("pointer"===this._isSliding){const m=uE(h,this._touchId);if(m){h.preventDefault();const E=this.value;this._lastPointerEvent=h,this._updateValueFromPosition(m),E!=this.value&&this._emitInputEvent()}}},this._pointerUp=h=>{"pointer"===this._isSliding&&(!sf(h)||"number"!=typeof this._touchId||xb(h.changedTouches,this._touchId))&&(h.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=o,this.tabIndex=parseInt(t)||0,r.runOutsideAngular(()=>{const h=n.nativeElement;h.addEventListener("mousedown",this._pointerDown,uu),h.addEventListener("touchstart",this._pointerDown,uu)})}get invert(){return this._invert}set invert(n){this._invert=ro(n)}get max(){return this._max}set max(n){this._max=xl(n,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(n){this._min=xl(n,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(n){this._step=xl(n,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(n){this._thumbLabel=ro(n)}get tickInterval(){return this._tickInterval}set tickInterval(n){this._tickInterval="auto"===n?"auto":"number"==typeof n||"string"==typeof n?xl(n,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(n){if(n!==this._value){let u=xl(n,0);this._roundToDecimal&&u!==this.min&&u!==this.max&&(u=parseFloat(u.toFixed(this._roundToDecimal))),this._value=u,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(n){this._vertical=ro(n)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(n){this._focusHostElement(n)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const u=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${u})`}}_getTrackFillStyles(){const n=this.percent,p=this.vertical?`1, ${n}, 1`:`${n}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${p})`,display:0===n?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let n=100*this._tickIntervalPercent,r={backgroundSize:this.vertical?`2px ${n}%`:`${n}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${n/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const o=this._shouldInvertAxis();let d;d=this.vertical?o?"Bottom":"Top":o?"Right":"Left",r[`padding${d}`]=`${this._getThumbGap()}px`}return r}_getThumbContainerStyles(){const n=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?n:!n)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const n=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?n:!n}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{this._isActive=!!n&&"keyboard"!==n,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const n=this._elementRef.nativeElement;n.removeEventListener("mousedown",this._pointerDown,uu),n.removeEventListener("touchstart",this._pointerDown,uu),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(n){if(this.disabled||function j_(a,...i){return i.length?i.some(n=>a[n]):a.altKey||a.shiftKey||a.ctrlKey||a.metaKey}(n)||this._isSliding&&"keyboard"!==this._isSliding)return;const u=this.value;switch(n.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}u!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",n.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(n){const u=this._document,p=sf(n),t=p?"touchend":"mouseup";u.addEventListener(p?"touchmove":"mousemove",this._pointerMove,uu),u.addEventListener(t,this._pointerUp,uu),p&&u.addEventListener("touchcancel",this._pointerUp,uu);const r=this._getWindow();void 0!==r&&r&&r.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const n=this._document;n.removeEventListener("mousemove",this._pointerMove,uu),n.removeEventListener("mouseup",this._pointerUp,uu),n.removeEventListener("touchmove",this._pointerMove,uu),n.removeEventListener("touchend",this._pointerUp,uu),n.removeEventListener("touchcancel",this._pointerUp,uu);const u=this._getWindow();void 0!==u&&u&&u.removeEventListener("blur",this._windowBlur)}_increment(n){const u=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(u+this.step*n,this.min,this.max)}_updateValueFromPosition(n){if(!this._sliderDimensions)return;let t=this._clamp(((this.vertical?n.y:n.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(t=1-t),0===t)this.value=this.min;else if(1===t)this.value=this.max;else{const r=this._calculateValue(t),o=Math.round((r-this.min)/this.step)*this.step+this.min;this.value=this._clamp(o,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let n;if("auto"==this.tickInterval){let u=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;n=Math.ceil(30/(u*this.step/(this.max-this.min)))*this.step/u}else n=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=lE(n)?n:0}_createChangeEvent(n=this.value){let u=new Mb;return u.source=this,u.value=n,u}_calculatePercentage(n){const u=((n||0)-this.min)/(this.max-this.min);return lE(u)?u:0}_calculateValue(n){return this.min+n*(this.max-this.min)}_clamp(n,u=0,p=1){return Math.max(u,Math.min(n,p))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(n){this._elementRef.nativeElement.focus(n)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(n){this.value=n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(g.SBq),g.Y36(up),g.Y36(g.sBO),g.Y36(va,8),g.$8M("tabindex"),g.Y36(g.R0b),g.Y36(rs.K0),g.Y36(Op,8))},a.\u0275cmp=g.Xpm({type:a,selectors:[["mat-slider"]],viewQuery:function(n,u){if(1&n&&g.Gf(FC,5),2&n){let p;g.iGM(p=g.CRH())&&(u._sliderWrapper=p.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(n,u){1&n&&g.NdJ("focus",function(){return u._onFocus()})("blur",function(){return u._onBlur()})("keydown",function(v){return u._onKeydown(v)})("keyup",function(){return u._onKeyup()})("mouseenter",function(){return u._onMouseenter()})("selectstart",function(v){return v.preventDefault()}),2&n&&(g.Ikx("tabIndex",u.tabIndex),g.uIk("aria-disabled",u.disabled)("aria-valuemax",u.max)("aria-valuemin",u.min)("aria-valuenow",u.value)("aria-valuetext",null==u.valueText?u.displayValue:u.valueText)("aria-orientation",u.vertical?"vertical":"horizontal"),g.ekj("mat-slider-disabled",u.disabled)("mat-slider-has-ticks",u.tickInterval)("mat-slider-horizontal",!u.vertical)("mat-slider-axis-inverted",u._shouldInvertAxis())("mat-slider-invert-mouse-coords",u._shouldInvertMouseCoords())("mat-slider-sliding",u._isSliding)("mat-slider-thumb-label-showing",u.thumbLabel)("mat-slider-vertical",u.vertical)("mat-slider-min-value",u._isMinValue())("mat-slider-hide-last-tick",u.disabled||u._isMinValue()&&u._getThumbGap()&&u._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===u._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[g._Bn([Cw]),g.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(n,u){1&n&&(g.TgZ(0,"div",0,1),g.TgZ(2,"div",2),g._UZ(3,"div",3),g._UZ(4,"div",4),g.qZA(),g.TgZ(5,"div",5),g._UZ(6,"div",6),g.qZA(),g.TgZ(7,"div",7),g._UZ(8,"div",8),g._UZ(9,"div",9),g.TgZ(10,"div",10),g.TgZ(11,"span",11),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(3),g.Q6J("ngStyle",u._getTrackBackgroundStyles()),g.xp6(1),g.Q6J("ngStyle",u._getTrackFillStyles()),g.xp6(1),g.Q6J("ngStyle",u._getTicksContainerStyles()),g.xp6(1),g.Q6J("ngStyle",u._getTicksStyles()),g.xp6(1),g.Q6J("ngStyle",u._getThumbContainerStyles()),g.xp6(5),g.Oqu(u.displayValue))},directives:[rs.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),a})();function lE(a){return!isNaN(a)&&isFinite(a)}function sf(a){return"t"===a.type[0]}function uE(a,i){let n;return n=sf(a)?"number"==typeof i?xb(a.touches,i)||xb(a.changedTouches,i):a.touches[0]||a.changedTouches[0]:a,n?{x:n.clientX,y:n.clientY}:void 0}function xb(a,i){for(let n=0;n<a.length;n++)if(a[n].identifier===i)return a[n]}let cE=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[rs.ez,zo],zo]}),a})(),cu=(()=>{class a{constructor(){this._listeners=[]}notify(n,u){for(let p of this._listeners)p(n,u)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(u=>n!==u)}}ngOnDestroy(){this._listeners=[]}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const HC=["input"],Sw=function(a){return{enterDuration:a}},hE=["*"],Mw=new g.OlP("mat-radio-default-options",{providedIn:"root",factory:function xw(){return{color:"accent"}}});let Rb=0;const Ow={provide:to,useExisting:(0,g.Gpc)(()=>pE),multi:!0};class Rw{constructor(i,n){this.source=i,this.value=n}}const kb=new g.OlP("MatRadioGroup");let fE=(()=>{class a{constructor(n){this._changeDetector=n,this._value=null,this._name="mat-radio-group-"+Rb++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new g.vpe}get name(){return this._name}set name(n){this._name=n,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(n){this._labelPosition="before"===n?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(n){this._selected=n,this.value=n?n.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(n){this._disabled=ro(n),this._markRadiosForCheck()}get required(){return this._required}set required(n){this._required=ro(n),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(n=>{n.name=this.name,n._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(u=>{u.checked=this.value===u.value,u.checked&&(this._selected=u)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Rw(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(n=>n._markForCheck())}writeValue(n){this.value=n,this._changeDetector.markForCheck()}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetector.markForCheck()}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(g.sBO))},a.\u0275dir=g.lG2({type:a,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),a})(),pE=(()=>{class a extends fE{}return a.\u0275fac=function(){let i;return function(u){return(i||(i=g.n5z(a)))(u||a)}}(),a.\u0275dir=g.lG2({type:a,selectors:[["mat-radio-group"]],contentQueries:function(n,u,p){if(1&n&&g.Suo(p,xy,5),2&n){let v;g.iGM(v=g.CRH())&&(u._radios=v)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[g._Bn([Ow,{provide:kb,useExisting:a}]),g.qOj]}),a})();class kw{constructor(i){this._elementRef=i}}const mE=Rp(U0(kw));let wg=(()=>{class a extends mE{constructor(n,u,p,v,t,r,o,d){super(u),this._changeDetector=p,this._focusMonitor=v,this._radioDispatcher=t,this._providerOverride=o,this._uniqueId="mat-radio-"+ ++Rb,this.id=this._uniqueId,this.change=new g.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=n,this._noopAnimations="NoopAnimations"===r,d&&(this.tabIndex=xl(d,0)),this._removeUniqueSelectionListener=t.listen((h,m)=>{h!==this.id&&m===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(n){const u=ro(n);this._checked!==u&&(this._checked=u,u&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!u&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),u&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===n),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(n){this._labelPosition=n}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(n){this._setDisabled(ro(n))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(n){this._required=ro(n)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(n){this._color=n}get inputId(){return`${this.id||this._uniqueId}-input`}focus(n,u){u?this._focusMonitor.focusVia(this._inputElement,u,n):this._inputElement.nativeElement.focus(n)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{!n&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Rw(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(n){n.stopPropagation()}_onInputInteraction(n){if(n.stopPropagation(),!this.checked&&!this.disabled){const u=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),u&&this.radioGroup._emitChangeEvent())}}_setDisabled(n){this._disabled!==n&&(this._disabled=n,this._changeDetector.markForCheck())}_updateTabIndex(){var n;const u=this.radioGroup;let p;if(p=u&&u.selected&&!this.disabled?u.selected===this?this.tabIndex:-1:this.tabIndex,p!==this._previousTabIndex){const v=null===(n=this._inputElement)||void 0===n?void 0:n.nativeElement;v&&(v.setAttribute("tabindex",p+""),this._previousTabIndex=p)}}}return a.\u0275fac=function(n){g.$Z()},a.\u0275dir=g.lG2({type:a,viewQuery:function(n,u){if(1&n&&g.Gf(HC,5),2&n){let p;g.iGM(p=g.CRH())&&(u._inputElement=p.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[g.qOj]}),a})(),xy=(()=>{class a extends wg{constructor(n,u,p,v,t,r,o,d){super(n,u,p,v,t,r,o,d)}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(kb,8),g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(up),g.Y36(cu),g.Y36(Op,8),g.Y36(Mw,8),g.$8M("tabindex"))},a.\u0275cmp=g.Xpm({type:a,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(n,u){1&n&&g.NdJ("focus",function(){return u._inputElement.nativeElement.focus()}),2&n&&(g.uIk("tabindex",null)("id",u.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),g.ekj("mat-radio-checked",u.checked)("mat-radio-disabled",u.disabled)("_mat-animation-noopable",u._noopAnimations)("mat-primary","primary"===u.color)("mat-accent","accent"===u.color)("mat-warn","warn"===u.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[g.qOj],ngContentSelectors:hE,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(n,u){if(1&n&&(g.F$t(),g.TgZ(0,"label",0,1),g.TgZ(2,"span",2),g._UZ(3,"span",3),g._UZ(4,"span",4),g.TgZ(5,"input",5,6),g.NdJ("change",function(v){return u._onInputInteraction(v)})("click",function(v){return u._onInputClick(v)}),g.qZA(),g.TgZ(7,"span",7),g._UZ(8,"span",8),g.qZA(),g.qZA(),g.TgZ(9,"span",9),g.TgZ(10,"span",10),g._uU(11,"\xa0"),g.qZA(),g.Hsn(12),g.qZA(),g.qZA()),2&n){const p=g.MAs(1);g.uIk("for",u.inputId),g.xp6(5),g.Q6J("id",u.inputId)("checked",u.checked)("disabled",u.disabled)("required",u.required),g.uIk("name",u.name)("value",u.value)("aria-label",u.ariaLabel)("aria-labelledby",u.ariaLabelledby)("aria-describedby",u.ariaDescribedby),g.xp6(2),g.Q6J("matRippleTrigger",p)("matRippleDisabled",u._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",g.VKq(17,Sw,u._noopAnimations?0:150)),g.xp6(2),g.ekj("mat-radio-label-before","before"==u.labelPosition)}},directives:[Cb],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),a})(),gE=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[Ib,zo],zo]}),a})();const Nw=["mat-button",""],_E=["*"],Lw=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],$C=wy(B0(Rp(class{constructor(a){this._elementRef=a}})));let GC=(()=>{class a extends $C{constructor(n,u,p){super(n),this._focusMonitor=u,this._animationMode=p,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const v of Lw)this._hasHostAttributes(v)&&this._getHostElement().classList.add(v);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,u){n?this._focusMonitor.focusVia(this._getHostElement(),n,u):this._getHostElement().focus(u)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(u=>this._getHostElement().hasAttribute(u))}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(g.SBq),g.Y36(up),g.Y36(Op,8))},a.\u0275cmp=g.Xpm({type:a,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,u){if(1&n&&g.Gf(Cb,5),2&n){let p;g.iGM(p=g.CRH())&&(u.ripple=p.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,u){2&n&&(g.uIk("disabled",u.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===u._animationMode)("mat-button-disabled",u.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:Nw,ngContentSelectors:_E,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,u){1&n&&(g.F$t(),g.TgZ(0,"span",0),g.Hsn(1),g.qZA(),g._UZ(2,"span",1),g._UZ(3,"span",2)),2&n&&(g.xp6(2),g.ekj("mat-button-ripple-round",u.isRoundButton||u.isIconButton),g.Q6J("matRippleDisabled",u._isRippleDisabled())("matRippleCentered",u.isIconButton)("matRippleTrigger",u._getHostElement()))},directives:[Cb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),a})(),Bw=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[Ib,zo],zo]}),a})(),Uw=(()=>{class a{constructor(n){this.fs=n,this.nombre="",this.apellido="",this.edad=0,this.nroTel=0,this.preg1="",this.preg2="",this.preg3=""}ngOnInit(){}enviarResultados(){this.fs.agregarEncuesta({nombre:this.nombre,apellido:this.apellido,edad:this.edad,nroTel:this.nroTel,preg1:this.preg1,preg2:this.preg2,preg3:this.preg3})}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(yc.C))},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-encuesta"]],decls:54,vars:9,consts:[["data-section","about","id","section-about",1,"pb_section","pb_section_v1"],[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-12","rounded","d-flex","flex-wrap","justify-content-center","p-3","form"],[1,"rounded","p-1","text-center",2,"color","white","background-color","rgb(53, 51, 51)"],["matInput","","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["type","text","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["type","number","min","18","max","99","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["type","number","maxlength","10","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["thumbLabel","","tickInterval","1","step","1","min","1","max","10","aria-label","units","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["aria-label","Select an option"],["value","0","checked","","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["value","1","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["value","2","name","fieldName","ngDefaultControl","",3,"ngModel","ngModelChange"],["mat-raised-button","",2,"margin-top","15px",3,"click"]],template:function(n,u){1&n&&(g._UZ(0,"app-nav"),g.TgZ(1,"section",0),g.TgZ(2,"div",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"table"),g.TgZ(7,"tr"),g.TgZ(8,"th"),g._uU(9,"ENCUESTA SALA DE JUEGOS"),g.qZA(),g.qZA(),g.TgZ(10,"tr"),g.TgZ(11,"td"),g._uU(12,"Nombre"),g.qZA(),g.qZA(),g.TgZ(13,"tr"),g.TgZ(14,"input",5),g.NdJ("ngModelChange",function(v){return u.nombre=v}),g.qZA(),g.qZA(),g.TgZ(15,"tr"),g.TgZ(16,"td"),g._uU(17,"Apellido"),g.qZA(),g.qZA(),g.TgZ(18,"tr"),g.TgZ(19,"input",6),g.NdJ("ngModelChange",function(v){return u.apellido=v}),g.qZA(),g.qZA(),g.TgZ(20,"tr"),g.TgZ(21,"td"),g._uU(22,"Edad"),g.qZA(),g.qZA(),g.TgZ(23,"tr"),g.TgZ(24,"input",7),g.NdJ("ngModelChange",function(v){return u.edad=v}),g.qZA(),g.qZA(),g.TgZ(25,"tr"),g.TgZ(26,"td"),g._uU(27,"Numero de telefono"),g.qZA(),g.qZA(),g.TgZ(28,"tr"),g.TgZ(29,"input",8),g.NdJ("ngModelChange",function(v){return u.nroTel=v}),g.qZA(),g.qZA(),g.TgZ(30,"tr"),g.TgZ(31,"td"),g._uU(32,"Cuanto se divirtio usando esta sala de juegos? (1-10)"),g.qZA(),g.qZA(),g.TgZ(33,"tr"),g.TgZ(34,"mat-slider",9),g.NdJ("ngModelChange",function(v){return u.preg1=v}),g.qZA(),g.qZA(),g.TgZ(35,"tr"),g.TgZ(36,"td"),g._uU(37,"Cuantos juegos agregaria?"),g.qZA(),g.qZA(),g.TgZ(38,"tr"),g.TgZ(39,"mat-radio-group",10),g.TgZ(40,"mat-radio-button",11),g.NdJ("ngModelChange",function(v){return u.preg2=v}),g._uU(41,"0"),g.qZA(),g.TgZ(42,"mat-radio-button",12),g.NdJ("ngModelChange",function(v){return u.preg2=v}),g._uU(43,"1"),g.qZA(),g.TgZ(44,"mat-radio-button",13),g.NdJ("ngModelChange",function(v){return u.preg2=v}),g._uU(45,"2"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(46,"tr"),g.TgZ(47,"td"),g._uU(48,"Que cambios realizaria?"),g.qZA(),g.qZA(),g.TgZ(49,"tr"),g.TgZ(50,"input",6),g.NdJ("ngModelChange",function(v){return u.preg3=v}),g.qZA(),g.qZA(),g.TgZ(51,"tr"),g.TgZ(52,"button",14),g.NdJ("click",function(){return u.enviarResultados()}),g._uU(53,"Enviar encuesta"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(14),g.Q6J("ngModel",u.nombre),g.xp6(5),g.Q6J("ngModel",u.apellido),g.xp6(5),g.Q6J("ngModel",u.edad),g.xp6(5),g.Q6J("ngModel",u.nroTel),g.xp6(5),g.Q6J("ngModel",u.preg1),g.xp6(6),g.Q6J("ngModel",u.preg2),g.xp6(2),g.Q6J("ngModel",u.preg2),g.xp6(2),g.Q6J("ngModel",u.preg2),g.xp6(6),g.Q6J("ngModel",u.preg3))},directives:[Su.r,My,Xl,ac,iu,a_,mm,_h,ym,Ea,pE,xy,GC],styles:[""]}),a})(),jw=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-home"]],decls:3,vars:0,consts:[["align","center"],["src","../../../assets/favico.png","alt","",1,"img"]],template:function(n,u){1&n&&(g._UZ(0,"app-nav"),g.TgZ(1,"div",0),g._UZ(2,"img",1),g.qZA())},directives:[Su.r],styles:[".img[_ngcontent-%COMP%]{margin-top:9%;border:15px solid white;border-radius:50%;background-color:#fff}"]}),a})(),yE=(()=>{class a{constructor(n){this.as=n,this.email="",this.clave=""}ngOnInit(){}iniciarSesion(){this.as.login(this.email,this.clave)}llenarCredenciales(){this.email="nahuelcisa17@gmail.com",this.clave="123456"}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(Wa.e))},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-login"]],decls:14,vars:3,consts:[[1,"container"],[1,"wrapper","fadeInDown"],["id","formContent"],[1,"botones"],[1,"active"],["routerLink","/registro",1,"inactive","underlineHover"],[1,"fadeIn","first"],["src","../../../assets/favico.png","id","icon","alt","User Icon"],["type","text","id","login","name","login","placeholder","Correo",1,"fadeIn","second",3,"ngModel","value","ngModelChange"],["type","password","id","password","name","login","placeholder","Clave",1,"fadeIn","third",3,"ngModel","ngModelChange"],["type","submit","value","Ingresar",1,"fadeIn","fourth",3,"click"],["type","submit","value","Inicio rapido",1,"fadeIn","fourth",3,"click"]],template:function(n,u){1&n&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"h2",4),g._uU(5," Iniciar Sesion "),g.qZA(),g.TgZ(6,"h2",5),g._uU(7,"Registrarse "),g.qZA(),g.qZA(),g.TgZ(8,"div",6),g._UZ(9,"img",7),g.qZA(),g.TgZ(10,"input",8),g.NdJ("ngModelChange",function(v){return u.email=v}),g.qZA(),g.TgZ(11,"input",9),g.NdJ("ngModelChange",function(v){return u.clave=v}),g.qZA(),g.TgZ(12,"input",10),g.NdJ("click",function(){return u.iniciarSesion()}),g.qZA(),g.TgZ(13,"input",11),g.NdJ("click",function(){return u.llenarCredenciales()}),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(10),g.s9C("value",u.email),g.Q6J("ngModel",u.email),g.xp6(1),g.Q6J("ngModel",u.clave))},directives:[me.rH,Xl,ac,iu],styles:['*[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px;margin-top:5%}.botones[_ngcontent-%COMP%]{margin-bottom:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),a})(),zC=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-quien-soy"]],decls:10,vars:0,consts:[["data-section","about","id","section-about",1,"pb_section","pb_section_v1"],[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-12","col-sm-6","col-md-5","col-lg-4","col-xxl-4","col-xl-4","rounded","d-flex","flex-wrap","justify-content-center","p-3","form"],[1,"rounded","p-1","text-center","fs-5",2,"color","white","background-color","rgb(53, 51, 51)"],[1,"p-2","m-0"]],template:function(n,u){1&n&&(g._UZ(0,"app-nav"),g.TgZ(1,"section",0),g.TgZ(2,"div",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"p",5),g._uU(7,"Mi juego: Calculo Exacto"),g.qZA(),g.TgZ(8,"p",5),g._uU(9,"El juego te asigna un n\xfamero (en un rango de 100 a 500). El jugador debe acercarse a dicho numero, tiene como m\xe1ximo 7 jugadas. Como acercarse: a partir de operaciones matem\xe1ticas (+,-,*,/) entre un n\xfamero de los 6 mostrados en pantalla (al azar entre 1 y 20 representados con botones) y el primer operando que siempre empieza en 0 (aqu\xed es donde se ir\xe1 acumulando el resultado de las operaciones). El jugador debe elegir que n\xfamero de los 6 y que operacion realizar. El juego tiene un sistema de puntajes dependiendo de cuanto se acerque el resultado al n\xfamero asignado al inicio (20 o menos = 7 puntos, 10 o menos = 8 puntos, 5 o menos = 9 puntos y si es igual 10 puntos). "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA())},directives:[Su.r],styles:[""]}),a})(),WC=(()=>{class a{constructor(n){this.as=n}ngOnInit(){}registro(){this.as.registro({correo:this.email,clave:this.clave})}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(Wa.e))},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-register"]],decls:15,vars:3,consts:[[1,"container"],[1,"wrapper","fadeInDown"],["id","formContent"],[1,"botones"],["routerLink","/login",1,"inactive","underlineHover"],[1,"active"],[1,"fadeIn","first"],["src","../../../assets/favico.png","id","icon","alt","User Icon"],[3,"ngSubmit"],["type","text","id","login","name","login","placeholder","Correo",1,"fadeIn","second",3,"ngModel","ngModelChange"],["type","password","id","password","name","login","placeholder","Clave",1,"fadeIn","third",3,"ngModel","ngModelChange"],["type","password","id","password1","name","login","placeholder","Reingrese clave",1,"fadeIn","third",3,"ngModel","ngModelChange"],["type","submit","value","Registrarse",1,"fadeIn","fourth"]],template:function(n,u){1&n&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"h2",4),g._uU(5," Iniciar Sesion "),g.qZA(),g.TgZ(6,"h2",5),g._uU(7,"Registrarse "),g.qZA(),g.qZA(),g.TgZ(8,"div",6),g._UZ(9,"img",7),g.qZA(),g.TgZ(10,"form",8),g.NdJ("ngSubmit",function(){return u.registro()}),g.TgZ(11,"input",9),g.NdJ("ngModelChange",function(v){return u.email=v}),g.qZA(),g.TgZ(12,"input",10),g.NdJ("ngModelChange",function(v){return u.clave=v}),g.qZA(),g.TgZ(13,"input",11),g.NdJ("ngModelChange",function(v){return u.clave1=v}),g.qZA(),g._UZ(14,"input",12),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(11),g.Q6J("ngModel",u.email),g.xp6(1),g.Q6J("ngModel",u.clave),g.xp6(1),g.Q6J("ngModel",u.clave1))},directives:[me.rH,ev,$y,_a,Xl,ac,iu],styles:['*[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px;margin-top:5%}.botones[_ngcontent-%COMP%]{margin-bottom:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56ed88;border:none;color:#000;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%;margin-bottom:15px}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),a})();function qC(a,i){if(1&a&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.qZA()),2&a){const n=i.$implicit;g.xp6(2),g.Oqu(n.usuario),g.xp6(2),g.Oqu(n.juego),g.xp6(2),g.Oqu(n.puntos),g.xp6(2),g.Oqu(n.hora)}}let KC=(()=>{class a{constructor(n){this.fs=n,this.fs.listaResultados().subscribe(u=>{this.resultados=u,this.resultados.forEach(p=>{let v=new Date(1e3*p.hora.seconds),t=v.getDate()+"-"+(v.getMonth()+1)+"-"+v.getFullYear()+" "+v.getHours()+":"+v.getMinutes();p.hora=t}),console.log(this.resultados)})}ngOnInit(){}}return a.\u0275fac=function(n){return new(n||a)(g.Y36(yc.C))},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-resultados"]],decls:16,vars:1,consts:[["data-section","about","id","section-about",1,"pb_section","pb_section_v1"],[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"rounded","p-1","text-center","fs-5",2,"color","white","background-color","rgb(53, 51, 51)"],[2,"width","100%"],[4,"ngFor","ngForOf"]],template:function(n,u){1&n&&(g._UZ(0,"app-nav"),g.TgZ(1,"section",0),g.TgZ(2,"div",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"table",4),g.TgZ(6,"tr"),g.TgZ(7,"th"),g._uU(8,"USUARIO"),g.qZA(),g.TgZ(9,"th"),g._uU(10,"JUEGO"),g.qZA(),g.TgZ(11,"th"),g._uU(12,"PUNTAJE"),g.qZA(),g.TgZ(13,"th"),g._uU(14,"HORA"),g.qZA(),g.qZA(),g.YNc(15,qC,9,4,"tr",5),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(15),g.Q6J("ngForOf",u.resultados))},directives:[Su.r,rs.sg],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%;border-collapse:collapse;border:3px solid purple}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30%}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:15%}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:35%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:20px}"]}),a})(),kp=(()=>{class a{constructor(n,u){this.auth=n,this.router=u}canActivate(n,u){return null!=this.auth.logueado.correo||(this.router.navigateByUrl("login"),!1)}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(Wa.e),g.LFG(me.F0))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Oy=[{path:"",component:yE},{path:"home",component:jw,canActivate:[kp]},{path:"login",component:yE},{path:"quiensoy",component:zC,canActivate:[kp]},{path:"registro",component:WC},{path:"chat",component:d_,canActivate:[kp]},{path:"resultados",component:KC,canActivate:[kp]},{path:"encuesta",component:Uw,canActivate:[kp]},{path:"salaJuegos",loadChildren:()=>U.e(523).then(U.bind(U,5523)).then(a=>a.SalaJuegosModule),canActivate:[kp]},{path:"**",component:yE}];let Hw=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[me.Bz.forRoot(Oy)],me.Bz]}),a})(),$w=(()=>{class a{constructor(){this.title="TpSalaDeJuegos"}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=g.Xpm({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(n,u){1&n&&g._UZ(0,"router-outlet")},directives:[me.lC],styles:[""]}),a})();var Cg=U(3692);const zu={firebase:{projectId:"salajuegos-41be3",appId:"1:1075594454775:web:82e9e98b539499388ed5f2",databaseURL:"https://salajuegos-41be3-default-rtdb.firebaseio.com",storageBucket:"salajuegos-41be3.appspot.com",locationId:"us-central",apiKey:"AIzaSyA1-2ZexkT8n3MPW7vLxQlj9XQZhtVJLIM",authDomain:"salajuegos-41be3.firebaseapp.com",messagingSenderId:"1075594454775"},production:!0};var Nb=U(9318),Wu=U(2011),Pb=U(6451),Ry=U(5363),qu=U(3900),Fb=U(6063);class vE extends ou.x{constructor(i=1/0,n=1/0,u=Fb.l){super(),this._bufferSize=i,this._windowTime=n,this._timestampProvider=u,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,n)}next(i){const{isStopped:n,_buffer:u,_infiniteTimeWindow:p,_timestampProvider:v,_windowTime:t}=this;n||(u.push(i),!p&&u.push(v.now()+t)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(i),{_infiniteTimeWindow:u,_buffer:p}=this,v=p.slice();for(let t=0;t<v.length&&!i.closed;t+=u?1:2)i.next(v[t]);return this._checkFinalizedStatuses(i),n}_trimBuffer(){const{_bufferSize:i,_timestampProvider:n,_buffer:u,_infiniteTimeWindow:p}=this,v=(p?1:2)*i;if(i<1/0&&v<u.length&&u.splice(0,u.length-v),!p){const t=n.now();let r=0;for(let o=1;o<u.length&&u[o]<=t;o+=2)r=o;r&&u.splice(0,r+1)}}}var bE=U(3099);function Gw(a,i,n){var u,p;let v,t=!1;return a&&"object"==typeof a?(v=null!==(u=a.bufferSize)&&void 0!==u?u:1/0,i=null!==(p=a.windowTime)&&void 0!==p?p:1/0,t=!!a.refCount,n=a.scheduler):v=null!=a?a:1/0,(0,bE.B)({connector:()=>new vE(v,i,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:t})}var ZC=U(590),YC=U(576);function zw(a,i){return(0,YC.m)(i)?(0,qu.w)(()=>a,i):(0,qu.w)(()=>a)}var EE=U(9468),du=U(1907),QC=U(7128),wE=U(127);const qw=new g.OlP("angularfire2.auth.use-emulator"),Kw=new g.OlP("angularfire2.auth.settings"),Zw=new g.OlP("angularfire2.auth.tenant-id"),CE=new g.OlP("angularfire2.auth.langugage-code"),IE=new g.OlP("angularfire2.auth.use-device-language"),TE=new g.OlP("angularfire.auth.persistence");let DE=(()=>{class a{constructor(n,u,p,v,t,r,o,d,h,m,E,T){const O=new ou.x,F=(0,md.of)(void 0).pipe((0,Ry.Q)(t.outsideAngular),(0,qu.w)(()=>v.runOutsideAngular(()=>U.e(881).then(U.bind(U,5881)))),(0,sh.U)(()=>(0,Wu.on)(n,v,u)),(0,sh.U)($=>((a,i,n,u,p,v,t,r)=>(0,Wu.cc)(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const o=i.runOutsideAngular(()=>a.auth());if(n&&o.useEmulator(...n),u&&(o.tenantId=u),o.languageCode=p,v&&o.useDeviceLanguage(),t)for(const[d,h]of Object.entries(t))o.settings[d]=h;return r&&o.setPersistence(r),o},[n,u,p,v,t,r]))($,v,r,d,h,m,o,E)),Gw({bufferSize:1,refCount:!1}));if((0,rs.PM)(p))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,md.of)(null);else{F.pipe((0,ZC.P)()).subscribe();const Q=F.pipe((0,qu.w)(Ke=>Ke.getRedirectResult().then(Ot=>Ot,()=>null)),du.iC,Gw({bufferSize:1,refCount:!1})),ue=F.pipe((0,qu.w)(Ke=>new wf.y(Ot=>({unsubscribe:v.runOutsideAngular(()=>Ke.onAuthStateChanged(Vt=>Ot.next(Vt),Vt=>Ot.error(Vt),()=>Ot.complete()))})))),Oe=F.pipe((0,qu.w)(Ke=>new wf.y(Ot=>({unsubscribe:v.runOutsideAngular(()=>Ke.onIdTokenChanged(Vt=>Ot.next(Vt),Vt=>Ot.error(Vt),()=>Ot.complete()))}))));this.authState=Q.pipe(zw(ue),(0,EE.R)(t.outsideAngular),(0,Ry.Q)(t.insideAngular)),this.user=Q.pipe(zw(Oe),(0,EE.R)(t.outsideAngular),(0,Ry.Q)(t.insideAngular)),this.idToken=this.user.pipe((0,qu.w)(Ke=>Ke?(0,Ef.D)(Ke.getIdToken()):(0,md.of)(null))),this.idTokenResult=this.user.pipe((0,qu.w)(Ke=>Ke?(0,Ef.D)(Ke.getIdTokenResult()):(0,md.of)(null))),this.credential=(0,Pb.T)(Q,O,this.authState.pipe((0,qm.h)(Ke=>!Ke))).pipe((0,sh.U)(Ke=>(null==Ke?void 0:Ke.user)?Ke:null),(0,EE.R)(t.outsideAngular),(0,Ry.Q)(t.insideAngular))}return(0,Wu.pX)(this,F,v,{spy:{apply:($,Q,ue)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&ue.then(Oe=>O.next(Oe))}}})}}return a.\u0275fac=function(n){return new(n||a)(g.LFG(Wu.Dh),g.LFG(Wu.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(du.HU),g.LFG(qw,8),g.LFG(Kw,8),g.LFG(Zw,8),g.LFG(CE,8),g.LFG(IE,8),g.LFG(TE,8),g.LFG(QC.nm,8))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),AE=(()=>{class a{constructor(){wE.Z.registerVersion("angularfire",du.q4.full,"auth-compat")}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({providers:[DE]}),a})();var ky=U(2290),JC=U(5867),SE=U(2375);class Np{constructor(i){return i}}const ME="messaging",Lb=new g.OlP("angularfire2.messaging-instances");function Jw(a){return(i,n)=>{if(!du.n1.sync())return null;const u=i.runOutsideAngular(()=>a(n));return new Np(u)}}const Xw={provide:class Qw{constructor(){return(0,du.vb)(ME)}},deps:[[new g.FiY,Lb]]},eC={provide:Np,useFactory:function eI(a,i){if(!du.n1.sync())return null;const n=(0,du.JM)(ME,a,i);return n&&new Np(n)},deps:[[new g.FiY,Lb],Cg.Ot]};let tC=(()=>{class a{constructor(){(0,JC.KN)("angularfire",du.q4.full,"fcm")}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({providers:[eC,Xw,{provide:g.ip1,useValue:du.n1.async,multi:!0}]}),a})();function nC(a,...i){return{ngModule:tC,providers:[{provide:Lb,useFactory:Jw(a),multi:!0,deps:[g.R0b,g.zs3,du.HU,Cg.z6,...i]}]}}const rC=(0,du.u3)(SE.KL,!0);var rI=U(520);let iI=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=g.oAB({type:a,bootstrap:[$w]}),a.\u0275inj=g.cJS({providers:[{provide:Wu.Dh,useValue:zu.firebase}],imports:[[C.b2,Hw,fd,AE,(0,Nb.Cm)(()=>(0,Nb.ad)()),F0,ky.Rh.forRoot(),nC(()=>rC()),(0,Cg.hX)(()=>(0,Cg.ZF)(zu.firebase)),Wu.hO.initializeApp(zu.firebase),rI.JF,gE,aE,cE,Bw]]}),a})();zu.production&&(0,g.G48)(),C.q6().bootstrapModule(iI).catch(a=>console.error(a))},5867:(Bt,Ge,U)=>{U.d(Ge,{Mq:()=>C.getApp,C6:()=>C.getApps,ZF:()=>C.initializeApp,KN:()=>C.registerVersion});var C=U(9681);(0,C.registerVersion)("firebase","9.10.0","app")},8937:(Bt,Ge,U)=>{U.d(Ge,{Xb:()=>C.a5,v0:()=>C.n,e5:()=>C.a6,w7:()=>C.y});var C=U(6018);U(2090),U(9681),U(1877),U(4859)},127:(Bt,Ge,U)=>{U.d(Ge,{Z:()=>C.Z});var C=U(3942);C.Z.registerVersion("firebase","9.10.0","app-compat")},2375:(Bt,Ge,U)=>{U.d(Ge,{KL:()=>dn,Gb:()=>_e});var C=U(5861),me=(U(2833),U(4859)),be=U(8766),Ae=U(2090),Le=U(9681);const K="/firebase-messaging-sw.js",Ve="/firebase-cloud-messaging-push-scope",ze="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",le="google.c.a.c_id",Se="google.c.a.c_l",mt="google.c.a.ts",We="google.c.a.e";var at=(()=>{return(Ie=at||(at={})).PUSH_RECEIVED="push-received",Ie.NOTIFICATION_CLICKED="notification-clicked",at;var Ie})();function He(Ie){const ke=new Uint8Array(Ie);return btoa(String.fromCharCode(...ke)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ze(Ie){const Pt=(Ie+"=".repeat((4-Ie.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ht=atob(Pt),pt=new Uint8Array(Ht.length);for(let re=0;re<Ht.length;++re)pt[re]=Ht.charCodeAt(re);return pt}const Tt="fcm_token_details_db",qe="fcm_token_object_Store";function Ue(Ie){return De.apply(this,arguments)}function De(){return De=(0,C.Z)(function*(Ie){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Tt))return null;let ke=null;return(yield(0,be.X3)(Tt,5,{upgrade:(Ht=(0,C.Z)(function*(pt,re,Re,Xe){var zt;if(re<2||!pt.objectStoreNames.contains(qe))return;const Pn=Xe.objectStore(qe),Dn=yield Pn.index("fcmSenderId").get(Ie);if(yield Pn.clear(),Dn)if(2===re){const $t=Dn;if(!$t.auth||!$t.p256dh||!$t.endpoint)return;ke={token:$t.fcmToken,createTime:null!==(zt=$t.createTime)&&void 0!==zt?zt:Date.now(),subscriptionOptions:{auth:$t.auth,p256dh:$t.p256dh,endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:"string"==typeof $t.vapidKey?$t.vapidKey:He($t.vapidKey)}}}else if(3===re){const $t=Dn;ke={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:He($t.auth),p256dh:He($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:He($t.vapidKey)}}}else if(4===re){const $t=Dn;ke={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:He($t.auth),p256dh:He($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:He($t.vapidKey)}}}}),function(re,Re,Xe,zt){return Ht.apply(this,arguments)})})).close(),yield(0,be.Lj)(Tt),yield(0,be.Lj)("fcm_vapid_details_db"),yield(0,be.Lj)("undefined"),Mt(ke)?ke:null;var Ht}),De.apply(this,arguments)}function Mt(Ie){if(!Ie||!Ie.subscriptionOptions)return!1;const{subscriptionOptions:ke}=Ie;return"number"==typeof Ie.createTime&&Ie.createTime>0&&"string"==typeof Ie.token&&Ie.token.length>0&&"string"==typeof ke.auth&&ke.auth.length>0&&"string"==typeof ke.p256dh&&ke.p256dh.length>0&&"string"==typeof ke.endpoint&&ke.endpoint.length>0&&"string"==typeof ke.swScope&&ke.swScope.length>0&&"string"==typeof ke.vapidKey&&ke.vapidKey.length>0}const se="firebase-messaging-store";let Me=null;function Fe(){return Me||(Me=(0,be.X3)("firebase-messaging-database",1,{upgrade:(Ie,ke)=>{0===ke&&Ie.createObjectStore(se)}})),Me}function tt(Ie){return it.apply(this,arguments)}function it(){return(it=(0,C.Z)(function*(Ie){const ke=Kt(Ie),Ht=yield(yield Fe()).transaction(se).objectStore(se).get(ke);if(Ht)return Ht;{const pt=yield Ue(Ie.appConfig.senderId);if(pt)return yield $e(Ie,pt),pt}})).apply(this,arguments)}function $e(Ie,ke){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,C.Z)(function*(Ie,ke){const Pt=Kt(Ie),pt=(yield Fe()).transaction(se,"readwrite");return yield pt.objectStore(se).put(ke,Pt),yield pt.done,ke})).apply(this,arguments)}function pn(Ie){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,C.Z)(function*(Ie){const ke=Kt(Ie),Ht=(yield Fe()).transaction(se,"readwrite");yield Ht.objectStore(se).delete(ke),yield Ht.done})).apply(this,arguments)}function Kt({appConfig:Ie}){return Ie.appId}const sn=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vn(Ie,ke){return ut.apply(this,arguments)}function ut(){return(ut=(0,C.Z)(function*(Ie,ke){var Pt;const Ht=yield Cn(Ie),pt=qn(ke),re={method:"POST",headers:Ht,body:JSON.stringify(pt)};let Re;try{Re=yield(yield fetch(un(Ie.appConfig),re)).json()}catch(Xe){throw sn.create("token-subscribe-failed",{errorInfo:null===(Pt=Xe)||void 0===Pt?void 0:Pt.toString()})}if(Re.error)throw sn.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw sn.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function yt(Ie,ke){return xe.apply(this,arguments)}function xe(){return(xe=(0,C.Z)(function*(Ie,ke){var Pt;const Ht=yield Cn(Ie),pt=qn(ke.subscriptionOptions),re={method:"PATCH",headers:Ht,body:JSON.stringify(pt)};let Re;try{Re=yield(yield fetch(`${un(Ie.appConfig)}/${ke.token}`,re)).json()}catch(Xe){throw sn.create("token-update-failed",{errorInfo:null===(Pt=Xe)||void 0===Pt?void 0:Pt.toString()})}if(Re.error)throw sn.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw sn.create("token-update-no-token");return Re.token})).apply(this,arguments)}function Be(Ie,ke){return St.apply(this,arguments)}function St(){return(St=(0,C.Z)(function*(Ie,ke){var Pt;const pt={method:"DELETE",headers:yield Cn(Ie)};try{const Re=yield(yield fetch(`${un(Ie.appConfig)}/${ke}`,pt)).json();if(Re.error)throw sn.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(re){throw sn.create("token-unsubscribe-failed",{errorInfo:null===(Pt=re)||void 0===Pt?void 0:Pt.toString()})}})).apply(this,arguments)}function un({projectId:Ie}){return`https://fcmregistrations.googleapis.com/v1/projects/${Ie}/registrations`}function Cn(Ie){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,C.Z)(function*({appConfig:Ie,installations:ke}){const Pt=yield ke.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ie.apiKey,"x-goog-firebase-installations-auth":`FIS ${Pt}`})})).apply(this,arguments)}function qn({p256dh:Ie,auth:ke,endpoint:Pt,vapidKey:Ht}){const pt={web:{endpoint:Pt,auth:ke,p256dh:Ie}};return Ht!==ze&&(pt.web.applicationPubKey=Ht),pt}const Yn=6048e5;function nr(Ie){return wt.apply(this,arguments)}function wt(){return(wt=(0,C.Z)(function*(Ie){const ke=yield ht(Ie.swRegistration,Ie.vapidKey),Pt={vapidKey:Ie.vapidKey,swScope:Ie.swRegistration.scope,endpoint:ke.endpoint,auth:He(ke.getKey("auth")),p256dh:He(ke.getKey("p256dh"))},Ht=yield tt(Ie.firebaseDependencies);if(Ht){if(ve(Ht.subscriptionOptions,Pt))return Date.now()>=Ht.createTime+Yn?cr(Ie,{token:Ht.token,createTime:Date.now(),subscriptionOptions:Pt}):Ht.token;try{yield Be(Ie.firebaseDependencies,Ht.token)}catch(pt){console.warn(pt)}return ir(Ie.firebaseDependencies,Pt)}return ir(Ie.firebaseDependencies,Pt)})).apply(this,arguments)}function ar(Ie){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,C.Z)(function*(Ie){const ke=yield tt(Ie.firebaseDependencies);ke&&(yield Be(Ie.firebaseDependencies,ke.token),yield pn(Ie.firebaseDependencies));const Pt=yield Ie.swRegistration.pushManager.getSubscription();return!Pt||Pt.unsubscribe()})).apply(this,arguments)}function cr(Ie,ke){return An.apply(this,arguments)}function An(){return(An=(0,C.Z)(function*(Ie,ke){try{const Pt=yield yt(Ie.firebaseDependencies,ke),Ht=Object.assign(Object.assign({},ke),{token:Pt,createTime:Date.now()});return yield $e(Ie.firebaseDependencies,Ht),Pt}catch(Pt){throw yield ar(Ie),Pt}})).apply(this,arguments)}function ir(Ie,ke){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,C.Z)(function*(Ie,ke){const Ht={token:yield Vn(Ie,ke),createTime:Date.now(),subscriptionOptions:ke};return yield $e(Ie,Ht),Ht.token})).apply(this,arguments)}function ht(Ie,ke){return ge.apply(this,arguments)}function ge(){return(ge=(0,C.Z)(function*(Ie,ke){return(yield Ie.pushManager.getSubscription())||Ie.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ze(ke)})})).apply(this,arguments)}function ve(Ie,ke){return ke.vapidKey===Ie.vapidKey&&ke.endpoint===Ie.endpoint&&ke.auth===Ie.auth&&ke.p256dh===Ie.p256dh}function It(Ie){const ke={from:Ie.from,collapseKey:Ie.collapse_key,messageId:Ie.fcmMessageId};return function rt(Ie,ke){if(!ke.notification)return;Ie.notification={};const Pt=ke.notification.title;Pt&&(Ie.notification.title=Pt);const Ht=ke.notification.body;Ht&&(Ie.notification.body=Ht);const pt=ke.notification.image;pt&&(Ie.notification.image=pt)}(ke,Ie),function lt(Ie,ke){!ke.data||(Ie.data=ke.data)}(ke,Ie),function Rt(Ie,ke){var Pt,Ht,pt,re,Re;if(!ke.fcmOptions&&!(null===(Pt=ke.notification)||void 0===Pt?void 0:Pt.click_action))return;Ie.fcmOptions={};const Xe=null!==(pt=null===(Ht=ke.fcmOptions)||void 0===Ht?void 0:Ht.link)&&void 0!==pt?pt:null===(re=ke.notification)||void 0===re?void 0:re.click_action;Xe&&(Ie.fcmOptions.link=Xe);const zt=null===(Re=ke.fcmOptions)||void 0===Re?void 0:Re.analytics_label;zt&&(Ie.fcmOptions.analyticsLabel=zt)}(ke,Ie),ke}function jt(Ie){return"object"==typeof Ie&&!!Ie&&le in Ie}function wn(Ie,ke){const Pt=[];for(let Ht=0;Ht<Ie.length;Ht++)Pt.push(Ie.charAt(Ht)),Ht<ke.length&&Pt.push(ke.charAt(Ht));return Pt.join("")}function en(Ie){return sn.create("missing-app-config-values",{valueName:Ie})}wn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bn{constructor(ke,Pt,Ht){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pt=function Qn(Ie){if(!Ie||!Ie.options)throw en("App Configuration Object");if(!Ie.name)throw en("App Name");const ke=["projectId","apiKey","appId","messagingSenderId"],{options:Pt}=Ie;for(const Ht of ke)if(!Pt[Ht])throw en(Ht);return{appName:Ie.name,projectId:Pt.projectId,apiKey:Pt.apiKey,appId:Pt.appId,senderId:Pt.messagingSenderId}}(ke);this.firebaseDependencies={app:ke,appConfig:pt,installations:Pt,analyticsProvider:Ht}}_delete(){return Promise.resolve()}}function Jn(Ie){return cn.apply(this,arguments)}function cn(){return(cn=(0,C.Z)(function*(Ie){var ke;try{Ie.swRegistration=yield navigator.serviceWorker.register(K,{scope:Ve}),Ie.swRegistration.update().catch(()=>{})}catch(Pt){throw sn.create("failed-service-worker-registration",{browserErrorMessage:null===(ke=Pt)||void 0===ke?void 0:ke.message})}})).apply(this,arguments)}function Je(Ie,ke){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,C.Z)(function*(Ie,ke){if(!ke&&!Ie.swRegistration&&(yield Jn(Ie)),ke||!Ie.swRegistration){if(!(ke instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");Ie.swRegistration=ke}})).apply(this,arguments)}function ie(Ie,ke){return oe.apply(this,arguments)}function oe(){return(oe=(0,C.Z)(function*(Ie,ke){ke?Ie.vapidKey=ke:Ie.vapidKey||(Ie.vapidKey=ze)})).apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(Ie,ke){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield ie(Ie,null==ke?void 0:ke.vapidKey),yield Je(Ie,null==ke?void 0:ke.serviceWorkerRegistration),nr(Ie)})).apply(this,arguments)}function de(Ie,ke,Pt){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,C.Z)(function*(Ie,ke,Pt){const Ht=Lt(ke);(yield Ie.firebaseDependencies.analyticsProvider.get()).logEvent(Ht,{message_id:Pt[le],message_name:Pt[Se],message_time:Pt[mt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lt(Ie){switch(Ie){case at.NOTIFICATION_CLICKED:return"notification_open";case at.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hn(){return(Hn=(0,C.Z)(function*(Ie,ke){const Pt=ke.data;if(!Pt.isFirebaseMessaging)return;Ie.onMessageHandler&&Pt.messageType===at.PUSH_RECEIVED&&("function"==typeof Ie.onMessageHandler?Ie.onMessageHandler(It(Pt)):Ie.onMessageHandler.next(It(Pt)));const Ht=Pt.data;jt(Ht)&&"1"===Ht[We]&&(yield de(Ie,Pt.messageType,Ht))})).apply(this,arguments)}const Mn="@firebase/messaging",Nn=Ie=>{const ke=new Bn(Ie.getProvider("app").getImmediate(),Ie.getProvider("installations-internal").getImmediate(),Ie.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Pt=>function At(Ie,ke){return Hn.apply(this,arguments)}(ke,Pt)),ke},Fr=Ie=>{const ke=Ie.getProvider("messaging").getImmediate();return{getToken:Ht=>function ee(Ie,ke){return ae.apply(this,arguments)}(ke,Ht)}};function _e(){return X.apply(this,arguments)}function X(){return(X=(0,C.Z)(function*(){try{yield(0,Ae.eu)()}catch(Ie){return!1}return"undefined"!=typeof window&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function dn(Ie=(0,Le.getApp)()){return _e().then(ke=>{if(!ke)throw sn.create("unsupported-browser")},ke=>{throw sn.create("indexed-db-unsupported")}),(0,Le._getProvider)((0,Ae.m9)(Ie),"messaging").getImmediate()}!function Pe(){(0,Le._registerComponent)(new me.wA("messaging",Nn,"PUBLIC")),(0,Le._registerComponent)(new me.wA("messaging-internal",Fr,"PRIVATE")),(0,Le.registerVersion)(Mn,"0.9.16"),(0,Le.registerVersion)(Mn,"0.9.16","esm2017")}()},1135:(Bt,Ge,U)=>{U.d(Ge,{X:()=>g});var C=U(7579);class g extends C.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const Ae=super._subscribe(be);return!Ae.closed&&be.next(this._value),Ae}getValue(){const{hasError:be,thrownError:Ae,_value:Le}=this;if(be)throw Ae;return this._throwIfClosed(),Le}next(be){super.next(this._value=be)}}},8306:(Bt,Ge,U)=>{U.d(Ge,{y:()=>ne});var C=U(930),g=U(727),me=U(8822),be=U(4671);var K=U(2416),Ve=U(576),ze=U(2806);let ne=(()=>{class We{constructor(at){at&&(this._subscribe=at)}lift(at){const He=new We;return He.source=this,He.operator=at,He}subscribe(at,He,Ze){const Tt=function mt(We){return We&&We instanceof C.Lv||function Se(We){return We&&(0,Ve.m)(We.next)&&(0,Ve.m)(We.error)&&(0,Ve.m)(We.complete)}(We)&&(0,g.Nn)(We)}(at)?at:new C.Hp(at,He,Ze);return(0,ze.x)(()=>{const{operator:bt,source:qe}=this;Tt.add(bt?bt.call(Tt,qe):qe?this._subscribe(Tt):this._trySubscribe(Tt))}),Tt}_trySubscribe(at){try{return this._subscribe(at)}catch(He){at.error(He)}}forEach(at,He){return new(He=le(He))((Ze,Tt)=>{let bt;bt=this.subscribe(qe=>{try{at(qe)}catch(Ue){Tt(Ue),null==bt||bt.unsubscribe()}},Tt,Ze)})}_subscribe(at){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(at)}[me.L](){return this}pipe(...at){return function Le(We){return 0===We.length?be.y:1===We.length?We[0]:function(at){return We.reduce((He,Ze)=>Ze(He),at)}}(at)(this)}toPromise(at){return new(at=le(at))((He,Ze)=>{let Tt;this.subscribe(bt=>Tt=bt,bt=>Ze(bt),()=>He(Tt))})}}return We.create=dt=>new We(dt),We})();function le(We){var dt;return null!==(dt=null!=We?We:K.v.Promise)&&void 0!==dt?dt:Promise}},7579:(Bt,Ge,U)=>{U.d(Ge,{x:()=>K});var C=U(8306),g=U(727);const be=(0,U(3888).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=U(8737),Le=U(2806);let K=(()=>{class ze extends C.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Se=new Ve(this,this);return Se.operator=le,Se}_throwIfClosed(){if(this.closed)throw new be}next(le){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Se=this.observers.slice();for(const mt of Se)mt.next(le)}})}error(le){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Se}=this;for(;Se.length;)Se.shift().error(le)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Se,isStopped:mt,observers:We}=this;return Se||mt?g.Lc:(We.push(le),new g.w0(()=>(0,Ae.P)(We,le)))}_checkFinalizedStatuses(le){const{hasError:Se,thrownError:mt,isStopped:We}=this;Se?le.error(mt):We&&le.complete()}asObservable(){const le=new C.y;return le.source=this,le}}return ze.create=(ne,le)=>new Ve(ne,le),ze})();class Ve extends K{constructor(ne,le){super(),this.destination=ne,this.source=le}next(ne){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Se||Se.call(le,ne)}error(ne){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Se||Se.call(le,ne)}complete(){var ne,le;null===(le=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===le||le.call(ne)}_subscribe(ne){var le,Se;return null!==(Se=null===(le=this.source)||void 0===le?void 0:le.subscribe(ne))&&void 0!==Se?Se:g.Lc}}},930:(Bt,Ge,U)=>{U.d(Ge,{Hp:()=>mt,Lv:()=>Se});var C=U(576),g=U(727),me=U(2416),be=U(7849),Ae=U(5032);const Le=ze("C",void 0,void 0);function ze(Ze,Tt,bt){return{kind:Ze,value:Tt,error:bt}}var ne=U(3410),le=U(2806);class Se extends g.w0{constructor(Tt){super(),this.isStopped=!1,Tt?(this.destination=Tt,(0,g.Nn)(Tt)&&Tt.add(this)):this.destination=He}static create(Tt,bt,qe){return new mt(Tt,bt,qe)}next(Tt){this.isStopped?at(function Ve(Ze){return ze("N",Ze,void 0)}(Tt),this):this._next(Tt)}error(Tt){this.isStopped?at(function K(Ze){return ze("E",void 0,Ze)}(Tt),this):(this.isStopped=!0,this._error(Tt))}complete(){this.isStopped?at(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Tt){this.destination.next(Tt)}_error(Tt){try{this.destination.error(Tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class mt extends Se{constructor(Tt,bt,qe){let Ue;if(super(),(0,C.m)(Tt))Ue=Tt;else if(Tt){let De;({next:Ue,error:bt,complete:qe}=Tt),this&&me.v.useDeprecatedNextContext?(De=Object.create(Tt),De.unsubscribe=()=>this.unsubscribe()):De=Tt,Ue=null==Ue?void 0:Ue.bind(De),bt=null==bt?void 0:bt.bind(De),qe=null==qe?void 0:qe.bind(De)}this.destination={next:Ue?We(Ue):Ae.Z,error:We(null!=bt?bt:dt),complete:qe?We(qe):Ae.Z}}}function We(Ze,Tt){return(...bt)=>{try{Ze(...bt)}catch(qe){me.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(qe):(0,be.h)(qe)}}}function dt(Ze){throw Ze}function at(Ze,Tt){const{onStoppedNotification:bt}=me.v;bt&&ne.z.setTimeout(()=>bt(Ze,Tt))}const He={closed:!0,next:Ae.Z,error:dt,complete:Ae.Z}},727:(Bt,Ge,U)=>{U.d(Ge,{Lc:()=>Le,w0:()=>Ae,Nn:()=>K});var C=U(576);const me=(0,U(3888).d)(ze=>function(le){ze(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Se,mt)=>`${mt+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var be=U(8737);class Ae{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const We of le)We.remove(this);else le.remove(this);const{initialTeardown:Se}=this;if((0,C.m)(Se))try{Se()}catch(We){ne=We instanceof me?We.errors:[We]}const{_teardowns:mt}=this;if(mt){this._teardowns=null;for(const We of mt)try{Ve(We)}catch(dt){ne=null!=ne?ne:[],dt instanceof me?ne=[...ne,...dt.errors]:ne.push(dt)}}if(ne)throw new me(ne)}}add(ne){var le;if(ne&&ne!==this)if(this.closed)Ve(ne);else{if(ne instanceof Ae){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._teardowns=null!==(le=this._teardowns)&&void 0!==le?le:[]).push(ne)}}_hasParent(ne){const{_parentage:le}=this;return le===ne||Array.isArray(le)&&le.includes(ne)}_addParent(ne){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ne),le):le?[le,ne]:ne}_removeParent(ne){const{_parentage:le}=this;le===ne?this._parentage=null:Array.isArray(le)&&(0,be.P)(le,ne)}remove(ne){const{_teardowns:le}=this;le&&(0,be.P)(le,ne),ne instanceof Ae&&ne._removeParent(this)}}Ae.EMPTY=(()=>{const ze=new Ae;return ze.closed=!0,ze})();const Le=Ae.EMPTY;function K(ze){return ze instanceof Ae||ze&&"closed"in ze&&(0,C.m)(ze.remove)&&(0,C.m)(ze.add)&&(0,C.m)(ze.unsubscribe)}function Ve(ze){(0,C.m)(ze)?ze():ze.unsubscribe()}},2416:(Bt,Ge,U)=>{U.d(Ge,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Bt,Ge,U)=>{U.d(Ge,{E:()=>g});const g=new(U(8306).y)(Ae=>Ae.complete())},8996:(Bt,Ge,U)=>{U.d(Ge,{D:()=>Ue});var C=U(8421),g=U(5363),me=U(9468),Le=U(8306),Ve=U(2202),ze=U(576),ne=U(9672);function Se(De,Mt){if(!De)throw new Error("Iterable cannot be null");return new Le.y(ct=>{(0,ne.f)(ct,Mt,()=>{const je=De[Symbol.asyncIterator]();(0,ne.f)(ct,Mt,()=>{je.next().then(se=>{se.done?ct.complete():ct.next(se.value)})},0,!0)})})}var mt=U(3670),We=U(8239),dt=U(1144),at=U(6495),He=U(2206),Ze=U(4532),Tt=U(3260);function Ue(De,Mt){return Mt?function qe(De,Mt){if(null!=De){if((0,mt.c)(De))return function be(De,Mt){return(0,C.Xf)(De).pipe((0,me.R)(Mt),(0,g.Q)(Mt))}(De,Mt);if((0,dt.z)(De))return function K(De,Mt){return new Le.y(ct=>{let je=0;return Mt.schedule(function(){je===De.length?ct.complete():(ct.next(De[je++]),ct.closed||this.schedule())})})}(De,Mt);if((0,We.t)(De))return function Ae(De,Mt){return(0,C.Xf)(De).pipe((0,me.R)(Mt),(0,g.Q)(Mt))}(De,Mt);if((0,He.D)(De))return Se(De,Mt);if((0,at.T)(De))return function le(De,Mt){return new Le.y(ct=>{let je;return(0,ne.f)(ct,Mt,()=>{je=De[Ve.h](),(0,ne.f)(ct,Mt,()=>{let se,Me;try{({value:se,done:Me}=je.next())}catch(Fe){return void ct.error(Fe)}Me?ct.complete():ct.next(se)},0,!0)}),()=>(0,ze.m)(null==je?void 0:je.return)&&je.return()})}(De,Mt);if((0,Tt.L)(De))return function bt(De,Mt){return Se((0,Tt.Q)(De),Mt)}(De,Mt)}throw(0,Ze.z)(De)}(De,Mt):(0,C.Xf)(De)}},8421:(Bt,Ge,U)=>{U.d(Ge,{Xf:()=>mt});var C=U(5987),g=U(1144),me=U(8239),be=U(8306),Ae=U(3670),Le=U(2206),K=U(4532),Ve=U(6495),ze=U(3260),ne=U(576),le=U(7849),Se=U(8822);function mt(qe){if(qe instanceof be.y)return qe;if(null!=qe){if((0,Ae.c)(qe))return function We(qe){return new be.y(Ue=>{const De=qe[Se.L]();if((0,ne.m)(De.subscribe))return De.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,g.z)(qe))return function dt(qe){return new be.y(Ue=>{for(let De=0;De<qe.length&&!Ue.closed;De++)Ue.next(qe[De]);Ue.complete()})}(qe);if((0,me.t)(qe))return function at(qe){return new be.y(Ue=>{qe.then(De=>{Ue.closed||(Ue.next(De),Ue.complete())},De=>Ue.error(De)).then(null,le.h)})}(qe);if((0,Le.D)(qe))return Ze(qe);if((0,Ve.T)(qe))return function He(qe){return new be.y(Ue=>{for(const De of qe)if(Ue.next(De),Ue.closed)return;Ue.complete()})}(qe);if((0,ze.L)(qe))return function Tt(qe){return Ze((0,ze.Q)(qe))}(qe)}throw(0,K.z)(qe)}function Ze(qe){return new be.y(Ue=>{(function bt(qe,Ue){var De,Mt,ct,je;return(0,C.mG)(this,void 0,void 0,function*(){try{for(De=(0,C.KL)(qe);!(Mt=yield De.next()).done;)if(Ue.next(Mt.value),Ue.closed)return}catch(se){ct={error:se}}finally{try{Mt&&!Mt.done&&(je=De.return)&&(yield je.call(De))}finally{if(ct)throw ct.error}}Ue.complete()})})(qe,Ue).catch(De=>Ue.error(De))})}},6451:(Bt,Ge,U)=>{U.d(Ge,{T:()=>Le});var C=U(8189),g=U(8421),me=U(515),be=U(7669),Ae=U(8996);function Le(...K){const Ve=(0,be.yG)(K),ze=(0,be._6)(K,1/0),ne=K;return ne.length?1===ne.length?(0,g.Xf)(ne[0]):(0,C.J)(ze)((0,Ae.D)(ne,Ve)):me.E}},9646:(Bt,Ge,U)=>{U.d(Ge,{of:()=>me});var C=U(7669),g=U(8996);function me(...be){const Ae=(0,C.yG)(be);return(0,g.D)(be,Ae)}},5403:(Bt,Ge,U)=>{U.d(Ge,{Q:()=>g});var C=U(930);class g extends C.Lv{constructor(be,Ae,Le,K,Ve){super(be),this.onFinalize=Ve,this._next=Ae?function(ze){try{Ae(ze)}catch(ne){be.error(ne)}}:super._next,this._error=K?function(ze){try{K(ze)}catch(ne){be.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(ze){be.error(ze)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}},4351:(Bt,Ge,U)=>{U.d(Ge,{b:()=>me});var C=U(5577),g=U(576);function me(be,Ae){return(0,g.m)(Ae)?(0,C.z)(be,Ae,1):(0,C.z)(be,1)}},6590:(Bt,Ge,U)=>{U.d(Ge,{d:()=>me});var C=U(4482),g=U(5403);function me(be){return(0,C.e)((Ae,Le)=>{let K=!1;Ae.subscribe(new g.Q(Le,Ve=>{K=!0,Le.next(Ve)},()=>{K||Le.next(be),Le.complete()}))})}},9300:(Bt,Ge,U)=>{U.d(Ge,{h:()=>me});var C=U(4482),g=U(5403);function me(be,Ae){return(0,C.e)((Le,K)=>{let Ve=0;Le.subscribe(new g.Q(K,ze=>be.call(Ae,ze,Ve++)&&K.next(ze)))})}},590:(Bt,Ge,U)=>{U.d(Ge,{P:()=>K});var C=U(6805),g=U(9300),me=U(5698),be=U(6590),Ae=U(8068),Le=U(4671);function K(Ve,ze){const ne=arguments.length>=2;return le=>le.pipe(Ve?(0,g.h)((Se,mt)=>Ve(Se,mt,le)):Le.y,(0,me.q)(1),ne?(0,be.d)(ze):(0,Ae.T)(()=>new C.K))}},4004:(Bt,Ge,U)=>{U.d(Ge,{U:()=>me});var C=U(4482),g=U(5403);function me(be,Ae){return(0,C.e)((Le,K)=>{let Ve=0;Le.subscribe(new g.Q(K,ze=>{K.next(be.call(Ae,ze,Ve++))}))})}},8189:(Bt,Ge,U)=>{U.d(Ge,{J:()=>me});var C=U(5577),g=U(4671);function me(be=1/0){return(0,C.z)(g.y,be)}},5577:(Bt,Ge,U)=>{U.d(Ge,{z:()=>Ve});var C=U(4004),g=U(8421),me=U(4482),be=U(9672),Ae=U(5403),K=U(576);function Ve(ze,ne,le=1/0){return(0,K.m)(ne)?Ve((Se,mt)=>(0,C.U)((We,dt)=>ne(Se,We,mt,dt))((0,g.Xf)(ze(Se,mt))),le):("number"==typeof ne&&(le=ne),(0,me.e)((Se,mt)=>function Le(ze,ne,le,Se,mt,We,dt,at){const He=[];let Ze=0,Tt=0,bt=!1;const qe=()=>{bt&&!He.length&&!Ze&&ne.complete()},Ue=Mt=>Ze<Se?De(Mt):He.push(Mt),De=Mt=>{We&&ne.next(Mt),Ze++;let ct=!1;(0,g.Xf)(le(Mt,Tt++)).subscribe(new Ae.Q(ne,je=>{null==mt||mt(je),We?Ue(je):ne.next(je)},()=>{ct=!0},void 0,()=>{if(ct)try{for(Ze--;He.length&&Ze<Se;){const je=He.shift();dt?(0,be.f)(ne,dt,()=>De(je)):De(je)}qe()}catch(je){ne.error(je)}}))};return ze.subscribe(new Ae.Q(ne,Ue,()=>{bt=!0,qe()})),()=>{null==at||at()}}(Se,mt,ze,le)))}},5363:(Bt,Ge,U)=>{U.d(Ge,{Q:()=>be});var C=U(9672),g=U(4482),me=U(5403);function be(Ae,Le=0){return(0,g.e)((K,Ve)=>{K.subscribe(new me.Q(Ve,ze=>(0,C.f)(Ve,Ae,()=>Ve.next(ze),Le),()=>(0,C.f)(Ve,Ae,()=>Ve.complete(),Le),ze=>(0,C.f)(Ve,Ae,()=>Ve.error(ze),Le)))})}},3099:(Bt,Ge,U)=>{U.d(Ge,{B:()=>Le});var C=U(8996),g=U(5698),me=U(7579),be=U(930),Ae=U(4482);function Le(Ve={}){const{connector:ze=(()=>new me.x),resetOnError:ne=!0,resetOnComplete:le=!0,resetOnRefCountZero:Se=!0}=Ve;return mt=>{let We=null,dt=null,at=null,He=0,Ze=!1,Tt=!1;const bt=()=>{null==dt||dt.unsubscribe(),dt=null},qe=()=>{bt(),We=at=null,Ze=Tt=!1},Ue=()=>{const De=We;qe(),null==De||De.unsubscribe()};return(0,Ae.e)((De,Mt)=>{He++,!Tt&&!Ze&&bt();const ct=at=null!=at?at:ze();Mt.add(()=>{He--,0===He&&!Tt&&!Ze&&(dt=K(Ue,Se))}),ct.subscribe(Mt),We||(We=new be.Hp({next:je=>ct.next(je),error:je=>{Tt=!0,bt(),dt=K(qe,ne,je),ct.error(je)},complete:()=>{Ze=!0,bt(),dt=K(qe,le),ct.complete()}}),(0,C.D)(De).subscribe(We))})(mt)}}function K(Ve,ze,...ne){return!0===ze?(Ve(),null):!1===ze?null:ze(...ne).pipe((0,g.q)(1)).subscribe(()=>Ve())}},9468:(Bt,Ge,U)=>{U.d(Ge,{R:()=>g});var C=U(4482);function g(me,be=0){return(0,C.e)((Ae,Le)=>{Le.add(me.schedule(()=>Ae.subscribe(Le),be))})}},3900:(Bt,Ge,U)=>{U.d(Ge,{w:()=>be});var C=U(8421),g=U(4482),me=U(5403);function be(Ae,Le){return(0,g.e)((K,Ve)=>{let ze=null,ne=0,le=!1;const Se=()=>le&&!ze&&Ve.complete();K.subscribe(new me.Q(Ve,mt=>{null==ze||ze.unsubscribe();let We=0;const dt=ne++;(0,C.Xf)(Ae(mt,dt)).subscribe(ze=new me.Q(Ve,at=>Ve.next(Le?Le(mt,at,dt,We++):at),()=>{ze=null,Se()}))},()=>{le=!0,Se()}))})}},5698:(Bt,Ge,U)=>{U.d(Ge,{q:()=>be});var C=U(515),g=U(4482),me=U(5403);function be(Ae){return Ae<=0?()=>C.E:(0,g.e)((Le,K)=>{let Ve=0;Le.subscribe(new me.Q(K,ze=>{++Ve<=Ae&&(K.next(ze),Ae<=Ve&&K.complete())}))})}},8505:(Bt,Ge,U)=>{U.d(Ge,{b:()=>Ae});var C=U(576),g=U(4482),me=U(5403),be=U(4671);function Ae(Le,K,Ve){const ze=(0,C.m)(Le)||K||Ve?{next:Le,error:K,complete:Ve}:Le;return ze?(0,g.e)((ne,le)=>{var Se;null===(Se=ze.subscribe)||void 0===Se||Se.call(ze);let mt=!0;ne.subscribe(new me.Q(le,We=>{var dt;null===(dt=ze.next)||void 0===dt||dt.call(ze,We),le.next(We)},()=>{var We;mt=!1,null===(We=ze.complete)||void 0===We||We.call(ze),le.complete()},We=>{var dt;mt=!1,null===(dt=ze.error)||void 0===dt||dt.call(ze,We),le.error(We)},()=>{var We,dt;mt&&(null===(We=ze.unsubscribe)||void 0===We||We.call(ze)),null===(dt=ze.finalize)||void 0===dt||dt.call(ze)}))}):be.y}},8068:(Bt,Ge,U)=>{U.d(Ge,{T:()=>be});var C=U(6805),g=U(4482),me=U(5403);function be(Le=Ae){return(0,g.e)((K,Ve)=>{let ze=!1;K.subscribe(new me.Q(Ve,ne=>{ze=!0,Ve.next(ne)},()=>ze?Ve.complete():Ve.error(Le())))})}function Ae(){return new C.K}},6063:(Bt,Ge,U)=>{U.d(Ge,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},3410:(Bt,Ge,U)=>{U.d(Ge,{z:()=>C});const C={setTimeout(...g){const{delegate:me}=C;return((null==me?void 0:me.setTimeout)||setTimeout)(...g)},clearTimeout(g){const{delegate:me}=C;return((null==me?void 0:me.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(Bt,Ge,U)=>{U.d(Ge,{h:()=>g});const g=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Bt,Ge,U)=>{U.d(Ge,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Bt,Ge,U)=>{U.d(Ge,{K:()=>g});const g=(0,U(3888).d)(me=>function(){me(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Bt,Ge,U)=>{U.d(Ge,{_6:()=>Le,jO:()=>be,yG:()=>Ae});var C=U(576);function me(K){return K[K.length-1]}function be(K){return(0,C.m)(me(K))?K.pop():void 0}function Ae(K){return function g(K){return K&&(0,C.m)(K.schedule)}(me(K))?K.pop():void 0}function Le(K,Ve){return"number"==typeof me(K)?K.pop():Ve}},4742:(Bt,Ge,U)=>{U.d(Ge,{D:()=>Ae});const{isArray:C}=Array,{getPrototypeOf:g,prototype:me,keys:be}=Object;function Ae(K){if(1===K.length){const Ve=K[0];if(C(Ve))return{args:Ve,keys:null};if(function Le(K){return K&&"object"==typeof K&&g(K)===me}(Ve)){const ze=be(Ve);return{args:ze.map(ne=>Ve[ne]),keys:ze}}}return{args:K,keys:null}}},8737:(Bt,Ge,U)=>{function C(g,me){if(g){const be=g.indexOf(me);0<=be&&g.splice(be,1)}}U.d(Ge,{P:()=>C})},3888:(Bt,Ge,U)=>{function C(g){const be=g(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}U.d(Ge,{d:()=>C})},1810:(Bt,Ge,U)=>{function C(g,me){return g.reduce((be,Ae,Le)=>(be[Ae]=me[Le],be),{})}U.d(Ge,{n:()=>C})},2806:(Bt,Ge,U)=>{U.d(Ge,{x:()=>me,O:()=>be});var C=U(2416);let g=null;function me(Ae){if(C.v.useDeprecatedSynchronousErrorHandling){const Le=!g;if(Le&&(g={errorThrown:!1,error:null}),Ae(),Le){const{errorThrown:K,error:Ve}=g;if(g=null,K)throw Ve}}else Ae()}function be(Ae){C.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=Ae)}},9672:(Bt,Ge,U)=>{function C(g,me,be,Ae=0,Le=!1){const K=me.schedule(function(){be(),Le?g.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(g.add(K),!Le)return K}U.d(Ge,{f:()=>C})},4671:(Bt,Ge,U)=>{function C(g){return g}U.d(Ge,{y:()=>C})},1144:(Bt,Ge,U)=>{U.d(Ge,{z:()=>C});const C=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(Bt,Ge,U)=>{U.d(Ge,{D:()=>g});var C=U(576);function g(me){return Symbol.asyncIterator&&(0,C.m)(null==me?void 0:me[Symbol.asyncIterator])}},576:(Bt,Ge,U)=>{function C(g){return"function"==typeof g}U.d(Ge,{m:()=>C})},3670:(Bt,Ge,U)=>{U.d(Ge,{c:()=>me});var C=U(8822),g=U(576);function me(be){return(0,g.m)(be[C.L])}},6495:(Bt,Ge,U)=>{U.d(Ge,{T:()=>me});var C=U(2202),g=U(576);function me(be){return(0,g.m)(null==be?void 0:be[C.h])}},8239:(Bt,Ge,U)=>{U.d(Ge,{t:()=>g});var C=U(576);function g(me){return(0,C.m)(null==me?void 0:me.then)}},3260:(Bt,Ge,U)=>{U.d(Ge,{Q:()=>me,L:()=>be});var C=U(5987),g=U(576);function me(Ae){return(0,C.FC)(this,arguments,function*(){const K=Ae.getReader();try{for(;;){const{value:Ve,done:ze}=yield(0,C.qq)(K.read());if(ze)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(Ve)}}finally{K.releaseLock()}})}function be(Ae){return(0,g.m)(null==Ae?void 0:Ae.getReader)}},4482:(Bt,Ge,U)=>{U.d(Ge,{A:()=>g,e:()=>me});var C=U(576);function g(be){return(0,C.m)(null==be?void 0:be.lift)}function me(be){return Ae=>{if(g(Ae))return Ae.lift(function(Le){try{return be(Le,this)}catch(K){this.error(K)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Bt,Ge,U)=>{U.d(Ge,{Z:()=>be});var C=U(4004);const{isArray:g}=Array;function be(Ae){return(0,C.U)(Le=>function me(Ae,Le){return g(Le)?Ae(...Le):Ae(Le)}(Ae,Le))}},5032:(Bt,Ge,U)=>{function C(){}U.d(Ge,{Z:()=>C})},7849:(Bt,Ge,U)=>{U.d(Ge,{h:()=>me});var C=U(2416),g=U(3410);function me(be){g.z.setTimeout(()=>{const{onUnhandledError:Ae}=C.v;if(!Ae)throw be;Ae(be)})}},4532:(Bt,Ge,U)=>{function C(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ge,{z:()=>C})},5987:(Bt,Ge,U)=>{function Ve(se,Me,Fe,tt){return new(Fe||(Fe=Promise))(function($e,Qt){function pn(rn){try{Kt(tt.next(rn))}catch(sn){Qt(sn)}}function Wn(rn){try{Kt(tt.throw(rn))}catch(sn){Qt(sn)}}function Kt(rn){rn.done?$e(rn.value):function it($e){return $e instanceof Fe?$e:new Fe(function(Qt){Qt($e)})}(rn.value).then(pn,Wn)}Kt((tt=tt.apply(se,Me||[])).next())})}function He(se){return this instanceof He?(this.v=se,this):new He(se)}function Ze(se,Me,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,tt=Fe.apply(se,Me||[]),$e=[];return it={},Qt("next"),Qt("throw"),Qt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Qt(Vn){tt[Vn]&&(it[Vn]=function(ut){return new Promise(function(yt,xe){$e.push([Vn,ut,yt,xe])>1||pn(Vn,ut)})})}function pn(Vn,ut){try{!function Wn(Vn){Vn.value instanceof He?Promise.resolve(Vn.value.v).then(Kt,rn):sn($e[0][2],Vn)}(tt[Vn](ut))}catch(yt){sn($e[0][3],yt)}}function Kt(Vn){pn("next",Vn)}function rn(Vn){pn("throw",Vn)}function sn(Vn,ut){Vn(ut),$e.shift(),$e.length&&pn($e[0][0],$e[0][1])}}function bt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Me=se[Symbol.asyncIterator];return Me?Me.call(se):(se=function Se(se){var Me="function"==typeof Symbol&&Symbol.iterator,Fe=Me&&se[Me],tt=0;if(Fe)return Fe.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&tt>=se.length&&(se=void 0),{value:se&&se[tt++],done:!se}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Fe={},tt("next"),tt("throw"),tt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function tt($e){Fe[$e]=se[$e]&&function(Qt){return new Promise(function(pn,Wn){!function it($e,Qt,pn,Wn){Promise.resolve(Wn).then(function(Kt){$e({value:Kt,done:pn})},Qt)}(pn,Wn,(Qt=se[$e](Qt)).done,Qt.value)})}}}U.d(Ge,{mG:()=>Ve,qq:()=>He,FC:()=>Ze,KL:()=>bt})},1777:(Bt,Ge,U)=>{U.d(Ge,{l3:()=>me,_j:()=>C,LC:()=>g,ZN:()=>Ze,jt:()=>Ae,vP:()=>K,SB:()=>ze,oB:()=>Ve,eR:()=>le,X$:()=>be,ZE:()=>Tt,k1:()=>bt});class C{}class g{}const me="*";function be(qe,Ue){return{type:7,name:qe,definitions:Ue,options:{}}}function Ae(qe,Ue=null){return{type:4,styles:Ue,timings:qe}}function K(qe,Ue=null){return{type:2,steps:qe,options:Ue}}function Ve(qe){return{type:6,styles:qe,offset:null}}function ze(qe,Ue,De){return{type:0,name:qe,styles:Ue,options:De}}function le(qe,Ue,De=null){return{type:1,expr:qe,animation:Ue,options:De}}function He(qe){Promise.resolve(null).then(qe)}class Ze{constructor(Ue=0,De=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ue+De}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ue=>Ue()),this._onDoneFns=[])}onStart(Ue){this._onStartFns.push(Ue)}onDone(Ue){this._onDoneFns.push(Ue)}onDestroy(Ue){this._onDestroyFns.push(Ue)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){He(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ue=>Ue()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ue=>Ue()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ue){this._position=this.totalTime?Ue*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ue){const De="start"==Ue?this._onStartFns:this._onDoneFns;De.forEach(Mt=>Mt()),De.length=0}}class Tt{constructor(Ue){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ue;let De=0,Mt=0,ct=0;const je=this.players.length;0==je?He(()=>this._onFinish()):this.players.forEach(se=>{se.onDone(()=>{++De==je&&this._onFinish()}),se.onDestroy(()=>{++Mt==je&&this._onDestroy()}),se.onStart(()=>{++ct==je&&this._onStart()})}),this.totalTime=this.players.reduce((se,Me)=>Math.max(se,Me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ue=>Ue()),this._onDoneFns=[])}init(){this.players.forEach(Ue=>Ue.init())}onStart(Ue){this._onStartFns.push(Ue)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ue=>Ue()),this._onStartFns=[])}onDone(Ue){this._onDoneFns.push(Ue)}onDestroy(Ue){this._onDestroyFns.push(Ue)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ue=>Ue.play())}pause(){this.players.forEach(Ue=>Ue.pause())}restart(){this.players.forEach(Ue=>Ue.restart())}finish(){this._onFinish(),this.players.forEach(Ue=>Ue.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ue=>Ue.destroy()),this._onDestroyFns.forEach(Ue=>Ue()),this._onDestroyFns=[])}reset(){this.players.forEach(Ue=>Ue.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ue){const De=Ue*this.totalTime;this.players.forEach(Mt=>{const ct=Mt.totalTime?Math.min(1,De/Mt.totalTime):1;Mt.setPosition(ct)})}getPosition(){const Ue=this.players.reduce((De,Mt)=>null===De||Mt.totalTime>De.totalTime?Mt:De,null);return null!=Ue?Ue.getPosition():0}beforeDestroy(){this.players.forEach(Ue=>{Ue.beforeDestroy&&Ue.beforeDestroy()})}triggerCallback(Ue){const De="start"==Ue?this._onStartFns:this._onDoneFns;De.forEach(Mt=>Mt()),De.length=0}}const bt="!"},9808:(Bt,Ge,U)=>{U.d(Ge,{mr:()=>Tt,ez:()=>Oi,K0:()=>K,Do:()=>qe,V_:()=>ne,Ye:()=>Ue,S$:()=>He,mk:()=>ti,sg:()=>$r,O5:()=>he,PC:()=>Vr,b0:()=>bt,lw:()=>Ve,EM:()=>Io,JF:()=>Tr,NF:()=>Mr,PM:()=>Qi,w_:()=>Le,bD:()=>Gi,q:()=>me,Mx:()=>ji,HT:()=>Ae});var C=U(5e3);let g=null;function me(){return g}function Ae(L){g||(g=L)}class Le{}const K=new C.OlP("DocumentToken");let Ve=(()=>{class L{historyGo(S){throw new Error("Not implemented")}}return L.\u0275fac=function(S){return new(S||L)},L.\u0275prov=C.Yz7({token:L,factory:function(){return function ze(){return(0,C.LFG)(le)}()},providedIn:"platform"}),L})();const ne=new C.OlP("Location Initialized");let le=(()=>{class L extends Ve{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return me().getBaseHref(this._doc)}onPopState(S){const R=me().getGlobalEventTarget(this._doc,"window");return R.addEventListener("popstate",S,!1),()=>R.removeEventListener("popstate",S)}onHashChange(S){const R=me().getGlobalEventTarget(this._doc,"window");return R.addEventListener("hashchange",S,!1),()=>R.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,R,H){Se()?this._history.pushState(S,R,H):this.location.hash=H}replaceState(S,R,H){Se()?this._history.replaceState(S,R,H):this.location.hash=H}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return L.\u0275fac=function(S){return new(S||L)(C.LFG(K))},L.\u0275prov=C.Yz7({token:L,factory:function(){return function mt(){return new le((0,C.LFG)(K))}()},providedIn:"platform"}),L})();function Se(){return!!window.history.pushState}function We(L,W){if(0==L.length)return W;if(0==W.length)return L;let S=0;return L.endsWith("/")&&S++,W.startsWith("/")&&S++,2==S?L+W.substring(1):1==S?L+W:L+"/"+W}function dt(L){const W=L.match(/#|\?|$/),S=W&&W.index||L.length;return L.slice(0,S-("/"===L[S-1]?1:0))+L.slice(S)}function at(L){return L&&"?"!==L[0]?"?"+L:L}let He=(()=>{class L{historyGo(S){throw new Error("Not implemented")}}return L.\u0275fac=function(S){return new(S||L)},L.\u0275prov=C.Yz7({token:L,factory:function(){return function Ze(L){const W=(0,C.LFG)(K).location;return new bt((0,C.LFG)(Ve),W&&W.origin||"")}()},providedIn:"root"}),L})();const Tt=new C.OlP("appBaseHref");let bt=(()=>{class L extends He{constructor(S,R){if(super(),this._platformLocation=S,this._removeListenerFns=[],null==R&&(R=this._platformLocation.getBaseHrefFromDOM()),null==R)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=R}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return We(this._baseHref,S)}path(S=!1){const R=this._platformLocation.pathname+at(this._platformLocation.search),H=this._platformLocation.hash;return H&&S?`${R}${H}`:R}pushState(S,R,H,J){const ce=this.prepareExternalUrl(H+at(J));this._platformLocation.pushState(S,R,ce)}replaceState(S,R,H,J){const ce=this.prepareExternalUrl(H+at(J));this._platformLocation.replaceState(S,R,ce)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var R,H;null===(H=(R=this._platformLocation).historyGo)||void 0===H||H.call(R,S)}}return L.\u0275fac=function(S){return new(S||L)(C.LFG(Ve),C.LFG(Tt,8))},L.\u0275prov=C.Yz7({token:L,factory:L.\u0275fac}),L})(),qe=(()=>{class L extends He{constructor(S,R){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=R&&(this._baseHref=R)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let R=this._platformLocation.hash;return null==R&&(R="#"),R.length>0?R.substring(1):R}prepareExternalUrl(S){const R=We(this._baseHref,S);return R.length>0?"#"+R:R}pushState(S,R,H,J){let ce=this.prepareExternalUrl(H+at(J));0==ce.length&&(ce=this._platformLocation.pathname),this._platformLocation.pushState(S,R,ce)}replaceState(S,R,H,J){let ce=this.prepareExternalUrl(H+at(J));0==ce.length&&(ce=this._platformLocation.pathname),this._platformLocation.replaceState(S,R,ce)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var R,H;null===(H=(R=this._platformLocation).historyGo)||void 0===H||H.call(R,S)}}return L.\u0275fac=function(S){return new(S||L)(C.LFG(Ve),C.LFG(Tt,8))},L.\u0275prov=C.Yz7({token:L,factory:L.\u0275fac}),L})(),Ue=(()=>{class L{constructor(S,R){this._subject=new C.vpe,this._urlChangeListeners=[],this._platformStrategy=S;const H=this._platformStrategy.getBaseHref();this._platformLocation=R,this._baseHref=dt(ct(H)),this._platformStrategy.onPopState(J=>{this._subject.emit({url:this.path(!0),pop:!0,state:J.state,type:J.type})})}path(S=!1){return this.normalize(this._platformStrategy.path(S))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(S,R=""){return this.path()==this.normalize(S+at(R))}normalize(S){return L.stripTrailingSlash(function Mt(L,W){return L&&W.startsWith(L)?W.substring(L.length):W}(this._baseHref,ct(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._platformStrategy.prepareExternalUrl(S)}go(S,R="",H=null){this._platformStrategy.pushState(H,"",S,R),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+at(R)),H)}replaceState(S,R="",H=null){this._platformStrategy.replaceState(H,"",S,R),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+at(R)),H)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(S=0){var R,H;null===(H=(R=this._platformStrategy).historyGo)||void 0===H||H.call(R,S)}onUrlChange(S){this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(R=>{this._notifyUrlChangeListeners(R.url,R.state)}))}_notifyUrlChangeListeners(S="",R){this._urlChangeListeners.forEach(H=>H(S,R))}subscribe(S,R,H){return this._subject.subscribe({next:S,error:R,complete:H})}}return L.normalizeQueryParams=at,L.joinWithSlash=We,L.stripTrailingSlash=dt,L.\u0275fac=function(S){return new(S||L)(C.LFG(He),C.LFG(Ve))},L.\u0275prov=C.Yz7({token:L,factory:function(){return function De(){return new Ue((0,C.LFG)(He),(0,C.LFG)(Ve))}()},providedIn:"root"}),L})();function ct(L){return L.replace(/\/index.html$/,"")}var Me=(()=>((Me=Me||{})[Me.Zero=0]="Zero",Me[Me.One=1]="One",Me[Me.Two=2]="Two",Me[Me.Few=3]="Few",Me[Me.Many=4]="Many",Me[Me.Other=5]="Other",Me))();const nr=C.kL8;class $t{}let Hr=(()=>{class L extends $t{constructor(S){super(),this.locale=S}getPluralCategory(S,R){switch(nr(R||this.locale)(S)){case Me.Zero:return"zero";case Me.One:return"one";case Me.Two:return"two";case Me.Few:return"few";case Me.Many:return"many";default:return"other"}}}return L.\u0275fac=function(S){return new(S||L)(C.LFG(C.soG))},L.\u0275prov=C.Yz7({token:L,factory:L.\u0275fac}),L})();function ji(L,W){W=encodeURIComponent(W);for(const S of L.split(";")){const R=S.indexOf("="),[H,J]=-1==R?[S,""]:[S.slice(0,R),S.slice(R+1)];if(H.trim()===W)return decodeURIComponent(J)}return null}let ti=(()=>{class L{constructor(S,R,H,J){this._iterableDiffers=S,this._keyValueDiffers=R,this._ngEl=H,this._renderer=J,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(S){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof S?S.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(S){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof S?S.split(/\s+/):S,this._rawClass&&((0,C.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const S=this._iterableDiffer.diff(this._rawClass);S&&this._applyIterableChanges(S)}else if(this._keyValueDiffer){const S=this._keyValueDiffer.diff(this._rawClass);S&&this._applyKeyValueChanges(S)}}_applyKeyValueChanges(S){S.forEachAddedItem(R=>this._toggleClass(R.key,R.currentValue)),S.forEachChangedItem(R=>this._toggleClass(R.key,R.currentValue)),S.forEachRemovedItem(R=>{R.previousValue&&this._toggleClass(R.key,!1)})}_applyIterableChanges(S){S.forEachAddedItem(R=>{if("string"!=typeof R.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.AaK)(R.item)}`);this._toggleClass(R.item,!0)}),S.forEachRemovedItem(R=>this._toggleClass(R.item,!1))}_applyClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(R=>this._toggleClass(R,!0)):Object.keys(S).forEach(R=>this._toggleClass(R,!!S[R])))}_removeClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(R=>this._toggleClass(R,!1)):Object.keys(S).forEach(R=>this._toggleClass(R,!1)))}_toggleClass(S,R){(S=S.trim())&&S.split(/\s+/g).forEach(H=>{R?this._renderer.addClass(this._ngEl.nativeElement,H):this._renderer.removeClass(this._ngEl.nativeElement,H)})}}return L.\u0275fac=function(S){return new(S||L)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))},L.\u0275dir=C.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),L})();class _i{constructor(W,S,R,H){this.$implicit=W,this.ngForOf=S,this.index=R,this.count=H}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $r=(()=>{class L{constructor(S,R,H){this._viewContainer=S,this._template=R,this._differs=H,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const R=this._viewContainer;S.forEachOperation((H,J,ce)=>{if(null==H.previousIndex)R.createEmbeddedView(this._template,new _i(H.item,this._ngForOf,-1,-1),null===ce?void 0:ce);else if(null==ce)R.remove(null===J?void 0:J);else if(null!==J){const Te=R.get(J);R.move(Te,ce),ni(Te,H)}});for(let H=0,J=R.length;H<J;H++){const Te=R.get(H).context;Te.index=H,Te.count=J,Te.ngForOf=this._ngForOf}S.forEachIdentityChange(H=>{ni(R.get(H.currentIndex),H)})}static ngTemplateContextGuard(S,R){return!0}}return L.\u0275fac=function(S){return new(S||L)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},L.\u0275dir=C.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L})();function ni(L,W){L.context.$implicit=W.item}let he=(()=>{class L{constructor(S,R){this._viewContainer=S,this._context=new Ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=R}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ft("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ft("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,R){return!0}}return L.\u0275fac=function(S){return new(S||L)(C.Y36(C.s_b),C.Y36(C.Rgc))},L.\u0275dir=C.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),L})();class Ee{constructor(){this.$implicit=null,this.ngIf=null}}function ft(L,W){if(W&&!W.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,C.AaK)(W)}'.`)}let Vr=(()=>{class L{constructor(S,R,H){this._ngEl=S,this._differs=R,this._renderer=H,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,R){const[H,J]=S.split(".");null!=(R=null!=R&&J?`${R}${J}`:R)?this._renderer.setStyle(this._ngEl.nativeElement,H,R):this._renderer.removeStyle(this._ngEl.nativeElement,H)}_applyChanges(S){S.forEachRemovedItem(R=>this._setStyle(R.key,null)),S.forEachAddedItem(R=>this._setStyle(R.key,R.currentValue)),S.forEachChangedItem(R=>this._setStyle(R.key,R.currentValue))}}return L.\u0275fac=function(S){return new(S||L)(C.Y36(C.SBq),C.Y36(C.aQg),C.Y36(C.Qsj))},L.\u0275dir=C.lG2({type:L,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),L})(),Oi=(()=>{class L{}return L.\u0275fac=function(S){return new(S||L)},L.\u0275mod=C.oAB({type:L}),L.\u0275inj=C.cJS({providers:[{provide:$t,useClass:Hr}]}),L})();const Gi="browser";function Mr(L){return L===Gi}function Qi(L){return"server"===L}let Io=(()=>{class L{}return L.\u0275prov=(0,C.Yz7)({token:L,providedIn:"root",factory:()=>new Kn((0,C.LFG)(K),window)}),L})();class Kn{constructor(W,S){this.document=W,this.window=S,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const S=function ws(L,W){const S=L.getElementById(W)||L.getElementsByName(W)[0];if(S)return S;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const R=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let H=R.currentNode;for(;H;){const J=H.shadowRoot;if(J){const ce=J.getElementById(W)||J.querySelector(`[name="${W}"]`);if(ce)return ce}H=R.nextNode()}}return null}(this.document,W);S&&(this.scrollToElement(S),this.attemptFocus(S))}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=W)}}scrollToElement(W){const S=W.getBoundingClientRect(),R=S.left+this.window.pageXOffset,H=S.top+this.window.pageYOffset,J=this.offset();this.window.scrollTo(R-J[0],H-J[1])}attemptFocus(W){return W.focus(),this.document.activeElement===W}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=vr(this.window.history)||vr(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function vr(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class Tr{}},520:(Bt,Ge,U)=>{U.d(Ge,{eN:()=>$e,JF:()=>An});var C=U(9808),g=U(5e3),me=U(9646),be=U(8306),Ae=U(4351),Le=U(9300),K=U(4004);class Ve{}class ze{}class ne{constructor(ge){this.normalizedNames=new Map,this.lazyUpdate=null,ge?this.lazyInit="string"==typeof ge?()=>{this.headers=new Map,ge.split("\n").forEach(ve=>{const It=ve.indexOf(":");if(It>0){const rt=ve.slice(0,It),lt=rt.toLowerCase(),Rt=ve.slice(It+1).trim();this.maybeSetNormalizedName(rt,lt),this.headers.has(lt)?this.headers.get(lt).push(Rt):this.headers.set(lt,[Rt])}})}:()=>{this.headers=new Map,Object.keys(ge).forEach(ve=>{let It=ge[ve];const rt=ve.toLowerCase();"string"==typeof It&&(It=[It]),It.length>0&&(this.headers.set(rt,It),this.maybeSetNormalizedName(ve,rt))})}:this.headers=new Map}has(ge){return this.init(),this.headers.has(ge.toLowerCase())}get(ge){this.init();const ve=this.headers.get(ge.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ge){return this.init(),this.headers.get(ge.toLowerCase())||null}append(ge,ve){return this.clone({name:ge,value:ve,op:"a"})}set(ge,ve){return this.clone({name:ge,value:ve,op:"s"})}delete(ge,ve){return this.clone({name:ge,value:ve,op:"d"})}maybeSetNormalizedName(ge,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,ge)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ge=>this.applyUpdate(ge)),this.lazyUpdate=null))}copyFrom(ge){ge.init(),Array.from(ge.headers.keys()).forEach(ve=>{this.headers.set(ve,ge.headers.get(ve)),this.normalizedNames.set(ve,ge.normalizedNames.get(ve))})}clone(ge){const ve=new ne;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([ge]),ve}applyUpdate(ge){const ve=ge.name.toLowerCase();switch(ge.op){case"a":case"s":let It=ge.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(ge.name,ve);const rt=("a"===ge.op?this.headers.get(ve):void 0)||[];rt.push(...It),this.headers.set(ve,rt);break;case"d":const lt=ge.value;if(lt){let Rt=this.headers.get(ve);if(!Rt)return;Rt=Rt.filter(jt=>-1===lt.indexOf(jt)),0===Rt.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,Rt)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}forEach(ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>ge(this.normalizedNames.get(ve),this.headers.get(ve)))}}class le{encodeKey(ge){return dt(ge)}encodeValue(ge){return dt(ge)}decodeKey(ge){return decodeURIComponent(ge)}decodeValue(ge){return decodeURIComponent(ge)}}const mt=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function dt(ht){return encodeURIComponent(ht).replace(mt,(ge,ve)=>{var It;return null!==(It=We[ve])&&void 0!==It?It:ge})}function at(ht){return`${ht}`}class He{constructor(ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ge.encoder||new le,ge.fromString){if(ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Se(ht,ge){const ve=new Map;return ht.length>0&&ht.replace(/^\?/,"").split("&").forEach(rt=>{const lt=rt.indexOf("="),[Rt,jt]=-1==lt?[ge.decodeKey(rt),""]:[ge.decodeKey(rt.slice(0,lt)),ge.decodeValue(rt.slice(lt+1))],wn=ve.get(Rt)||[];wn.push(jt),ve.set(Rt,wn)}),ve}(ge.fromString,this.encoder)}else ge.fromObject?(this.map=new Map,Object.keys(ge.fromObject).forEach(ve=>{const It=ge.fromObject[ve];this.map.set(ve,Array.isArray(It)?It:[It])})):this.map=null}has(ge){return this.init(),this.map.has(ge)}get(ge){this.init();const ve=this.map.get(ge);return ve?ve[0]:null}getAll(ge){return this.init(),this.map.get(ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ge,ve){return this.clone({param:ge,value:ve,op:"a"})}appendAll(ge){const ve=[];return Object.keys(ge).forEach(It=>{const rt=ge[It];Array.isArray(rt)?rt.forEach(lt=>{ve.push({param:It,value:lt,op:"a"})}):ve.push({param:It,value:rt,op:"a"})}),this.clone(ve)}set(ge,ve){return this.clone({param:ge,value:ve,op:"s"})}delete(ge,ve){return this.clone({param:ge,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(ge=>{const ve=this.encoder.encodeKey(ge);return this.map.get(ge).map(It=>ve+"="+this.encoder.encodeValue(It)).join("&")}).filter(ge=>""!==ge).join("&")}clone(ge){const ve=new He({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(ge),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ge=>this.map.set(ge,this.cloneFrom.map.get(ge))),this.updates.forEach(ge=>{switch(ge.op){case"a":case"s":const ve=("a"===ge.op?this.map.get(ge.param):void 0)||[];ve.push(at(ge.value)),this.map.set(ge.param,ve);break;case"d":if(void 0===ge.value){this.map.delete(ge.param);break}{let It=this.map.get(ge.param)||[];const rt=It.indexOf(at(ge.value));-1!==rt&&It.splice(rt,1),It.length>0?this.map.set(ge.param,It):this.map.delete(ge.param)}}}),this.cloneFrom=this.updates=null)}}class Tt{constructor(){this.map=new Map}set(ge,ve){return this.map.set(ge,ve),this}get(ge){return this.map.has(ge)||this.map.set(ge,ge.defaultValue()),this.map.get(ge)}delete(ge){return this.map.delete(ge),this}has(ge){return this.map.has(ge)}keys(){return this.map.keys()}}function qe(ht){return"undefined"!=typeof ArrayBuffer&&ht instanceof ArrayBuffer}function Ue(ht){return"undefined"!=typeof Blob&&ht instanceof Blob}function De(ht){return"undefined"!=typeof FormData&&ht instanceof FormData}class ct{constructor(ge,ve,It,rt){let lt;if(this.url=ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ge.toUpperCase(),function bt(ht){switch(ht){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rt?(this.body=void 0!==It?It:null,lt=rt):lt=It,lt&&(this.reportProgress=!!lt.reportProgress,this.withCredentials=!!lt.withCredentials,lt.responseType&&(this.responseType=lt.responseType),lt.headers&&(this.headers=lt.headers),lt.context&&(this.context=lt.context),lt.params&&(this.params=lt.params)),this.headers||(this.headers=new ne),this.context||(this.context=new Tt),this.params){const Rt=this.params.toString();if(0===Rt.length)this.urlWithParams=ve;else{const jt=ve.indexOf("?");this.urlWithParams=ve+(-1===jt?"?":jt<ve.length-1?"&":"")+Rt}}else this.params=new He,this.urlWithParams=ve}serializeBody(){return null===this.body?null:qe(this.body)||Ue(this.body)||De(this.body)||function Mt(ht){return"undefined"!=typeof URLSearchParams&&ht instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof He?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||De(this.body)?null:Ue(this.body)?this.body.type||null:qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof He?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ge={}){var ve;const It=ge.method||this.method,rt=ge.url||this.url,lt=ge.responseType||this.responseType,Rt=void 0!==ge.body?ge.body:this.body,jt=void 0!==ge.withCredentials?ge.withCredentials:this.withCredentials,wn=void 0!==ge.reportProgress?ge.reportProgress:this.reportProgress;let Qn=ge.headers||this.headers,en=ge.params||this.params;const Bn=null!==(ve=ge.context)&&void 0!==ve?ve:this.context;return void 0!==ge.setHeaders&&(Qn=Object.keys(ge.setHeaders).reduce((Jn,cn)=>Jn.set(cn,ge.setHeaders[cn]),Qn)),ge.setParams&&(en=Object.keys(ge.setParams).reduce((Jn,cn)=>Jn.set(cn,ge.setParams[cn]),en)),new ct(It,rt,Rt,{params:en,headers:Qn,context:Bn,reportProgress:wn,responseType:lt,withCredentials:jt})}}var je=(()=>((je=je||{})[je.Sent=0]="Sent",je[je.UploadProgress=1]="UploadProgress",je[je.ResponseHeader=2]="ResponseHeader",je[je.DownloadProgress=3]="DownloadProgress",je[je.Response=4]="Response",je[je.User=5]="User",je))();class se{constructor(ge,ve=200,It="OK"){this.headers=ge.headers||new ne,this.status=void 0!==ge.status?ge.status:ve,this.statusText=ge.statusText||It,this.url=ge.url||null,this.ok=this.status>=200&&this.status<300}}class Me extends se{constructor(ge={}){super(ge),this.type=je.ResponseHeader}clone(ge={}){return new Me({headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class Fe extends se{constructor(ge={}){super(ge),this.type=je.Response,this.body=void 0!==ge.body?ge.body:null}clone(ge={}){return new Fe({body:void 0!==ge.body?ge.body:this.body,headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class tt extends se{constructor(ge){super(ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ge.url||"(unknown url)"}`:`Http failure response for ${ge.url||"(unknown url)"}: ${ge.status} ${ge.statusText}`,this.error=ge.error||null}}function it(ht,ge){return{body:ge,headers:ht.headers,context:ht.context,observe:ht.observe,params:ht.params,reportProgress:ht.reportProgress,responseType:ht.responseType,withCredentials:ht.withCredentials}}let $e=(()=>{class ht{constructor(ve){this.handler=ve}request(ve,It,rt={}){let lt;if(ve instanceof ct)lt=ve;else{let wn,Qn;wn=rt.headers instanceof ne?rt.headers:new ne(rt.headers),rt.params&&(Qn=rt.params instanceof He?rt.params:new He({fromObject:rt.params})),lt=new ct(ve,It,void 0!==rt.body?rt.body:null,{headers:wn,context:rt.context,params:Qn,reportProgress:rt.reportProgress,responseType:rt.responseType||"json",withCredentials:rt.withCredentials})}const Rt=(0,me.of)(lt).pipe((0,Ae.b)(wn=>this.handler.handle(wn)));if(ve instanceof ct||"events"===rt.observe)return Rt;const jt=Rt.pipe((0,Le.h)(wn=>wn instanceof Fe));switch(rt.observe||"body"){case"body":switch(lt.responseType){case"arraybuffer":return jt.pipe((0,K.U)(wn=>{if(null!==wn.body&&!(wn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return wn.body}));case"blob":return jt.pipe((0,K.U)(wn=>{if(null!==wn.body&&!(wn.body instanceof Blob))throw new Error("Response is not a Blob.");return wn.body}));case"text":return jt.pipe((0,K.U)(wn=>{if(null!==wn.body&&"string"!=typeof wn.body)throw new Error("Response is not a string.");return wn.body}));default:return jt.pipe((0,K.U)(wn=>wn.body))}case"response":return jt;default:throw new Error(`Unreachable: unhandled observe type ${rt.observe}}`)}}delete(ve,It={}){return this.request("DELETE",ve,It)}get(ve,It={}){return this.request("GET",ve,It)}head(ve,It={}){return this.request("HEAD",ve,It)}jsonp(ve,It){return this.request("JSONP",ve,{params:(new He).append(It,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,It={}){return this.request("OPTIONS",ve,It)}patch(ve,It,rt={}){return this.request("PATCH",ve,it(rt,It))}post(ve,It,rt={}){return this.request("POST",ve,it(rt,It))}put(ve,It,rt={}){return this.request("PUT",ve,it(rt,It))}}return ht.\u0275fac=function(ve){return new(ve||ht)(g.LFG(Ve))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})();class Qt{constructor(ge,ve){this.next=ge,this.interceptor=ve}handle(ge){return this.interceptor.intercept(ge,this.next)}}const pn=new g.OlP("HTTP_INTERCEPTORS");let Wn=(()=>{class ht{intercept(ve,It){return It.handle(ve)}}return ht.\u0275fac=function(ve){return new(ve||ht)},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const Be=/^\)\]\}',?\n/;let un=(()=>{class ht{constructor(ve){this.xhrFactory=ve}handle(ve){if("JSONP"===ve.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new be.y(It=>{const rt=this.xhrFactory.build();if(rt.open(ve.method,ve.urlWithParams),ve.withCredentials&&(rt.withCredentials=!0),ve.headers.forEach((cn,Je)=>rt.setRequestHeader(cn,Je.join(","))),ve.headers.has("Accept")||rt.setRequestHeader("Accept","application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const cn=ve.detectContentTypeHeader();null!==cn&&rt.setRequestHeader("Content-Type",cn)}if(ve.responseType){const cn=ve.responseType.toLowerCase();rt.responseType="json"!==cn?cn:"text"}const lt=ve.serializeBody();let Rt=null;const jt=()=>{if(null!==Rt)return Rt;const cn=1223===rt.status?204:rt.status,Je=rt.statusText||"OK",Gn=new ne(rt.getAllResponseHeaders()),ie=function St(ht){return"responseURL"in ht&&ht.responseURL?ht.responseURL:/^X-Request-URL:/m.test(ht.getAllResponseHeaders())?ht.getResponseHeader("X-Request-URL"):null}(rt)||ve.url;return Rt=new Me({headers:Gn,status:cn,statusText:Je,url:ie}),Rt},wn=()=>{let{headers:cn,status:Je,statusText:Gn,url:ie}=jt(),oe=null;204!==Je&&(oe=void 0===rt.response?rt.responseText:rt.response),0===Je&&(Je=oe?200:0);let ee=Je>=200&&Je<300;if("json"===ve.responseType&&"string"==typeof oe){const ae=oe;oe=oe.replace(Be,"");try{oe=""!==oe?JSON.parse(oe):null}catch(de){oe=ae,ee&&(ee=!1,oe={error:de,text:oe})}}ee?(It.next(new Fe({body:oe,headers:cn,status:Je,statusText:Gn,url:ie||void 0})),It.complete()):It.error(new tt({error:oe,headers:cn,status:Je,statusText:Gn,url:ie||void 0}))},Qn=cn=>{const{url:Je}=jt(),Gn=new tt({error:cn,status:rt.status||0,statusText:rt.statusText||"Unknown Error",url:Je||void 0});It.error(Gn)};let en=!1;const Bn=cn=>{en||(It.next(jt()),en=!0);let Je={type:je.DownloadProgress,loaded:cn.loaded};cn.lengthComputable&&(Je.total=cn.total),"text"===ve.responseType&&!!rt.responseText&&(Je.partialText=rt.responseText),It.next(Je)},Jn=cn=>{let Je={type:je.UploadProgress,loaded:cn.loaded};cn.lengthComputable&&(Je.total=cn.total),It.next(Je)};return rt.addEventListener("load",wn),rt.addEventListener("error",Qn),rt.addEventListener("timeout",Qn),rt.addEventListener("abort",Qn),ve.reportProgress&&(rt.addEventListener("progress",Bn),null!==lt&&rt.upload&&rt.upload.addEventListener("progress",Jn)),rt.send(lt),It.next({type:je.Sent}),()=>{rt.removeEventListener("error",Qn),rt.removeEventListener("abort",Qn),rt.removeEventListener("load",wn),rt.removeEventListener("timeout",Qn),ve.reportProgress&&(rt.removeEventListener("progress",Bn),null!==lt&&rt.upload&&rt.upload.removeEventListener("progress",Jn)),rt.readyState!==rt.DONE&&rt.abort()}})}}return ht.\u0275fac=function(ve){return new(ve||ht)(g.LFG(C.JF))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const Cn=new g.OlP("XSRF_COOKIE_NAME"),Tn=new g.OlP("XSRF_HEADER_NAME");class qn{}let Yn=(()=>{class ht{constructor(ve,It,rt){this.doc=ve,this.platform=It,this.cookieName=rt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,C.Mx)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}}return ht.\u0275fac=function(ve){return new(ve||ht)(g.LFG(C.K0),g.LFG(g.Lbi),g.LFG(Cn))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})(),nr=(()=>{class ht{constructor(ve,It){this.tokenService=ve,this.headerName=It}intercept(ve,It){const rt=ve.url.toLowerCase();if("GET"===ve.method||"HEAD"===ve.method||rt.startsWith("http://")||rt.startsWith("https://"))return It.handle(ve);const lt=this.tokenService.getToken();return null!==lt&&!ve.headers.has(this.headerName)&&(ve=ve.clone({headers:ve.headers.set(this.headerName,lt)})),It.handle(ve)}}return ht.\u0275fac=function(ve){return new(ve||ht)(g.LFG(qn),g.LFG(Tn))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})(),wt=(()=>{class ht{constructor(ve,It){this.backend=ve,this.injector=It,this.chain=null}handle(ve){if(null===this.chain){const It=this.injector.get(pn,[]);this.chain=It.reduceRight((rt,lt)=>new Qt(rt,lt),this.backend)}return this.chain.handle(ve)}}return ht.\u0275fac=function(ve){return new(ve||ht)(g.LFG(ze),g.LFG(g.zs3))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})(),cr=(()=>{class ht{static disable(){return{ngModule:ht,providers:[{provide:nr,useClass:Wn}]}}static withOptions(ve={}){return{ngModule:ht,providers:[ve.cookieName?{provide:Cn,useValue:ve.cookieName}:[],ve.headerName?{provide:Tn,useValue:ve.headerName}:[]]}}}return ht.\u0275fac=function(ve){return new(ve||ht)},ht.\u0275mod=g.oAB({type:ht}),ht.\u0275inj=g.cJS({providers:[nr,{provide:pn,useExisting:nr,multi:!0},{provide:qn,useClass:Yn},{provide:Cn,useValue:"XSRF-TOKEN"},{provide:Tn,useValue:"X-XSRF-TOKEN"}]}),ht})(),An=(()=>{class ht{}return ht.\u0275fac=function(ve){return new(ve||ht)},ht.\u0275mod=g.oAB({type:ht}),ht.\u0275inj=g.cJS({providers:[$e,{provide:Ve,useClass:wt},un,{provide:ze,useExisting:un}],imports:[[cr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ht})()},5e3:(Bt,Ge,U)=>{U.d(Ge,{deG:()=>lf,tb:()=>sE,AFp:()=>rE,ip1:()=>Ab,CZH:()=>rf,hGG:()=>rC,z2F:()=>wg,sBO:()=>Bw,Sil:()=>Sb,_Vd:()=>Sp,EJc:()=>aE,SBq:()=>Mp,qLn:()=>El,vpe:()=>Oc,tBr:()=>Va,XFs:()=>Xt,OlP:()=>Ar,zs3:()=>Rs,ZZ4:()=>ky,aQg:()=>Np,soG:()=>My,YKP:()=>tn,h0i:()=>vt,PXZ:()=>Mw,R0b:()=>Ea,FiY:()=>Ba,Lbi:()=>iE,g9A:()=>bw,Qsj:()=>x0,FYo:()=>_b,JOm:()=>Vo,q3G:()=>mi,tp0:()=>aa,Rgc:()=>Rp,dDg:()=>Dw,q4F:()=>vg,GfV:()=>xp,s_b:()=>Cy,ifc:()=>lt,eFA:()=>Rb,G48:()=>Lw,Gpc:()=>le,f3M:()=>Vd,X6Q:()=>Fw,_c5:()=>Jw,VLi:()=>UC,c2e:()=>oE,zSh:()=>Bf,wAp:()=>Rn,vHH:()=>dt,EiD:()=>Wd,mCW:()=>wu,qzn:()=>ua,JVY:()=>yl,pB0:()=>$l,eBb:()=>Po,L6k:()=>Hl,LAX:()=>Fo,cg1:()=>Qh,kL8:()=>Ac,yhl:()=>Hd,dqk:()=>en,sIi:()=>Ec,CqO:()=>tp,QGY:()=>ep,F4k:()=>Um,RDi:()=>Ri,AaK:()=>Ve,z3N:()=>gs,qOj:()=>g_,TTD:()=>Es,_Bn:()=>db,xp6:()=>rm,uIk:()=>zf,Tol:()=>Km,ekj:()=>q_,Suo:()=>q0,Xpm:()=>Lt,lG2:()=>_e,Yz7:()=>yt,cJS:()=>Be,oAB:()=>Nn,Yjl:()=>X,Y36:()=>Qf,_UZ:()=>xv,BQk:()=>Xf,ynx:()=>Vm,qZA:()=>V_,TgZ:()=>Bh,EpF:()=>Bm,n5z:()=>rr,Ikx:()=>X_,LFG:()=>Ai,$8M:()=>fr,$Z:()=>Sv,NdJ:()=>np,CRH:()=>K0,oxw:()=>$m,Hsn:()=>kv,F$t:()=>Rv,Q6J:()=>L_,s9C:()=>Gm,MGl:()=>zm,DdM:()=>O0,VKq:()=>R0,WLB:()=>k0,iGM:()=>z0,MAs:()=>Nm,CHM:()=>zi,oJD:()=>Kd,LSH:()=>I,Udp:()=>oi,d8E:()=>Zh,YNc:()=>km,_uU:()=>Zm,Oqu:()=>zh,hij:()=>lp,Gf:()=>W0});var C=U(7579),g=U(727),me=U(8306),be=U(6451),Ae=U(3099);function Le(t){for(let r in t)if(t[r]===Le)return r;throw Error("Could not find renamed property on target object.")}function K(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ze(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ne=Le({__forward_ref__:Le});function le(t){return t.__forward_ref__=le,t.toString=function(){return Ve(this())},t}function Se(t){return mt(t)?t():t}function mt(t){return"function"==typeof t&&t.hasOwnProperty(ne)&&t.__forward_ref__===le}class dt extends Error{constructor(r,o){super(function at(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function He(t){return"string"==typeof t?t:null==t?"":String(t)}function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():He(t)}function Ue(t,r){const o=r?` in ${r}`:"";throw new dt(-201,`No provider for ${Ze(t)} found${o}`)}function Kt(t,r){null==t&&function rn(t,r,o,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${o} ${d} ${r} <=Actual]`))}(r,t,null,"!=")}function yt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Be(t){return{providers:t.providers||[],imports:t.imports||[]}}function St(t){return un(t,Yn)||un(t,wt)}function un(t,r){return t.hasOwnProperty(r)?t[r]:null}function qn(t){return t&&(t.hasOwnProperty(nr)||t.hasOwnProperty(ar))?t[nr]:null}const Yn=Le({\u0275prov:Le}),nr=Le({\u0275inj:Le}),wt=Le({ngInjectableDef:Le}),ar=Le({ngInjectorDef:Le});var Xt=(()=>((Xt=Xt||{})[Xt.Default=0]="Default",Xt[Xt.Host=1]="Host",Xt[Xt.Self=2]="Self",Xt[Xt.SkipSelf=4]="SkipSelf",Xt[Xt.Optional=8]="Optional",Xt))();let cr;function ir(t){const r=cr;return cr=t,r}function Pr(t,r,o){const d=St(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&Xt.Optional?null:void 0!==r?r:void Ue(Ve(t),"Injector")}function ge(t){return{toString:t}.toString()}var ve=(()=>((ve=ve||{})[ve.OnPush=0]="OnPush",ve[ve.Default=1]="Default",ve))(),lt=(()=>{return(t=lt||(lt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",lt;var t})();const Rt="undefined"!=typeof globalThis&&globalThis,jt="undefined"!=typeof window&&window,wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,en=Rt||"undefined"!=typeof global&&global||jt||wn,cn={},Je=[],Gn=Le({\u0275cmp:Le}),ie=Le({\u0275dir:Le}),oe=Le({\u0275pipe:Le}),ee=Le({\u0275mod:Le}),ae=Le({\u0275fac:Le}),de=Le({__NG_ELEMENT_ID__:Le});let Ne=0;function Lt(t){return ge(()=>{const o={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Je,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lt.Emulated,id:"c",styles:t.styles||Je,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.directives,m=t.features,E=t.pipes;return d.id+=Ne++,d.inputs=Pe(t.inputs,o),d.outputs=Pe(t.outputs),m&&m.forEach(T=>T(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Hn):null,d.pipeDefs=E?()=>("function"==typeof E?E():E).map(Mn):null,d})}function Hn(t){return Ce(t)||function ot(t){return t[ie]||null}(t)}function Mn(t){return function Ft(t){return t[oe]||null}(t)}const sr={};function Nn(t){return ge(()=>{const r={type:t.type,bootstrap:t.bootstrap||Je,declarations:t.declarations||Je,imports:t.imports||Je,exports:t.exports||Je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(sr[t.id]=t.type),r})}function Pe(t,r){if(null==t)return cn;const o={};for(const d in t)if(t.hasOwnProperty(d)){let h=t[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),o[h]=d,r&&(r[h]=m)}return o}const _e=Lt;function X(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ce(t){return t[Gn]||null}function dn(t,r){const o=t[ee]||null;if(!o&&!0===r)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return o}function Wt(t){return Array.isArray(t)&&"object"==typeof t[1]}function On(t){return Array.isArray(t)&&!0===t[1]}function dr(t){return 0!=(8&t.flags)}function Xn(t){return 2==(2&t.flags)}function yn(t){return 1==(1&t.flags)}function gn(t){return null!==t.template}function Vr(t){return 0!=(512&t[2])}function li(t,r){return t.hasOwnProperty(ae)?t[ae]:null}class xi{constructor(r,o,d){this.previousValue=r,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function Es(){return Zr}function Zr(t){return t.type.prototype.ngOnChanges&&(t.setInput=vi),zs}function zs(){const t=Gi(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===cn)t.previous=r;else for(let d in r)o[d]=r[d];t.current=null,this.ngOnChanges(r)}}function vi(t,r,o,d){const h=Gi(t)||function Pl(t,r){return t[Oi]=r}(t,{previous:cn,current:null}),m=h.current||(h.current={}),E=h.previous,T=this.declaredInputs[o],O=E[T];m[T]=new xi(O&&O.currentValue,r,E===cn),t[d]=r}Es.ngInherit=!0;const Oi="__ngSimpleChanges__";function Gi(t){return t[Oi]||null}let Zo;function Ri(t){Zo=t}function Io(){return void 0!==Zo?Zo:"undefined"!=typeof document?document:void 0}function vr(t){return!!t.listen}const ws={createRenderer:(t,r)=>Io()};function Tr(t){for(;Array.isArray(t);)t=t[0];return t}function S(t,r){return Tr(r[t])}function R(t,r){return Tr(r[t.index])}function J(t,r){return t.data[r]}function Te(t,r){const o=r[t];return Wt(o)?o:o[0]}function xt(t){return 4==(4&t[2])}function Yt(t){return 128==(128&t[2])}function Ut(t,r){return null==r?null:t[r]}function vn(t){t[18]=0}function bn(t,r){t[5]+=r;let o=t,d=t[3];for(;null!==d&&(1===r&&1===o[5]||-1===r&&0===o[5]);)d[5]+=r,o=d,d=d[3]}const Gt={lFrame:fo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ci(){return Gt.bindingsEnabled}function Et(){return Gt.lFrame.lView}function Un(){return Gt.lFrame.tView}function zi(t){return Gt.lFrame.contextLView=t,t[8]}function Wr(){let t=sl();for(;null!==t&&64===t.type;)t=t.parent;return t}function sl(){return Gt.lFrame.currentTNode}function Ti(t,r){const o=Gt.lFrame;o.currentTNode=t,o.isParent=r}function ol(){return Gt.lFrame.isParent}function Ps(){Gt.lFrame.isParent=!1}function Ws(){return Gt.isInCheckNoChangesMode}function Cs(t){Gt.isInCheckNoChangesMode=t}function Di(){const t=Gt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function ds(){return Gt.lFrame.bindingIndex++}function hs(t){const r=Gt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function ll(t,r){const o=Gt.lFrame;o.bindingIndex=o.bindingRootIndex=t,Fl(r)}function Fl(t){Gt.lFrame.currentDirectiveIndex=t}function Is(t){const r=Gt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function co(){return Gt.lFrame.currentQueryIndex}function Qo(t){Gt.lFrame.currentQueryIndex=t}function pu(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Pi(t,r,o){if(o&Xt.SkipSelf){let h=r,m=t;for(;!(h=h.parent,null!==h||o&Xt.Host||(h=pu(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;r=h,t=m}const d=Gt.lFrame=ho();return d.currentTNode=r,d.lView=t,!0}function xr(t){const r=ho(),o=t[1];Gt.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function ho(){const t=Gt.lFrame,r=null===t?null:t.child;return null===r?fo(t):r}function fo(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Fs(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Da=Fs;function Ts(){const t=Fs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function es(){return Gt.lFrame.selectedIndex}function Jo(t){Gt.lFrame.selectedIndex=t}function ur(){const t=Gt.lFrame;return J(t.tView,t.selectedIndex)}function Ls(t,r){for(let o=r.directiveStart,d=r.directiveEnd;o<d;o++){const m=t.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:F,ngOnDestroy:$}=m;E&&(t.contentHooks||(t.contentHooks=[])).push(-o,E),T&&((t.contentHooks||(t.contentHooks=[])).push(o,T),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(o,T)),O&&(t.viewHooks||(t.viewHooks=[])).push(-o,O),F&&((t.viewHooks||(t.viewHooks=[])).push(o,F),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(o,F)),null!=$&&(t.destroyHooks||(t.destroyHooks=[])).push(o,$)}}function Sa(t,r,o){ts(t,r,3,o)}function dl(t,r,o,d){(3&t[2])===o&&ts(t,r,o,d)}function br(t,r){let o=t[2];(3&o)===r&&(o&=2047,o+=1,t[2]=o)}function ts(t,r,o,d){const m=null!=d?d:-1,E=r.length-1;let T=0;for(let O=void 0!==d?65535&t[18]:0;O<E;O++)if("number"==typeof r[O+1]){if(T=r[O],null!=d&&T>=d)break}else r[O]<0&&(t[18]+=65536),(T<m||-1==m)&&(Ma(t,o,r,O),t[18]=(4294901760&t[18])+O+2),O++}function Ma(t,r,o,d){const h=o[d]<0,m=o[d+1],T=t[h?-o[d]:o[d]];if(h){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class xa{constructor(r,o,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Ra(t,r,o){const d=vr(t);let h=0;for(;h<o.length;){const m=o[h];if("number"==typeof m){if(0!==m)break;h++;const E=o[h++],T=o[h++],O=o[h++];d?t.setAttribute(r,T,O,E):r.setAttributeNS(E,T,O)}else{const E=m,T=o[++h];Mo(E)?d&&t.setProperty(r,E,T):d?t.setAttribute(r,E,T):r.setAttribute(E,T),h++}}return h}function gu(t){return 3===t||4===t||6===t}function Mo(t){return 64===t.charCodeAt(0)}function ka(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let d=0;d<r.length;d++){const h=r[d];"number"==typeof h?o=h:0===o||ta(t,o,h,null,-1===o||2===o?r[++d]:null)}}return t}function ta(t,r,o,d,h){let m=0,E=t.length;if(-1===r)E=-1;else for(;m<t.length;){const T=t[m++];if("number"==typeof T){if(T===r){E=-1;break}if(T>r){E=m-1;break}}}for(;m<t.length;){const T=t[m];if("number"==typeof T)break;if(T===o){if(null===d)return void(null!==h&&(t[m+1]=h));if(d===t[m+1])return void(t[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==E&&(t.splice(E,0,r),m=E+1),t.splice(m++,0,o),null!==d&&t.splice(m++,0,d),null!==h&&t.splice(m++,0,h)}function ui(t){return-1!==t}function hl(t){return 32767&t}function fl(t,r){let o=function kd(t){return t>>16}(t),d=r;for(;o>0;)d=d[15],o--;return d}let Nc=!0;function _u(t){const r=Nc;return Nc=t,r}let na=0;function go(t,r){const o=ra(t,r);if(-1!==o)return o;const d=r[1];d.firstCreatePass&&(t.injectorIndex=r.length,Vl(d.data,t),Vl(r,null),Vl(d.blueprint,null));const h=xo(t,r),m=t.injectorIndex;if(ui(h)){const E=hl(h),T=fl(h,r),O=T[1].data;for(let F=0;F<8;F++)r[m+F]=T[E+F]|O[E+F]}return r[m+8]=h,m}function Vl(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ra(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function xo(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,d=null,h=r;for(;null!==h;){const m=h[1],E=m.type;if(d=2===E?m.declTNode:1===E?h[6]:null,null===d)return-1;if(o++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return-1}function Oo(t,r,o){!function fs(t,r,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(de)&&(d=o[de]),null==d&&(d=o[de]=na++);const h=255&d;r.data[t+(h>>5)]|=1<<h}(t,r,o)}function N(t,r,o){if(o&Xt.Optional)return t;Ue(r,"NodeInjector")}function x(t,r,o,d){if(o&Xt.Optional&&void 0===d&&(d=null),0==(o&(Xt.Self|Xt.Host))){const h=t[9],m=ir(void 0);try{return h?h.get(r,d,o&Xt.Optional):Pr(r,d,o&Xt.Optional)}finally{ir(m)}}return N(d,r,o)}function D(t,r,o,d=Xt.Default,h){if(null!==t){const m=function st(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(de)?t[de]:void 0;return"number"==typeof r?r>=0?255&r:B:r}(o);if("function"==typeof m){if(!Pi(r,t,d))return d&Xt.Host?N(h,o,d):x(r,o,d,h);try{const E=m(d);if(null!=E||d&Xt.Optional)return E;Ue(o)}finally{Da()}}else if("number"==typeof m){let E=null,T=ra(t,r),O=-1,F=d&Xt.Host?r[16][6]:null;for((-1===T||d&Xt.SkipSelf)&&(O=-1===T?xo(t,r):r[T+8],-1!==O&&$n(d,!1)?(E=r[1],T=hl(O),r=fl(O,r)):T=-1);-1!==T;){const $=r[1];if(Jt(m,T,$.data)){const Q=q(T,r,o,E,d,F);if(Q!==P)return Q}O=r[T+8],-1!==O&&$n(d,r[1].data[T+8]===F)&&Jt(m,T,r)?(E=$,T=hl(O),r=fl(O,r)):T=-1}}}return x(r,o,d,h)}const P={};function B(){return new hn(Wr(),Et())}function q(t,r,o,d,h,m){const E=r[1],T=E.data[t+8],$=te(T,E,o,null==d?Xn(T)&&Nc:d!=E&&0!=(3&T.type),h&Xt.Host&&m===T);return null!==$?pe(r,E,$,T):P}function te(t,r,o,d,h){const m=t.providerIndexes,E=r.data,T=1048575&m,O=t.directiveStart,$=m>>20,ue=h?T+$:t.directiveEnd;for(let Oe=d?T:T+$;Oe<ue;Oe++){const Ke=E[Oe];if(Oe<O&&o===Ke||Oe>=O&&Ke.type===o)return Oe}if(h){const Oe=E[O];if(Oe&&gn(Oe)&&Oe.type===o)return O}return null}function pe(t,r,o,d){let h=t[o];const m=r.data;if(function Do(t){return t instanceof xa}(h)){const E=h;E.resolving&&function Tt(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new dt(-200,`Circular dependency in DI detected for ${t}${o}`)}(Ze(m[o]));const T=_u(E.canSeeViewProviders);E.resolving=!0;const O=E.injectImpl?ir(E.injectImpl):null;Pi(t,d,Xt.Default);try{h=t[o]=E.factory(void 0,m,t,d),r.firstCreatePass&&o>=d.directiveStart&&function mu(t,r,o){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=r.type.prototype;if(d){const E=Zr(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(t,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,E)}h&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-t,h),m&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,m))}(o,m[o],r)}finally{null!==O&&ir(O),_u(T),E.resolving=!1,Da()}}return h}function Jt(t,r,o){return!!(o[r+(t>>5)]&1<<t)}function $n(t,r){return!(t&Xt.Self||t&Xt.Host&&r)}class hn{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,d){return D(this._tNode,this._lView,r,d,o)}}function rr(t){return ge(()=>{const r=t.prototype.constructor,o=r[ae]||mr(r),d=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==d;){const m=h[ae]||mr(h);if(m&&m!==o)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function mr(t){return mt(t)?()=>{const r=mr(Se(t));return r&&r()}:li(t)}function fr(t){return function Bl(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const d=o.length;let h=0;for(;h<d;){const m=o[h];if(gu(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof o[h];)h++;else{if(m===r)return o[h+1];h+=2}}}return null}(Wr(),t)}const Li="__parameters__";function ri(t,r,o){return ge(()=>{const d=function ms(t){return function(...o){if(t){const d=t(...o);for(const h in d)this[h]=d[h]}}}(r);function h(...m){if(this instanceof h)return d.apply(this,m),this;const E=new h(...m);return T.annotation=E,T;function T(O,F,$){const Q=O.hasOwnProperty(Li)?O[Li]:Object.defineProperty(O,Li,{value:[]})[Li];for(;Q.length<=$;)Q.push(null);return(Q[$]=Q[$]||[]).push(E),O}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}class Ar{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=yt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lf=new Ar("AnalyzeForEntryComponents");function _o(t,r){void 0===r&&(r=t);for(let o=0;o<t.length;o++){let d=t[o];Array.isArray(d)?(r===t&&(r=t.slice(0,o)),_o(d,r)):r!==t&&r.push(d)}return r}function Dt(t,r){t.forEach(o=>Array.isArray(o)?Dt(o,r):r(o))}function ci(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function yo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Bs(t,r){const o=[];for(let d=0;d<t;d++)o.push(r);return o}function Er(t,r,o){let d=Ds(t,r);return d>=0?t[1|d]=o:(d=~d,function Ag(t,r,o,d){let h=t.length;if(h==r)t.push(o,d);else if(1===h)t.push(d,t[0]),t[0]=o;else{for(h--,t.push(t[h-1],t[h]);h>r;)t[h]=t[h-2],h--;t[r]=o,t[r+1]=d}}(t,d,r,o)),d}function Lc(t,r){const o=Ds(t,r);if(o>=0)return t[1|o]}function Ds(t,r){return function cf(t,r,o){let d=0,h=t.length>>o;for(;h!==d;){const m=d+(h-d>>1),E=t[m<<o];if(r===E)return m<<o;E>r?h=m:d=m+1}return~(h<<o)}(t,r,1)}const Pa={},Yr="__NG_DI_FLAG__",Sn="ngTempTokenPath",tr=/\n/gm,Qr="__source",Zt=Le({provide:String,useValue:Le});let oa;function ml(t){const r=oa;return oa=t,r}function Ks(t,r=Xt.Default){if(void 0===oa)throw new dt(203,"");return null===oa?Pr(t,void 0,r):oa.get(t,r&Xt.Optional?null:void 0,r)}function Ai(t,r=Xt.Default){return(function An(){return cr}()||Ks)(Se(t),r)}const Vd=Ai;function La(t){const r=[];for(let o=0;o<t.length;o++){const d=Se(t[o]);if(Array.isArray(d)){if(0===d.length)throw new dt(900,"");let h,m=Xt.Default;for(let E=0;E<d.length;E++){const T=d[E],O=Uc(T);"number"==typeof O?-1===O?h=T.token:m|=O:h=T}r.push(Ai(h,m))}else r.push(Ai(d))}return r}function gl(t,r){return t[Yr]=r,t.prototype[Yr]=r,t}function Uc(t){return t[Yr]}const Va=gl(ri("Inject",t=>({token:t})),-1),Ba=gl(ri("Optional"),8),aa=gl(ri("SkipSelf"),4);let No,Ha;function or(t){var r;return(null===(r=function Or(){if(void 0===No&&(No=null,en.trustedTypes))try{No=en.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return No}())||void 0===r?void 0:r.createHTML(t))||t}function Hc(t){var r;return(null===(r=function ii(){if(void 0===Ha&&(Ha=null,en.trustedTypes))try{Ha=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ha}())||void 0===r?void 0:r.createHTML(t))||t}class Js{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jl extends Js{getTypeName(){return"HTML"}}class $c extends Js{getTypeName(){return"Style"}}class qi extends Js{getTypeName(){return"Script"}}class hf extends Js{getTypeName(){return"URL"}}class _l extends Js{getTypeName(){return"ResourceURL"}}function gs(t){return t instanceof Js?t.changingThisBreaksApplicationSecurity:t}function ua(t,r){const o=Hd(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function Hd(t){return t instanceof Js&&t.getTypeName()||null}function yl(t){return new jl(t)}function Hl(t){return new $c(t)}function Po(t){return new qi(t)}function Fo(t){return new hf(t)}function $l(t){return new _l(t)}class Gl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(or(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Ga{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const d=this.inertDocument.createElement("body");o.appendChild(d)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=or(r),o;const d=this.inertDocument.createElement("body");return d.innerHTML=or(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(r){const o=r.attributes;for(let h=o.length-1;0<h;h--){const E=o.item(h).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&r.removeAttribute(E)}let d=r.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const za=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wu(t){return(t=String(t)).match(za)||t.match(tc)?t:"unsafe:"+t}function Xs(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function Lo(...t){const r={};for(const o of t)for(const d in o)o.hasOwnProperty(d)&&(r[d]=!0);return r}const Gd=Xs("area,br,col,hr,img,wbr"),zc=Xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zd=Xs("rp,rt"),Wc=Lo(Gd,Lo(zc,Xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lo(zd,Xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lo(zd,zc)),Rr=Xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Iu=Xs("srcset"),pf=Lo(Rr,Iu,Xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vl=Xs("script,style,template");class nc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,d=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?d=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,d&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let h=this.checkClobberedElement(o,o.nextSibling);if(h){o=h;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Wc.hasOwnProperty(o))return this.sanitizedSomething=!0,!vl.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const d=r.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),E=m.name,T=E.toLowerCase();if(!pf.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=m.value;Rr[T]&&(O=wu(O)),Iu[T]&&(t=O,O=(t=String(t)).split(",").map(r=>wu(r.trim())).join(", ")),this.buf.push(" ",E,'="',zl(O),'"')}var t;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Wc.hasOwnProperty(o)&&!Gd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(zl(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Tu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rc=/([^\#-~ |!])/g;function zl(t){return t.replace(/&/g,"&amp;").replace(Tu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(rc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pi;function Wd(t,r){let o=null;try{pi=pi||function $a(t){const r=new Ga(t);return function $d(){try{return!!(new window.DOMParser).parseFromString(or(""),"text/html")}catch(t){return!1}}()?new Gl(r):r}(t);let d=r?String(r):"";o=pi.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=o.innerHTML,o=pi.getInertBodyElement(d)}while(d!==m);return or((new nc).sanitizeChildren(qc(o)||o))}finally{if(o){const d=qc(o)||o;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function qc(t){return"content"in t&&function qd(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function Kd(t){const r=Nt();return r?Hc(r.sanitize(mi.HTML,t)||""):ua(t,"HTML")?Hc(gs(t)):Wd(Io(),He(t))}function I(t){const r=Nt();return r?r.sanitize(mi.URL,t)||"":ua(t,"URL")?gs(t):wu(He(t))}function Nt(){const t=Et();return t&&t[12]}const ns="__ngContext__";function Nr(t,r){t[ns]=r}function Wl(t){const r=function Si(t){return t[ns]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function yf(t){return t.ngOriginalError}function Kc(t,...r){t.error(...r)}class El{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),d=function Fy(t){return t&&t.ngErrorLogger||Kc}(r);d(this._console,"ERROR",r),o&&d(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&yf(r);for(;o&&yf(o);)o=yf(o);return o||null}}const Xd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(en))();function Kl(t){return t instanceof Function?t():t}var Vo=(()=>((Vo=Vo||{})[Vo.Important=1]="Important",Vo[Vo.DashCase=2]="DashCase",Vo))();function Au(t,r){return undefined(t,r)}function gi(t){const r=t[3];return On(r)?r[3]:r}function th(t){return Uy(t[13])}function Yl(t){return Uy(t[4])}function Uy(t){for(;null!==t&&!On(t);)t=t[4];return t}function Yc(t,r,o,d,h){if(null!=d){let m,E=!1;On(d)?m=d:Wt(d)&&(E=!0,d=d[0]);const T=Tr(d);0===t&&null!==o?null==h?Pg(r,o,T):Jl(r,o,T,h||null,!0):1===t&&null!==o?Jl(r,o,T,h||null,!0):2===t?function Xl(t,r,o){const d=Mu(t,r);d&&function jy(t,r,o,d){vr(t)?t.removeChild(r,o,d):r.removeChild(o)}(t,d,r,o)}(r,T,E):3===t&&r.destroyNode(T),null!=m&&function oh(t,r,o,d,h){const m=o[7];m!==Tr(o)&&Yc(r,t,d,m,h);for(let T=10;T<o.length;T++){const O=o[T];oc(O[1],O,t,r,d,m)}}(r,t,m,o,h)}}function bf(t,r,o){return vr(t)?t.createElement(r,o):null===o?t.createElement(r):t.createElementNS(o,r)}function rh(t,r){const o=t[9],d=o.indexOf(r),h=r[3];1024&r[2]&&(r[2]&=-1025,bn(h,-1)),o.splice(d,1)}function Wa(t,r){if(t.length<=10)return;const o=10+r,d=t[o];if(d){const h=d[17];null!==h&&h!==t&&rh(h,d),r>0&&(t[o-1][4]=d[4]);const m=yo(t,10+r);!function nh(t,r){oc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const E=m[19];null!==E&&E.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function ih(t,r){if(!(256&r[2])){const o=r[11];vr(o)&&o.destroyNode&&oc(t,r,o,3,null,null),function er(t){let r=t[13];if(!r)return Su(t[1],t);for(;r;){let o=null;if(Wt(r))o=r[13];else{const d=r[10];d&&(o=d)}if(!o){for(;r&&!r[4]&&r!==t;)Wt(r)&&Su(r[1],r),r=r[3];null===r&&(r=t),Wt(r)&&Su(r[1],r),o=r&&r[4]}r=o}}(r)}}function Su(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Ef(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let d=0;d<o.length;d+=2){const h=r[o[d]];if(!(h instanceof xa)){const m=o[d+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const T=h[m[E]],O=m[E+1];try{O.call(T)}finally{}}else try{m.call(h)}finally{}}}}(t,r),function rs(t,r){const o=t.cleanup,d=r[7];let h=-1;if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const E=o[m+1],T="function"==typeof E?E(r):Tr(r[E]),O=d[h=o[m+2]],F=o[m+3];"boolean"==typeof F?T.removeEventListener(o[m],O,F):F>=0?d[h=F]():d[h=-F].unsubscribe(),m+=2}else{const E=d[h=o[m+1]];o[m].call(E)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();r[7]=null}}(t,r),1===r[1].type&&vr(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&On(r[3])){o!==r[3]&&rh(o,r);const d=r[19];null!==d&&d.detachView(t)}}}function wf(t,r,o){return function Zp(t,r,o){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return o[0];if(2&d.flags){const h=t.data[d.directiveStart].encapsulation;if(h===lt.None||h===lt.Emulated)return null}return R(d,o)}(t,r.parent,o)}function Jl(t,r,o,d,h){vr(t)?t.insertBefore(r,o,d,h):r.insertBefore(o,d,h)}function Pg(t,r,o){vr(t)?t.appendChild(r,o):r.appendChild(o)}function Cf(t,r,o,d,h){null!==d?Jl(t,r,o,d,h):Pg(t,r,o)}function Mu(t,r){return vr(t)?t.parentNode(r):r.parentNode}function sh(t,r,o){return Cl(t,r,o)}let Cl=function Ki(t,r,o){return 40&t.type?R(t,o):null};function Eo(t,r,o,d){const h=wf(t,d,r),m=r[11],T=sh(d.parent||r[6],d,r);if(null!=h)if(Array.isArray(o))for(let O=0;O<o.length;O++)Cf(m,h,o[O],T,!1);else Cf(m,h,o,T,!1)}function Xc(t,r){if(null!==r){const o=r.type;if(3&o)return R(r,t);if(4&o)return sc(-1,t[r.index]);if(8&o){const d=r.child;if(null!==d)return Xc(t,d);{const h=t[r.index];return On(h)?sc(-1,h):Tr(h)}}if(32&o)return Au(r,t)()||Tr(t[r.index]);{const d=Yp(t,r);return null!==d?Array.isArray(d)?d[0]:Xc(gi(t[16]),d):Xc(t,r.next)}}return null}function Yp(t,r){return null!==r?t[16][6].projection[r.projection]:null}function sc(t,r){const o=10+t+1;if(o<r.length){const d=r[o],h=d[1].firstChild;if(null!==h)return Xc(d,h)}return r[7]}function qa(t,r,o,d,h,m,E){for(;null!=o;){const T=d[o.index],O=o.type;if(E&&0===r&&(T&&Nr(Tr(T),d),o.flags|=4),64!=(64&o.flags))if(8&O)qa(t,r,o.child,d,h,m,!1),Yc(r,t,h,T,m);else if(32&O){const F=Au(o,d);let $;for(;$=F();)Yc(r,t,h,$,m);Yc(r,t,h,T,m)}else 16&O?eu(t,r,d,o,h,m):Yc(r,t,h,T,m);o=E?o.projectionNext:o.next}}function oc(t,r,o,d,h,m){qa(o,d,t.firstChild,r,h,m,!1)}function eu(t,r,o,d,h,m){const E=o[16],O=E[6].projection[d.projection];if(Array.isArray(O))for(let F=0;F<O.length;F++)Yc(r,t,h,O[F],m);else qa(t,r,O,E[3],h,m,!0)}function Jp(t,r,o){vr(t)?t.setAttribute(r,"style",o):r.style.cssText=o}function ah(t,r,o){vr(t)?""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o):r.className=o}function If(t,r,o){let d=t.length;for(;;){const h=t.indexOf(r,o);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const m=r.length;if(h+m===d||t.charCodeAt(h+m)<=32)return h}o=h+1}}const Xp="ng-template";function em(t,r,o){let d=0;for(;d<t.length;){let h=t[d++];if(o&&"class"===h){if(h=t[d],-1!==If(h.toLowerCase(),r,0))return!0}else if(1===h){for(;d<t.length&&"string"==typeof(h=t[d++]);)if(h.toLowerCase()===r)return!0;return!1}}return!1}function tm(t){return 4===t.type&&t.value!==Xp}function Vg(t,r,o){return r===(4!==t.type||o?t.value:Xp)}function Il(t,r,o){let d=4;const h=t.attrs||[],m=function jg(t){for(let r=0;r<t.length;r++)if(gu(t[r]))return r;return t.length}(h);let E=!1;for(let T=0;T<r.length;T++){const O=r[T];if("number"!=typeof O){if(!E)if(4&d){if(d=2|1&d,""!==O&&!Vg(t,O,o)||""===O&&1===r.length){if(Ms(d))return!1;E=!0}}else{const F=8&d?O:r[++T];if(8&d&&null!==t.attrs){if(!em(t.attrs,F,o)){if(Ms(d))return!1;E=!0}continue}const Q=Bg(8&d?"class":O,h,tm(t),o);if(-1===Q){if(Ms(d))return!1;E=!0;continue}if(""!==F){let ue;ue=Q>m?"":h[Q+1].toLowerCase();const Oe=8&d?ue:null;if(Oe&&-1!==If(Oe,F,0)||2&d&&F!==ue){if(Ms(d))return!1;E=!0}}}}else{if(!E&&!Ms(d)&&!Ms(O))return!1;if(E&&Ms(O))continue;E=!1,d=O|1&d}}return Ms(d)||E}function Ms(t){return 0==(1&t)}function Bg(t,r,o,d){if(null===r)return-1;let h=0;if(d||!o){let m=!1;for(;h<r.length;){const E=r[h];if(E===t)return h;if(3===E||6===E)m=!0;else{if(1===E||2===E){let T=r[++h];for(;"string"==typeof T;)T=r[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=m?1:2}return-1}return function $s(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const d=t[o];if("number"==typeof d)return-1;if(d===r)return o;o++}return-1}(r,t)}function nm(t,r,o=!1){for(let d=0;d<r.length;d++)if(Il(t,r[d],o))return!0;return!1}function Hg(t,r){e:for(let o=0;o<r.length;o++){const d=r[o];if(t.length===d.length){for(let h=0;h<t.length;h++)if(t[h]!==d[h])continue e;return!0}}return!1}function lh(t,r){return t?":not("+r.trim()+")":r}function Ka(t){let r=t[0],o=1,d=2,h="",m=!1;for(;o<t.length;){let E=t[o];if("string"==typeof E)if(2&d){const T=t[++o];h+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?h+="."+E:4&d&&(h+=" "+E);else""!==h&&!Ms(E)&&(r+=lh(m,h),h=""),d=E,m=m||!Ms(d);o++}return""!==h&&(r+=lh(m,h)),r}const zn={};function rm(t){Df(Un(),Et(),es()+t,Ws())}function Df(t,r,o,d){if(!d)if(3==(3&r[2])){const m=t.preOrderCheckHooks;null!==m&&Sa(r,m,o)}else{const m=t.preOrderHooks;null!==m&&dl(r,m,0,o)}Jo(o)}function dh(t,r){return t<<17|r<<2}function da(t){return t>>17&32767}function xs(t){return 2|t}function Tl(t){return(131068&t)>>2}function $g(t,r){return-131069&t|r<<2}function ac(t){return 1|t}function td(t,r){const o=t.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const h=o[d],m=o[d+1];if(-1!==m){const E=t.data[m];Qo(h),E.contentQueries(2,r[m],m)}}}function dc(t,r,o,d,h,m,E,T,O,F){const $=r.blueprint.slice();return $[0]=h,$[2]=140|d,vn($),$[3]=$[15]=t,$[8]=o,$[10]=E||t&&t[10],$[11]=T||t&&t[11],$[12]=O||t&&t[12]||null,$[9]=F||t&&t[9]||null,$[6]=m,$[16]=2==r.type?t[16]:$,$}function ma(t,r,o,d,h){let m=t.data[r];if(null===m)m=function hc(t,r,o,d,h){const m=sl(),E=ol(),O=t.data[r]=function mc(t,r,o,d,h,m){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,o,r,d,h);return null===t.firstChild&&(t.firstChild=O),null!==m&&(E?null==m.child&&null!==O.parent&&(m.child=O):null===m.next&&(m.next=O)),O}(t,r,o,d,h),function Yo(){return Gt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=o,m.value=d,m.attrs=h;const E=function lo(){const t=Gt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return Ti(m,!0),m}function ga(t,r,o,d){if(0===o)return-1;const h=r.length;for(let m=0;m<o;m++)r.push(d),t.blueprint.push(d),t.data.push(null);return h}function nd(t,r,o){xr(r);try{const d=t.viewQuery;null!==d&&Lf(1,d,o);const h=t.template;null!==h&&Of(t,r,h,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&td(t,r),t.staticViewQueries&&Lf(2,t.viewQuery,o);const m=t.components;null!==m&&function um(t,r){for(let o=0;o<r.length;o++)Pf(t,r[o])}(r,m)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{r[2]&=-5,Ts()}}function Ou(t,r,o,d){const h=r[2];if(256==(256&h))return;xr(r);const m=Ws();try{vn(r),function uo(t){return Gt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Of(t,r,o,2,d);const E=3==(3&h);if(!m)if(E){const F=t.preOrderCheckHooks;null!==F&&Sa(r,F,null)}else{const F=t.preOrderHooks;null!==F&&dl(r,F,0,null),br(r,0)}if(function bh(t){for(let r=th(t);null!==r;r=Yl(r)){if(!r[2])continue;const o=r[9];for(let d=0;d<o.length;d++){const h=o[d],m=h[3];0==(1024&h[2])&&bn(m,1),h[2]|=1024}}}(r),function fm(t){for(let r=th(t);null!==r;r=Yl(r))for(let o=10;o<r.length;o++){const d=r[o],h=d[1];Yt(d)&&Ou(h,d,h.template,d[8])}}(r),null!==t.contentQueries&&td(t,r),!m)if(E){const F=t.contentCheckHooks;null!==F&&Sa(r,F)}else{const F=t.contentHooks;null!==F&&dl(r,F,1),br(r,1)}!function Qy(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const h=o[d];if(h<0)Jo(~h);else{const m=h,E=o[++d],T=o[++d];ll(E,m),T(2,r[m])}}}finally{Jo(-1)}}(t,r);const T=t.components;null!==T&&function gh(t,r){for(let o=0;o<r.length;o++)Eh(t,r[o])}(r,T);const O=t.viewQuery;if(null!==O&&Lf(2,O,d),!m)if(E){const F=t.viewCheckHooks;null!==F&&Sa(r,F)}else{const F=t.viewHooks;null!==F&&dl(r,F,2),br(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),m||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,bn(r[3],-1))}finally{Ts()}}function no(t,r,o,d){const h=r[10],m=!Ws(),E=xt(r);try{m&&!E&&h.begin&&h.begin(),E&&nd(t,r,d),Ou(t,r,o,d)}finally{m&&!E&&h.end&&h.end()}}function Of(t,r,o,d,h){const m=es(),E=2&d;try{Jo(-1),E&&r.length>20&&Df(t,r,20,Ws()),o(d,h)}finally{Jo(m)}}function fc(t,r,o){if(dr(r)){const h=r.directiveEnd;for(let m=r.directiveStart;m<h;m++){const E=t.data[m];E.contentQueries&&E.contentQueries(1,o[m],m)}}}function pc(t,r,o){!Ci()||(function n_(t,r,o,d){const h=o.directiveStart,m=o.directiveEnd;t.firstCreatePass||go(o,r),Nr(d,r);const E=o.initialInputs;for(let T=h;T<m;T++){const O=t.data[T],F=gn(O);F&&rv(r,o,O);const $=pe(r,t,T,o);Nr($,r),null!==E&&iv(0,T-h,$,O,0,E),F&&(Te(o.index,r)[8]=$)}}(t,r,o,R(o,r)),128==(128&o.flags)&&function r_(t,r,o){const d=o.directiveStart,h=o.directiveEnd,E=o.index,T=function ul(){return Gt.lFrame.currentDirectiveIndex}();try{Jo(E);for(let O=d;O<h;O++){const F=t.data[O],$=r[O];Fl(O),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Rf(F,$)}}finally{Jo(-1),Fl(T)}}(t,r,o))}function rd(t,r,o=R){const d=r.localNames;if(null!==d){let h=r.index+1;for(let m=0;m<d.length;m+=2){const E=d[m+1],T=-1===E?o(r,t):t[E];t[h++]=T}}}function nu(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ru(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function ru(t,r,o,d,h,m,E,T,O,F){const $=20+d,Q=$+h,ue=function id(t,r){const o=[];for(let d=0;d<r;d++)o.push(d<t?null:zn);return o}($,Q),Oe="function"==typeof F?F():F;return ue[1]={type:t,blueprint:ue,template:o,queries:null,viewQuery:T,declTNode:r,data:ue.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:O,consts:Oe,incompleteFirstPass:!1}}function Jg(t,r,o,d){const h=gc(r);null===o?h.push(d):(h.push(o),t.firstCreatePass&&dd(t).push(d,h.length-1))}function Xg(t,r,o){for(let d in t)if(t.hasOwnProperty(d)){const h=t[d];(o=null===o?{}:o).hasOwnProperty(d)?o[d].push(r,h):o[d]=[r,h]}return o}function Bo(t,r,o,d,h,m,E,T){const O=R(r,o);let $,F=r.inputs;!T&&null!=F&&($=F[d])?(Vf(t,o,$,d,h),Xn(r)&&function t_(t,r){const o=Te(r,t);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(d=function e_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),h=null!=E?E(h,r.value||"",d):h,vr(m)?m.setProperty(O,d,h):Mo(d)||(O.setProperty?O.setProperty(d,h):O[d]=h))}function Sl(t,r,o,d){let h=!1;if(Ci()){const m=function nv(t,r,o){const d=t.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const E=d[m];nm(o,E.selectors,!1)&&(h||(h=[]),Oo(go(o,r),t,E.type),gn(E)?(dm(t,o),h.unshift(E)):h.push(E))}return h}(t,r,o),E=null===d?null:{"":-1};if(null!==m){h=!0,i_(o,t.data.length,m.length);for(let $=0;$<m.length;$++){const Q=m[$];Q.providersResolver&&Q.providersResolver(Q)}let T=!1,O=!1,F=ga(t,r,m.length,null);for(let $=0;$<m.length;$++){const Q=m[$];o.mergedAttrs=ka(o.mergedAttrs,Q.hostAttrs),kf(t,o,r,F,Q),Bi(F,Q,E),null!==Q.contentQueries&&(o.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=128);const ue=Q.type.prototype;!T&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(o.index),T=!0),!O&&(ue.ngOnChanges||ue.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(o.index),O=!0),F++}!function Xy(t,r){const d=r.directiveEnd,h=t.data,m=r.attrs,E=[];let T=null,O=null;for(let F=r.directiveStart;F<d;F++){const $=h[F],Q=$.inputs,ue=null===m||tm(r)?null:vh(Q,m);E.push(ue),T=Xg(Q,F,T),O=Xg($.outputs,F,O)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=T,r.outputs=O}(t,o)}E&&function hm(t,r,o){if(r){const d=t.localNames=[];for(let h=0;h<r.length;h+=2){const m=o[r[h+1]];if(null==m)throw new dt(-301,`Export of name '${r[h+1]}' not found!`);d.push(r[h],m)}}}(o,d,E)}return o.mergedAttrs=ka(o.mergedAttrs,o.attrs),h}function od(t,r,o,d,h,m){const E=m.hostBindings;if(E){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const O=~r.index;(function cm(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(T)!=O&&T.push(O),T.push(d,h,E)}}function Rf(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function dm(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Bi(t,r,o){if(o){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)o[r.exportAs[d]]=t;gn(r)&&(o[""]=t)}}function i_(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}function kf(t,r,o,d,h){t.data[d]=h;const m=h.factory||(h.factory=li(h.type)),E=new xa(m,gn(h),null);t.blueprint[d]=E,o[d]=E,od(t,r,0,d,ga(t,o,h.hostVars,zn),h)}function rv(t,r,o){const d=R(r,t),h=nu(o),m=t[10],E=Ff(t,dc(t,h,null,o.onPush?64:16,d,r,m,m.createRenderer(d,o),null,null));t[r.index]=E}function ya(t,r,o,d,h,m){const E=R(t,r);!function yh(t,r,o,d,h,m,E){if(null==m)vr(t)?t.removeAttribute(r,h,o):r.removeAttribute(h);else{const T=null==E?He(m):E(m,d||"",h);vr(t)?t.setAttribute(r,h,T,o):o?r.setAttributeNS(o,h,T):r.setAttribute(h,T)}}(r[11],E,m,t.value,o,d,h)}function iv(t,r,o,d,h,m){const E=m[r];if(null!==E){const T=d.setInput;for(let O=0;O<E.length;){const F=E[O++],$=E[O++],Q=E[O++];null!==T?d.setInput(o,Q,F,$):o[$]=Q}}}function vh(t,r){let o=null,d=0;for(;d<r.length;){const h=r[d];if(0!==h)if(5!==h){if("number"==typeof h)break;t.hasOwnProperty(h)&&(null===o&&(o=[]),o.push(h,t[h],r[d+1])),d+=2}else d+=2;else d+=4}return o}function Nf(t,r,o,d){return new Array(t,!0,!1,r,null,0,d,o,null,null)}function Eh(t,r){const o=Te(r,t);if(Yt(o)){const d=o[1];80&o[2]?Ou(d,o,d.template,o[8]):o[5]>0&&ad(o)}}function ad(t){for(let d=th(t);null!==d;d=Yl(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const E=m[1];Ou(E,m,E.template,m[8])}else m[5]>0&&ad(m)}const o=t[1].components;if(null!==o)for(let d=0;d<o.length;d++){const h=Te(o[d],t);Yt(h)&&h[5]>0&&ad(h)}}function Pf(t,r){const o=Te(r,t),d=o[1];(function pm(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])})(d,o),nd(d,o,o[8])}function Ff(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function wh(t){for(;t;){t[2]|=64;const r=gi(t);if(Vr(t)&&!r)return t;t=r}return null}function ld(t,r,o){const d=r[10];d.begin&&d.begin();try{Ou(t,r,t.template,o)}catch(h){throw gm(r,h),h}finally{d.end&&d.end()}}function ud(t){!function Ch(t){for(let r=0;r<t.components.length;r++){const o=t.components[r],d=Wl(o),h=d[1];no(h,d,h.template,o)}}(t[8])}function Lf(t,r,o){Qo(0),r(t,o)}const cd=(()=>Promise.resolve(null))();function gc(t){return t[7]||(t[7]=[])}function dd(t){return t.cleanup||(t.cleanup=[])}function gm(t,r){const o=t[9],d=o?o.get(El,null):null;d&&d.handleError(r)}function Vf(t,r,o,d,h){for(let m=0;m<o.length;){const E=o[m++],T=o[m++],O=r[E],F=t.data[E];null!==F.setInput?F.setInput(O,h,d,T):O[T]=h}}function Ml(t,r,o){const d=S(r,t);!function Ng(t,r,o){vr(t)?t.setValue(r,o):r.textContent=o}(t[11],d,o)}function Ih(t,r,o){let d=o?t.styles:null,h=o?t.classes:null,m=0;if(null!==r)for(let E=0;E<r.length;E++){const T=r[E];"number"==typeof T?m=T:1==m?h=ze(h,T):2==m&&(d=ze(d,T+": "+r[++E]+";"))}o?t.styles=d:t.stylesWithoutHost=d,o?t.classes=h:t.classesWithoutHost=h}const Th=new Ar("INJECTOR",-1);class u_{get(r,o=Pa){if(o===Pa){const d=new Error(`NullInjectorError: No provider for ${Ve(r)}!`);throw d.name="NullInjectorError",d}return o}}const Bf=new Ar("Set Injector scope."),_c={},Dh={};let fd;function vm(){return void 0===fd&&(fd=new u_),fd}function bm(t,r=null,o=null,d){const h=Em(t,r,o,d);return h._resolveInjectorDefTypes(),h}function Em(t,r=null,o=null,d){return new sv(t,o,r||vm(),d)}class sv{constructor(r,o,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];o&&Dt(o,T=>this.processProvider(T,r,o)),Dt([r],T=>this.processInjectorType(T,[],m)),this.records.set(Th,yc(void 0,this));const E=this.records.get(Bf);this.scope=null!=E?E.value:null,this.source=h||("object"==typeof r?null:Ve(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=Pa,d=Xt.Default){this.assertNotDestroyed();const h=ml(this),m=ir(void 0);try{if(!(d&Xt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const O=function Cm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ar}(r)&&St(r);T=O&&this.injectableDefInScope(O)?yc(wm(r),_c):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(d&Xt.Self?vm():this.parent).get(r,o=d&Xt.Optional&&o===Pa?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[Sn]=E[Sn]||[]).unshift(Ve(r)),h)throw E;return function Zs(t,r,o,d){const h=t[Sn];throw r[Qr]&&h.unshift(r[Qr]),t.message=function Bd(t,r,o,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let h=Ve(r);if(Array.isArray(r))h=r.map(Ve).join(" -> ");else if("object"==typeof r){let m=[];for(let E in r)if(r.hasOwnProperty(E)){let T=r[E];m.push(E+":"+("string"==typeof T?JSON.stringify(T):Ve(T)))}h=`{${m.join(", ")}}`}return`${o}${d?"("+d+")":""}[${h}]: ${t.replace(tr,"\n  ")}`}("\n"+t.message,h,o,d),t.ngTokenPath=h,t[Sn]=null,t}(E,r,"R3InjectorError",this.source)}throw E}finally{ir(m),ml(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((d,h)=>r.push(Ve(h))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,"")}processInjectorType(r,o,d){if(!(r=Se(r)))return!1;let h=qn(r);const m=null==h&&r.ngModule||void 0,E=void 0===m?r:m,T=-1!==d.indexOf(E);if(void 0!==m&&(h=qn(m)),null==h)return!1;if(null!=h.imports&&!T){let $;d.push(E);try{Dt(h.imports,Q=>{this.processInjectorType(Q,o,d)&&(void 0===$&&($=[]),$.push(Q))})}finally{}if(void 0!==$)for(let Q=0;Q<$.length;Q++){const{ngModule:ue,providers:Oe}=$[Q];Dt(Oe,Ke=>this.processProvider(Ke,ue,Oe||Je))}}this.injectorDefTypes.add(E);const O=li(E)||(()=>new E);this.records.set(E,yc(O,_c));const F=h.providers;if(null!=F&&!T){const $=r;Dt(F,Q=>this.processProvider(Q,$,F))}return void 0!==m&&void 0!==r.providers}processProvider(r,o,d){let h=vc(r=Se(r))?r:Se(r&&r.provide);const m=function ov(t,r,o){return ro(t)?yc(void 0,t.useValue):yc(d_(t),_c)}(r);if(vc(r)||!0!==r.multi)this.records.get(h);else{let E=this.records.get(h);E||(E=yc(void 0,_c,!0),E.factory=()=>La(E.multi),this.records.set(h,E)),h=r,E.multi.push(r)}this.records.set(h,m)}hydrate(r,o){return o.value===_c&&(o.value=Dh,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Kb(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Se(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function wm(t){const r=St(t),o=null!==r?r.factory:li(t);if(null!==o)return o;if(t instanceof Ar)throw new dt(204,"");if(t instanceof Function)return function c_(t){const r=t.length;if(r>0)throw Bs(r,"?"),new dt(204,"");const o=function Cn(t){const r=t&&(t[Yn]||t[wt]);if(r){const o=function Tn(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new dt(204,"")}function d_(t,r,o){let d;if(vc(t)){const h=Se(t);return li(h)||wm(h)}if(ro(t))d=()=>Se(t.useValue);else if(function Ah(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...La(t.deps||[]));else if(function xl(t){return!(!t||!t.useExisting)}(t))d=()=>Ai(Se(t.useExisting));else{const h=Se(t&&(t.useClass||t.provide));if(!function bc(t){return!!t.deps}(t))return li(h)||wm(h);d=()=>new h(...La(t.deps))}return d}function yc(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function ro(t){return null!==t&&"object"==typeof t&&Zt in t}function vc(t){return"function"==typeof t}let Rs=(()=>{class t{static create(o,d){var h;if(Array.isArray(o))return bm({name:""},d,o,"");{const m=null!==(h=o.name)&&void 0!==h?h:"";return bm({name:m},o.parent,o.providers,m)}}}return t.THROW_IF_NOT_FOUND=Pa,t.NULL=new u_,t.\u0275prov=yt({token:t,providedIn:"any",factory:()=>Ai(Th)}),t.__NG_ELEMENT_ID__=-1,t})();function md(t,r){Ls(Wl(t)[1],Wr())}function g_(t){let r=function Am(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const d=[t];for(;r;){let h;if(gn(t))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new dt(903,"");h=r.\u0275dir}if(h){if(o){d.push(h);const E=t;E.inputs=y_(t.inputs),E.declaredInputs=y_(t.declaredInputs),E.outputs=y_(t.outputs);const T=h.hostBindings;T&&Mm(t,T);const O=h.viewQuery,F=h.contentQueries;if(O&&Sm(t,O),F&&hv(t,F),K(t.inputs,h.inputs),K(t.declaredInputs,h.declaredInputs),K(t.outputs,h.outputs),gn(h)&&h.data.animation){const $=t.data;$.animation=($.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let E=0;E<m.length;E++){const T=m[E];T&&T.ngInherit&&T(t),T===g_&&(o=!1)}}r=Object.getPrototypeOf(r)}!function __(t){let r=0,o=null;for(let d=t.length-1;d>=0;d--){const h=t[d];h.hostVars=r+=h.hostVars,h.hostAttrs=ka(h.hostAttrs,o=ka(o,h.hostAttrs))}}(d)}function y_(t){return t===cn?{}:t===Je?[]:t}function Sm(t,r){const o=t.viewQuery;t.viewQuery=o?(d,h)=>{r(d,h),o(d,h)}:r}function hv(t,r){const o=t.contentQueries;t.contentQueries=o?(d,h,m)=>{r(d,h,m),o(d,h,m)}:r}function Mm(t,r){const o=t.hostBindings;t.hostBindings=o?(d,h)=>{r(d,h),o(d,h)}:r}let Oh=null;function Xa(){if(!Oh){const t=en.Symbol;if(t&&t.iterator)Oh=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const d=r[o];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Oh=d)}}}return Oh}function Ec(t){return!!Gf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xa()in t)}function Gf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function io(t,r,o){return t[r]=o}function so(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function zf(t,r,o,d){const h=Et();return so(h,ds(),r)&&(Un(),ya(ur(),h,t,r,o,d)),zf}function Ph(t,r,o,d){return so(t,ds(),o)?r+He(o)+d:zn}function km(t,r,o,d,h,m,E,T){const O=Et(),F=Un(),$=t+20,Q=F.firstCreatePass?function Zb(t,r,o,d,h,m,E,T,O){const F=r.consts,$=ma(r,t,4,E||null,Ut(F,T));Sl(r,o,$,Ut(F,O)),Ls(r,$);const Q=$.tViews=ru(2,$,d,h,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F);return null!==r.queries&&(r.queries.template(r,$),Q.queries=r.queries.embeddedTView($)),$}($,F,O,r,o,d,h,m,E):F.data[$];Ti(Q,!1);const ue=O[11].createComment("");Eo(F,O,ue,Q),Nr(ue,O),Ff(O,O[$]=Nf(ue,O,ue,Q)),yn(Q)&&pc(F,O,Q),null!=E&&rd(O,Q,T)}function Nm(t){return function ce(t,r){return t[r]}(function al(){return Gt.lFrame.contextLView}(),20+t)}function Qf(t,r=Xt.Default){const o=Et();return null===o?Ai(t,r):D(Wr(),o,Se(t),r)}function Sv(){throw new Error("invalid")}function L_(t,r,o){const d=Et();return so(d,ds(),r)&&Bo(Un(),ur(),d,t,r,d[11],o,!1),L_}function Jf(t,r,o,d,h){const E=h?"class":"style";Vf(t,o,r.inputs[E],E,d)}function Bh(t,r,o,d){const h=Et(),m=Un(),E=20+t,T=h[11],O=h[E]=bf(T,r,function mo(){return Gt.lFrame.currentNamespace}()),F=m.firstCreatePass?function Mv(t,r,o,d,h,m,E){const T=r.consts,F=ma(r,t,2,h,Ut(T,m));return Sl(r,o,F,Ut(T,E)),null!==F.attrs&&Ih(F,F.attrs,!1),null!==F.mergedAttrs&&Ih(F,F.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,F),F}(E,m,h,0,r,o,d):m.data[E];Ti(F,!0);const $=F.mergedAttrs;null!==$&&Ra(T,O,$);const Q=F.classes;null!==Q&&ah(T,O,Q);const ue=F.styles;null!==ue&&Jp(T,O,ue),64!=(64&F.flags)&&Eo(m,h,O,F),0===function Dr(){return Gt.lFrame.elementDepthCount}()&&Nr(O,h),function Ji(){Gt.lFrame.elementDepthCount++}(),yn(F)&&(pc(m,h,F),fc(m,F,h)),null!==d&&rd(h,F)}function V_(){let t=Wr();ol()?Ps():(t=t.parent,Ti(t,!1));const r=t;!function ki(){Gt.lFrame.elementDepthCount--}();const o=Un();o.firstCreatePass&&(Ls(o,t),dr(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Ll(t){return 0!=(16&t.flags)}(r)&&Jf(o,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function So(t){return 0!=(32&t.flags)}(r)&&Jf(o,r,Et(),r.stylesWithoutHost,!1)}function xv(t,r,o,d){Bh(t,r,o,d),V_()}function Vm(t,r,o){const d=Et(),h=Un(),m=t+20,E=h.firstCreatePass?function s0(t,r,o,d,h){const m=r.consts,E=Ut(m,d),T=ma(r,t,8,"ng-container",E);return null!==E&&Ih(T,E,!0),Sl(r,o,T,Ut(m,h)),null!==r.queries&&r.queries.elementStart(r,T),T}(m,h,d,r,o):h.data[m];Ti(E,!0);const T=d[m]=d[11].createComment("");Eo(h,d,T,E),Nr(T,d),yn(E)&&(pc(h,d,E),fc(h,E,d)),null!=o&&rd(d,E)}function Xf(){let t=Wr();const r=Un();ol()?Ps():(t=t.parent,Ti(t,!1)),r.firstCreatePass&&(Ls(r,t),dr(t)&&r.queries.elementEnd(t))}function Bm(){return Et()}function ep(t){return!!t&&"function"==typeof t.then}function Um(t){return!!t&&"function"==typeof t.subscribe}const tp=Um;function np(t,r,o,d){const h=Et(),m=Un(),E=Wr();return function U_(t,r,o,d,h,m,E,T){const O=yn(d),$=t.firstCreatePass&&dd(t),Q=r[8],ue=gc(r);let Oe=!0;if(3&d.type||T){const Vt=R(d,r),nn=T?T(Vt):Vt,Ct=ue.length,In=T?Zn=>T(Tr(Zn[d.index])):d.index;if(vr(o)){let Zn=null;if(!T&&O&&(Zn=function jm(t,r,o,d){const h=t.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const E=h[m];if(E===o&&h[m+1]===d){const T=r[7],O=h[m+2];return T.length>O?T[O]:null}"string"==typeof E&&(m+=2)}return null}(t,r,h,d.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=m,Zn.__ngLastListenerFn__=m,Oe=!1;else{m=Tc(d,r,Q,m,!1);const qr=o.listen(nn,h,m);ue.push(m,qr),$&&$.push(h,In,Ct,Ct+1)}}else m=Tc(d,r,Q,m,!0),nn.addEventListener(h,m,E),ue.push(m),$&&$.push(h,In,Ct,E)}else m=Tc(d,r,Q,m,!1);const Ke=d.outputs;let Ot;if(Oe&&null!==Ke&&(Ot=Ke[h])){const Vt=Ot.length;if(Vt)for(let nn=0;nn<Vt;nn+=2){const ao=r[Ot[nn]][Ot[nn+1]].subscribe(m),nl=ue.length;ue.push(m,ao),$&&$.push(h,d.index,nl,-(nl+1))}}}(m,h,h[11],E,t,r,!!o,d),np}function Hm(t,r,o,d){try{return!1!==o(d)}catch(h){return gm(t,h),!1}}function Tc(t,r,o,d,h){return function m(E){if(E===Function)return d;const T=2&t.flags?Te(t.index,r):r;0==(32&r[2])&&wh(T);let O=Hm(r,0,d,E),F=m.__ngNextListenerFn__;for(;F;)O=Hm(r,0,F,E)&&O,F=F.__ngNextListenerFn__;return h&&!1===O&&(E.preventDefault(),E.returnValue=!1),O}}function $m(t=1){return function cl(t){return(Gt.lFrame.contextLView=function po(t,r){for(;t>0;)r=r[15],t--;return r}(t,Gt.lFrame.contextLView))[8]}(t)}function o0(t,r){let o=null;const d=function Ug(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(t);for(let h=0;h<r.length;h++){const m=r[h];if("*"!==m){if(null===d?nm(t,m,!0):Hg(d,m))return h}else o=h}return o}function Rv(t){const r=Et()[16][6];if(!r.projection){const d=r.projection=Bs(t?t.length:1,null),h=d.slice();let m=r.child;for(;null!==m;){const E=t?o0(m,t):0;null!==E&&(h[E]?h[E].projectionNext=m:d[E]=m,h[E]=m),m=m.next}}}function kv(t,r=0,o){const d=Et(),h=Un(),m=ma(h,20+t,16,null,o||null);null===m.projection&&(m.projection=r),Ps(),64!=(64&m.flags)&&function Hs(t,r,o){eu(r[11],0,r,o,wf(t,o,r),sh(o.parent||r[6],o,r))}(h,d,m)}function Gm(t,r,o){return zm(t,"",r,"",o),Gm}function zm(t,r,o,d,h){const m=Et(),E=Ph(m,r,o,d);return E!==zn&&Bo(Un(),ur(),m,t,E,m[11],h,!1),zm}function wr(t,r,o,d,h){const m=t[o+1],E=null===r;let T=d?da(m):Tl(m),O=!1;for(;0!==T&&(!1===O||E);){const $=t[T+1];Pv(t[T],r)&&(O=!0,t[T+1]=d?ac($):xs($)),T=d?da($):Tl($)}O&&(t[o+1]=d?xs(m):ac(m))}function Pv(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ds(t,r)>=0}const Ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jh(t){return t.substring(Ui.key,Ui.keyEnd)}function ks(t,r){const o=Ui.textEnd;return o===r?-1:(r=Ui.keyEnd=function kE(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Ui.key=r,o),Hh(t,r,o))}function Hh(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function oi(t,r,o){return lu(t,r,o,!1),oi}function q_(t,r){return lu(t,r,null,!0),q_}function Km(t){!function el(t,r,o,d){const h=Un(),m=hs(2);h.firstUpdatePass&&d0(h,null,m,d);const E=Et();if(o!==zn&&so(E,m,o)){const T=h.data[es()];if(Vu(T,d)&&!c0(h,m)){let O=d?T.classesWithoutHost:T.stylesWithoutHost;null!==O&&(o=ze(O,o||"")),Jf(h,T,E,o,d)}else!function Lu(t,r,o,d,h,m,E,T){h===zn&&(h=Je);let O=0,F=0,$=0<h.length?h[0]:null,Q=0<m.length?m[0]:null;for(;null!==$||null!==Q;){const ue=O<h.length?h[O+1]:void 0,Oe=F<m.length?m[F+1]:void 0;let Ot,Ke=null;$===Q?(O+=2,F+=2,ue!==Oe&&(Ke=Q,Ot=Oe)):null===Q||null!==$&&$<Q?(O+=2,Ke=$):(F+=2,Ke=Q,Ot=Oe),null!==Ke&&sp(t,r,o,d,Ke,Ot,E,T),$=O<h.length?h[O]:null,Q=F<m.length?m[F]:null}}(h,T,E,E[11],E[m+1],E[m+1]=function Gh(t,r,o){if(null==o||""===o)return Je;const d=[],h=gs(o);if(Array.isArray(h))for(let m=0;m<h.length;m++)t(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&t(d,m,h[m]);else"string"==typeof h&&r(d,h);return d}(t,r,o),d,m)}}(Er,Rl,t,!0)}function Rl(t,r){for(let o=function Zi(t){return function l0(t){Ui.key=0,Ui.keyEnd=0,Ui.value=0,Ui.valueEnd=0,Ui.textEnd=t.length}(t),ks(t,Hh(t,0,Ui.textEnd))}(r);o>=0;o=ks(r,o))Er(t,jh(r),!0)}function lu(t,r,o,d){const h=Et(),m=Un(),E=hs(2);m.firstUpdatePass&&d0(m,t,E,d),r!==zn&&so(h,E,r)&&sp(m,m.data[es()],h,h[11],t,h[E+1]=function K_(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ve(gs(t)))),t}(r,o),d,E)}function c0(t,r){return r>=t.expandoStartIndex}function d0(t,r,o,d){const h=t.data;if(null===h[o+1]){const m=h[es()],E=c0(t,o);Vu(m,d)&&null===r&&!E&&(r=!1),r=function NE(t,r,o,d){const h=Is(t);let m=d?r.residualClasses:r.residualStyles;if(null===h)0===(d?r.classBindings:r.styleBindings)&&(o=$h(o=Bv(null,t,r,o,d),r.attrs,d),m=null);else{const E=r.directiveStylingLast;if(-1===E||t[E]!==h)if(o=Bv(h,t,r,o,d),null===m){let O=function PE(t,r,o){const d=o?r.classBindings:r.styleBindings;if(0!==Tl(d))return t[da(d)]}(t,r,d);void 0!==O&&Array.isArray(O)&&(O=Bv(null,t,r,O[1],d),O=$h(O,r.attrs,d),function FE(t,r,o,d){t[da(o?r.classBindings:r.styleBindings)]=d}(t,r,d,O))}else m=function LE(t,r,o){let d;const h=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<h;m++)d=$h(d,t[m].hostAttrs,o);return $h(d,r.attrs,o)}(t,r,d)}return void 0!==m&&(d?r.residualClasses=m:r.residualStyles=m),o}(h,m,r,d),function z_(t,r,o,d,h,m){let E=m?r.classBindings:r.styleBindings,T=da(E),O=Tl(E);t[d]=o;let $,F=!1;if(Array.isArray(o)){const Q=o;$=Q[1],(null===$||Ds(Q,$)>0)&&(F=!0)}else $=o;if(h)if(0!==O){const ue=da(t[T+1]);t[d+1]=dh(ue,T),0!==ue&&(t[ue+1]=$g(t[ue+1],d)),t[T+1]=function tu(t,r){return 131071&t|r<<17}(t[T+1],d)}else t[d+1]=dh(T,0),0!==T&&(t[T+1]=$g(t[T+1],d)),T=d;else t[d+1]=dh(O,0),0===T?T=d:t[O+1]=$g(t[O+1],d),O=d;F&&(t[d+1]=xs(t[d+1])),wr(t,$,d,!0),wr(t,$,d,!1),function Uh(t,r,o,d,h){const m=h?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof r&&Ds(m,r)>=0&&(o[d+1]=ac(o[d+1]))}(r,$,t,d,m),E=dh(T,O),m?r.classBindings=E:r.styleBindings=E}(h,m,r,o,E,d)}}function Bv(t,r,o,d,h){let m=null;const E=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<E&&(m=r[T],d=$h(d,m.hostAttrs,h),m!==t);)T++;return null!==t&&(o.directiveStylingLast=T),d}function $h(t,r,o){const d=o?1:2;let h=-1;if(null!==r)for(let m=0;m<r.length;m++){const E=r[m];"number"==typeof E?h=E:h===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Er(t,E,!!o||r[++m]))}return void 0===t?null:t}function sp(t,r,o,d,h,m,E,T){if(!(3&r.type))return;const O=t.data,F=O[T+1];ap(function Hy(t){return 1==(1&t)}(F)?op(O,r,o,h,Tl(F),E):void 0)||(ap(m)||function im(t){return 2==(2&t)}(F)&&(m=op(O,null,o,h,T,E)),function Qp(t,r,o,d,h){const m=vr(t);if(r)h?m?t.addClass(o,d):o.classList.add(d):m?t.removeClass(o,d):o.classList.remove(d);else{let E=-1===d.indexOf("-")?void 0:Vo.DashCase;if(null==h)m?t.removeStyle(o,d,E):o.style.removeProperty(d);else{const T="string"==typeof h&&h.endsWith("!important");T&&(h=h.slice(0,-10),E|=Vo.Important),m?t.setStyle(o,d,h,E):o.style.setProperty(d,h,T?"important":"")}}}(d,E,S(es(),o),h,m))}function op(t,r,o,d,h,m){const E=null===r;let T;for(;h>0;){const O=t[h],F=Array.isArray(O),$=F?O[1]:O,Q=null===$;let ue=o[h+1];ue===zn&&(ue=Q?Je:void 0);let Oe=Q?Lc(ue,d):$===d?ue:void 0;if(F&&!ap(Oe)&&(Oe=Lc(O,d)),ap(Oe)&&(T=Oe,E))return T;const Ke=t[h+1];h=E?da(Ke):Tl(Ke)}if(null!==r){let O=m?r.residualClasses:r.residualStyles;null!=O&&(T=Lc(O,d))}return T}function ap(t){return void 0!==t}function Vu(t,r){return 0!=(t.flags&(r?16:32))}function Zm(t,r=""){const o=Et(),d=Un(),h=t+20,m=d.firstCreatePass?ma(d,h,1,r,null):d.data[h],E=o[h]=function Qc(t,r){return vr(t)?t.createText(r):t.createTextNode(r)}(o[11],r);Eo(d,o,E,m),Ti(m,!1)}function zh(t){return lp("",t,""),zh}function lp(t,r,o){const d=Et(),h=Ph(d,t,r,o);return h!==zn&&Ml(d,es(),h),lp}function X_(t,r,o){const d=Et();return so(d,ds(),r)&&Bo(Un(),ur(),d,t,r,d[11],o,!0),X_}function Zh(t,r,o){const d=Et();if(so(d,ds(),r)){const m=Un(),E=ur();Bo(m,E,d,t,r,function hd(t,r,o){return(null===t||gn(t))&&(o=function L(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(o[r.index])),o[11]}(Is(m.data),E,d),o,!0)}return Zh}const Dd=void 0;var Yh=["en",[["a","p"],["AM","PM"],Dd],[["AM","PM"],Dd,Dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dd,"{1} 'at' {0}",Dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ey(t){const o=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let Uu={};function Qh(t){const r=function Sc(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Jh(r);if(o)return o;const d=r.split("-")[0];if(o=Jh(d),o)return o;if("en"===d)return Yh;throw new Error(`Missing locale data for the locale "${t}".`)}function Ac(t){return Qh(t)[Rn.PluralCase]}function Jh(t){return t in Uu||(Uu[t]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[t]),Uu[t]}var Rn=(()=>((Rn=Rn||{})[Rn.LocaleId=0]="LocaleId",Rn[Rn.DayPeriodsFormat=1]="DayPeriodsFormat",Rn[Rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rn[Rn.DaysFormat=3]="DaysFormat",Rn[Rn.DaysStandalone=4]="DaysStandalone",Rn[Rn.MonthsFormat=5]="MonthsFormat",Rn[Rn.MonthsStandalone=6]="MonthsStandalone",Rn[Rn.Eras=7]="Eras",Rn[Rn.FirstDayOfWeek=8]="FirstDayOfWeek",Rn[Rn.WeekendRange=9]="WeekendRange",Rn[Rn.DateFormat=10]="DateFormat",Rn[Rn.TimeFormat=11]="TimeFormat",Rn[Rn.DateTimeFormat=12]="DateTimeFormat",Rn[Rn.NumberSymbols=13]="NumberSymbols",Rn[Rn.NumberFormats=14]="NumberFormats",Rn[Rn.CurrencyCode=15]="CurrencyCode",Rn[Rn.CurrencySymbol=16]="CurrencySymbol",Rn[Rn.CurrencyName=17]="CurrencyName",Rn[Rn.Currencies=18]="Currencies",Rn[Rn.Directionality=19]="Directionality",Rn[Rn.PluralCase=20]="PluralCase",Rn[Rn.ExtraData=21]="ExtraData",Rn))();const Mc="en-US";let ag=Mc;function _g(t,r,o,d,h){if(t=Se(t),Array.isArray(t))for(let m=0;m<t.length;m++)_g(t[m],r,o,d,h);else{const m=Un(),E=Et();let T=vc(t)?t:Se(t.provide),O=d_(t);const F=Wr(),$=1048575&F.providerIndexes,Q=F.directiveStart,ue=F.providerIndexes>>20;if(vc(t)||!t.multi){const Oe=new xa(O,h,Qf),Ke=wo(T,r,h?$:$+ue,Q);-1===Ke?(Oo(go(F,E),m,T),yg(m,t,r.length),r.push(T),F.directiveStart++,F.directiveEnd++,h&&(F.providerIndexes+=1048576),o.push(Oe),E.push(Oe)):(o[Ke]=Oe,E[Ke]=Oe)}else{const Oe=wo(T,r,$+ue,Q),Ke=wo(T,r,$,$+ue),Ot=Oe>=0&&o[Oe],Vt=Ke>=0&&o[Ke];if(h&&!Vt||!h&&!Ot){Oo(go(F,E),m,T);const nn=function cb(t,r,o,d,h){const m=new xa(t,o,Qf);return m.multi=[],m.index=r,m.componentProviders=0,vy(m,h,d&&!o),m}(h?D0:tf,o.length,h,d,O);!h&&Vt&&(o[Ke].providerFactory=nn),yg(m,t,r.length,0),r.push(T),F.directiveStart++,F.directiveEnd++,h&&(F.providerIndexes+=1048576),o.push(nn),E.push(nn)}else yg(m,t,Oe>-1?Oe:Ke,vy(o[h?Ke:Oe],O,!h&&d));!h&&d&&Vt&&o[Ke].componentProviders++}}}function yg(t,r,o,d){const h=vc(r),m=function av(t){return!!t.useClass}(r);if(h||m){const O=(m?Se(r.useClass):r).prototype.ngOnDestroy;if(O){const F=t.destroyHooks||(t.destroyHooks=[]);if(!h&&r.multi){const $=F.indexOf(o);-1===$?F.push(o,[d,O]):F[$+1].push(d,O)}else F.push(o,O)}}}function vy(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function wo(t,r,o,d){for(let h=o;h<d;h++)if(r[h]===t)return h;return-1}function tf(t,r,o,d){return by(this.multi,[])}function D0(t,r,o,d){const h=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=pe(o,o[1],this.providerFactory.index,d);m=T.slice(0,E),by(h,m);for(let O=E;O<T.length;O++)m.push(T[O])}else m=[],by(h,m);return m}function by(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function db(t,r=[]){return o=>{o.providersResolver=(d,h)=>function T0(t,r,o){const d=Un();if(d.firstCreatePass){const h=gn(t);_g(o,d.data,d.blueprint,h,!0),_g(r,d.data,d.blueprint,h,!1)}}(d,h?h(t):t,r)}}class Ap{}class A0{resolveComponentFactory(r){throw function fb(t){const r=Error(`No component factory found for ${Ve(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Sp=(()=>{class t{}return t.NULL=new A0,t})();function gb(){return Rd(Wr(),Et())}function Rd(t,r){return new Mp(R(t,r))}let Mp=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=gb,t})();function S0(t){return t instanceof Mp?t.nativeElement:t}class _b{}let x0=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Ey(){const t=Et(),o=Te(Wr().index,t);return function yb(t){return t[11]}(Wt(o)?o:t)}(),t})(),vb=(()=>{class t{}return t.\u0275prov=yt({token:t,providedIn:"root",factory:()=>null}),t})();class xp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vg=new xp("13.1.3"),l={};function e(t,r,o,d,h=!1){for(;null!==o;){const m=r[o.index];if(null!==m&&d.push(Tr(m)),On(m))for(let T=10;T<m.length;T++){const O=m[T],F=O[1].firstChild;null!==F&&e(O[1],O,F,d)}const E=o.type;if(8&E)e(t,r,o.child,d);else if(32&E){const T=Au(o,r);let O;for(;O=T();)d.push(O)}else if(16&E){const T=Yp(r,o);if(Array.isArray(T))d.push(...T);else{const O=gi(r[16]);e(O[1],O,T,d,!0)}}o=h?o.projectionNext:o.next}return d}class s{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return e(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(On(r)){const o=r[8],d=o?o.indexOf(this):-1;d>-1&&(Wa(r,d),yo(o,d))}this._attachedToViewContainer=!1}ih(this._lView[1],this._lView)}onDestroy(r){Jg(this._lView[1],this._lView,null,r)}markForCheck(){wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ld(this._lView[1],this._lView,this.context)}checkNoChanges(){!function o_(t,r,o){Cs(!0);try{ld(t,r,o)}finally{Cs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new dt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hb(t,r){oc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new dt(902,"");this._appRef=r}}class c extends s{constructor(r){super(r),this._view=r}detectChanges(){ud(this._view)}checkNoChanges(){!function mm(t){Cs(!0);try{ud(t)}finally{Cs(!1)}}(this._view)}get context(){return null}}class f extends Sp{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Ce(r);return new G(o,this.ngModule)}}function y(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}const k=new Ar("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xd});class G extends Ap{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Tf(t){return t.map(Ka).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return y(this.componentDef.inputs)}get outputs(){return y(this.componentDef.outputs)}create(r,o,d,h){const m=(h=h||this.ngModule)?function V(t,r){return{get:(o,d,h)=>{const m=t.get(o,l,h);return m!==l||d===l?m:r.get(o,d,h)}}}(r,h.injector):r,E=m.get(_b,ws),T=m.get(vb,null),O=E.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",$=d?function sd(t,r,o){if(vr(t))return t.selectRootElement(r,o===lt.ShadowDom);let d="string"==typeof r?t.querySelector(r):r;return d.textContent="",d}(O,d,this.componentDef.encapsulation):bf(E.createRenderer(null,this.componentDef),F,function w(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(F)),Q=this.componentDef.onPush?576:528,ue=function ou(t,r){return{components:[],scheduler:t||Xd,clean:cd,playerHandler:r||null,flags:0}}(),Oe=ru(0,null,null,1,0,null,null,null,null,null),Ke=dc(null,Oe,ue,Q,null,null,E,O,T,m);let Ot,Vt;xr(Ke);try{const nn=function Dm(t,r,o,d,h,m){const E=o[1];o[20]=t;const O=ma(E,20,2,"#host",null),F=O.mergedAttrs=r.hostAttrs;null!==F&&(Ih(O,F,!0),null!==t&&(Ra(h,t,F),null!==O.classes&&ah(h,t,O.classes),null!==O.styles&&Jp(h,t,O.styles)));const $=d.createRenderer(t,r),Q=dc(o,nu(r),null,r.onPush?64:16,o[20],O,d,$,m||null,null);return E.firstCreatePass&&(Oo(go(O,o),E,r.type),dm(E,O),i_(O,o.length,1)),Ff(o,Q),o[20]=Q}($,this.componentDef,Ke,E,O);if($)if(d)Ra(O,$,["ng-version",vg.full]);else{const{attrs:Ct,classes:In}=function uh(t){const r=[],o=[];let d=1,h=2;for(;d<t.length;){let m=t[d];if("string"==typeof m)2===h?""!==m&&r.push(m,t[++d]):8===h&&o.push(m);else{if(!Ms(h))break;h=m}d++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Ct&&Ra(O,$,Ct),In&&In.length>0&&ah(O,$,In.join(" "))}if(Vt=J(Oe,20),void 0!==o){const Ct=Vt.projection=[];for(let In=0;In<this.ngContentSelectors.length;In++){const Zn=o[In];Ct.push(null!=Zn?Array.from(Zn):null)}}Ot=function m_(t,r,o,d,h){const m=o[1],E=function tv(t,r,o){const d=Wr();t.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),kf(t,d,r,ga(t,r,1,null),o));const h=pe(r,t,d.directiveStart,d);Nr(h,r);const m=R(d,r);return m&&Nr(m,r),h}(m,o,r);if(d.components.push(E),t[8]=E,h&&h.forEach(O=>O(E,r)),r.contentQueries){const O=Wr();r.contentQueries(1,E,O.directiveStart)}const T=Wr();return!m.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Jo(T.index),od(o[1],T,0,T.directiveStart,T.directiveEnd,r),Rf(r,E)),E}(nn,this.componentDef,Ke,ue,[md]),nd(Oe,Ke,null)}finally{Ts()}return new Ye(this.componentType,Ot,Rd(Vt,Ke),Ke,Vt)}}class Ye extends class hb{}{constructor(r,o,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=o,this.hostView=this.changeDetectorRef=new c(h),this.componentType=r}get injector(){return new hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class vt{}class tn{}const mn=new Map;class ys extends vt{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new f(this);const d=dn(r);this._bootstrapComponents=Kl(d.bootstrap),this._r3Injector=Em(r,o,[{provide:vt,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver}],Ve(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Rs.THROW_IF_NOT_FOUND,d=Xt.Default){return r===Rs||r===vt||r===Th?this:this._r3Injector.get(r,o,d)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Gu extends tn{constructor(r){super(),this.moduleType=r,null!==dn(r)&&function ai(t){const r=new Set;!function o(d){const h=dn(d,!0),m=h.id;null!==m&&(function Xr(t,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${t} - ${Ve(r)} vs ${Ve(r.name)}`)}(m,mn.get(m),d),mn.set(m,d));const E=Kl(h.imports);for(const T of E)r.has(T)||(r.add(T),o(T))}(t)}(r)}create(r){return new ys(this.moduleType,r)}}function O0(t,r,o){const d=Di()+t,h=Et();return h[d]===zn?io(h,d,o?r.call(o):r()):function Rh(t,r){return t[r]}(h,d)}function R0(t,r,o,d){return function F0(t,r,o,d,h,m){const E=r+o;return so(t,E,h)?io(t,E+1,m?d.call(m,h):d(h)):bg(t,E+1)}(Et(),Di(),t,r,o,d)}function k0(t,r,o,d,h){return function HE(t,r,o,d,h,m,E){const T=r+o;return function Fu(t,r,o,d){const h=so(t,r,o);return so(t,r+1,d)||h}(t,T,h,m)?io(t,T+2,E?d.call(E,h,m):d(h,m)):bg(t,T+2)}(Et(),Di(),t,r,o,d,h)}function bg(t,r){const o=t[r];return o===zn?void 0:o}function V0(t){return r=>{setTimeout(t,void 0,r)}}const Oc=class cC extends C.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,d){var h,m,E;let T=r,O=o||(()=>null),F=d;if(r&&"object"==typeof r){const Q=r;T=null===(h=Q.next)||void 0===h?void 0:h.bind(Q),O=null===(m=Q.error)||void 0===m?void 0:m.bind(Q),F=null===(E=Q.complete)||void 0===E?void 0:E.bind(Q)}this.__isAsync&&(O=V0(O),T&&(T=V0(T)),F&&(F=V0(F)));const $=super.subscribe({next:T,error:O,complete:F});return r instanceof g.w0&&r.add($),$}};function B0(){return this._results[Xa()]()}class wy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Xa(),d=wy.prototype;d[o]||(d[o]=B0)}get changes(){return this._changes||(this._changes=new Oc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const d=this;d.dirty=!1;const h=_o(r);(this._changesDetected=!function Fc(t,r,o){if(t.length!==r.length)return!1;for(let d=0;d<t.length;d++){let h=t[d],m=r[d];if(o&&(h=o(h),m=o(m)),m!==h)return!1}return!0}(d._results,h,o))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Rp=(()=>{class t{}return t.__NG_ELEMENT_ID__=dC,t})();const U0=Rp,KE=class extends U0{constructor(r,o,d){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(r){const o=this._declarationTContainer.tViews,d=dc(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(o)),nd(o,d,r),new s(d)}};function dC(){return bb(Wr(),Et())}function bb(t,r){return 4&t.type?new KE(r,t,Rd(t,r)):null}let Cy=(()=>{class t{}return t.__NG_ELEMENT_ID__=hC,t})();function hC(){return QE(Wr(),Et())}const fC=Cy,ZE=class extends fC{constructor(r,o,d){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=d}get element(){return Rd(this._hostTNode,this._hostLView)}get injector(){return new hn(this._hostTNode,this._hostLView)}get parentInjector(){const r=xo(this._hostTNode,this._hostLView);if(ui(r)){const o=fl(r,this._hostLView),d=hl(r);return new hn(o[1].data[d+8],o)}return new hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=YE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,d){const h=r.createEmbeddedView(o||{});return this.insert(h,d),h}createComponent(r,o,d,h,m){const E=r&&!function Ro(t){return"function"==typeof t}(r);let T;if(E)T=o;else{const Q=o||{};T=Q.index,d=Q.injector,h=Q.projectableNodes,m=Q.ngModuleRef}const O=E?r:new G(Ce(r)),F=d||this.parentInjector;if(!m&&null==O.ngModule&&F){const Q=F.get(vt,null);Q&&(m=Q)}const $=O.create(F,h,void 0,m);return this.insert($.hostView,T),$}insert(r,o){const d=r._lView,h=d[1];if(function on(t){return On(t[3])}(d)){const $=this.indexOf(r);if(-1!==$)this.detach($);else{const Q=d[3],ue=new ZE(Q,Q[6],Q[3]);ue.detach(ue.indexOf(r))}}const m=this._adjustIndex(o),E=this._lContainer;!function $b(t,r,o,d){const h=10+d,m=o.length;d>0&&(o[h-1][4]=r),d<m-10?(r[4]=o[h],ci(o,10+d,r)):(o.push(r),r[4]=null),r[3]=o;const E=r[17];null!==E&&o!==E&&function Kp(t,r){const o=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===o?t[9]=[r]:o.push(r)}(E,r);const T=r[19];null!==T&&T.insertView(t),r[2]|=128}(h,d,E,m);const T=sc(m,E),O=d[11],F=Mu(O,E[7]);return null!==F&&function jb(t,r,o,d,h,m){d[0]=h,d[6]=r,oc(t,d,o,1,h,m)}(h,E[6],O,d,F,T),r.attachToViewContainerRef(),ci(j0(E),m,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=YE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),d=Wa(this._lContainer,o);d&&(yo(j0(this._lContainer),o),ih(d[1],d))}detach(r){const o=this._adjustIndex(r,-1),d=Wa(this._lContainer,o);return d&&null!=yo(j0(this._lContainer),o)?new s(d):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function YE(t){return t[8]}function j0(t){return t[8]||(t[8]=[])}function QE(t,r){let o;const d=r[t.index];if(On(d))o=d;else{let h;if(8&t.type)h=Tr(d);else{const m=r[11];h=m.createComment("");const E=R(t,r);Jl(m,Mu(m,E),h,function Fg(t,r){return vr(t)?t.nextSibling(r):r.nextSibling}(m,E),!1)}r[t.index]=o=Nf(d,r,h,t),Ff(r,o)}return new ZE(o,t,r)}class Iy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class H0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const d=null!==r.contentQueries?r.contentQueries[0]:o.length,h=[];for(let m=0;m<d;m++){const E=o.getByIndex(m);h.push(this.queries[E.indexInDeclarationView].clone())}return new H0(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==nw(r,o).matches&&this.queries[o].setDirty()}}class JE{constructor(r,o,d=null){this.predicate=r,this.flags=o,this.read=d}}class nf{constructor(r=[]){this.queries=r}elementStart(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let d=0;d<this.length;d++){const h=null!==o?o.length:0,m=this.getByIndex(d).embeddedTView(r,h);m&&(m.indexInDeclarationView=d,null!==o?o.push(m):o=[m])}return null!==o?new nf(o):null}template(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class $0{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new $0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(r,o,XE(o,m)),this.matchTNodeWithReadOption(r,o,te(o,r,m,!1,!1))}else d===Rp?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,te(o,r,d,!1,!1))}matchTNodeWithReadOption(r,o,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Mp||h===Cy||h===Rp&&4&o.type)this.addMatch(o.index,-2);else{const m=te(o,r,h,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,d)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function XE(t,r){const o=t.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===r)return o[d+1];return null}function ew(t,r,o,d){return-1===o?function G0(t,r){return 11&t.type?Rd(t,r):4&t.type?bb(t,r):null}(r,t):-2===o?function Eb(t,r,o){return o===Mp?Rd(r,t):o===Rp?bb(r,t):o===Cy?QE(r,t):void 0}(t,r,d):pe(t,t[1],o,r)}function wb(t,r,o,d){const h=r[19].queries[d];if(null===h.matches){const m=t.data,E=o.matches,T=[];for(let O=0;O<E.length;O+=2){const F=E[O];T.push(F<0?null:ew(r,m[F],E[O+1],o.metadata.read))}h.matches=T}return h.matches}function Ty(t,r,o,d){const h=t.queries.getByIndex(o),m=h.matches;if(null!==m){const E=wb(t,r,h,o);for(let T=0;T<m.length;T+=2){const O=m[T];if(O>0)d.push(E[T/2]);else{const F=m[T+1],$=r[-O];for(let Q=10;Q<$.length;Q++){const ue=$[Q];ue[17]===ue[3]&&Ty(ue[1],ue,F,d)}if(null!==$[9]){const Q=$[9];for(let ue=0;ue<Q.length;ue++){const Oe=Q[ue];Ty(Oe[1],Oe,F,d)}}}}}return d}function z0(t){const r=Et(),o=Un(),d=co();Qo(d+1);const h=nw(o,d);if(t.dirty&&xt(r)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const m=h.crossesNgTemplate?Ty(o,r,d,[]):wb(o,r,h,d);t.reset(m,S0),t.notifyOnChanges()}return!0}return!1}function W0(t,r,o){const d=Un();d.firstCreatePass&&(tw(d,new JE(t,r,o),-1),2==(2&r)&&(d.staticViewQueries=!0)),Ib(d,Et(),r)}function q0(t,r,o,d){const h=Un();if(h.firstCreatePass){const m=Wr();tw(h,new JE(r,o,d),m.index),function gC(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(h,t),2==(2&o)&&(h.staticContentQueries=!0)}Ib(h,Et(),o)}function K0(){return function Cb(t,r){return t[19].queries[r].queryList}(Et(),co())}function Ib(t,r,o){const d=new wy(4==(4&o));Jg(t,r,d,d.destroy),null===r[19]&&(r[19]=new H0),r[19].queries.push(new Iy(d))}function tw(t,r,o){null===t.queries&&(t.queries=new nf),t.queries.track(new $0(r,o))}function nw(t,r){return t.queries.getByIndex(r)}function Db(...t){}const Ab=new Ar("Application Initializer");let rf=(()=>{class t{constructor(o){this.appInits=o,this.resolve=Db,this.reject=Db,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(ep(m))o.push(m);else if(tp(m)){const E=new Promise((T,O)=>{m.subscribe({complete:T,error:O})});o.push(E)}}Promise.all(o).then(()=>{d()}).catch(h=>{this.reject(h)}),0===o.length&&d(),this.initialized=!0}}return t.\u0275fac=function(o){return new(o||t)(Ai(Ab,8))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();const rE=new Ar("AppId"),kC={provide:rE,useFactory:function RC(){return`${Sy()}${Sy()}${Sy()}`},deps:[]};function Sy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bw=new Ar("Platform Initializer"),iE=new Ar("Platform ID"),sE=new Ar("appBootstrapListener");let oE=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();const My=new Ar("LocaleId"),aE=new Ar("DefaultCurrencyCode");class Ew{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Sb=(()=>{class t{compileModuleSync(o){return new Gu(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),m=Kl(dn(o).declarations).reduce((E,T)=>{const O=Ce(T);return O&&E.push(new G(O)),E},[]);return new Ew(d,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();const Cw=(()=>Promise.resolve(0))();function Mb(t){"undefined"==typeof Zone?Cw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ea{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oc(!1),this.onMicrotaskEmpty=new Oc(!1),this.onStable=new Oc(!1),this.onError=new Oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&o,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Iw(){let t=en.requestAnimationFrame,r=en.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function xb(t){const r=()=>{!function uE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(en,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ob(t),t.isCheckStableRunning=!0,sf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ob(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,h,m,E,T)=>{try{return cE(t),o.invokeTask(h,m,E,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&r(),Tw(t)}},onInvoke:(o,d,h,m,E,T,O)=>{try{return cE(t),o.invoke(h,m,E,T,O)}finally{t.shouldCoalesceRunChangeDetection&&r(),Tw(t)}},onHasTask:(o,d,h,m)=>{o.hasTask(h,m),d===h&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,Ob(t),sf(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,d,h,m)=>(o.handleError(h,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ea.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ea.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,d){return this._inner.run(r,o,d)}runTask(r,o,d,h){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+h,r,lE,Db,Db);try{return m.runTask(E,o,d)}finally{m.cancelTask(E)}}runGuarded(r,o,d){return this._inner.runGuarded(r,o,d)}runOutsideAngular(r){return this._outer.run(r)}}const lE={};function sf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ob(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function cE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tw(t){t._nesting--,sf(t)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oc,this.onMicrotaskEmpty=new Oc,this.onStable=new Oc,this.onError=new Oc}run(r,o,d){return r.apply(o,d)}runGuarded(r,o,d){return r.apply(o,d)}runOutsideAngular(r){return r()}runTask(r,o,d,h){return r.apply(o,d)}}let Dw=(()=>{class t{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ea.assertNotInAngularZone(),Mb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mb(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:h})}whenStable(o,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,d,h){return[]}}return t.\u0275fac=function(o){return new(o||t)(Ai(Ea))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})(),Aw=(()=>{class t{constructor(){this._applications=new Map,dE.addToWindow(this)}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return dE.findTestabilityInTree(this,o,d)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();class BC{addToWindow(r){}findTestabilityInTree(r,o,d){return null}}function UC(t){dE=t}let cu,dE=new BC;const hE=new Ar("AllowMultipleToken");class Mw{constructor(r,o){this.name=r,this.token=o}}function Rb(t,r,o=[]){const d=`Platform: ${r}`,h=new Ar(d);return(m=[])=>{let E=kb();if(!E||E.injector.get(hE,!1))if(t)t(o.concat(m).concat({provide:h,useValue:!0}));else{const T=o.concat(m).concat({provide:h,useValue:!0},{provide:Bf,useValue:"platform"});!function xw(t){if(cu&&!cu.destroyed&&!cu.injector.get(hE,!1))throw new dt(400,"");cu=t.get(fE);const r=t.get(bw,null);r&&r.forEach(o=>o())}(Rs.create({providers:T,name:d}))}return function Ow(t){const r=kb();if(!r)throw new dt(401,"");return r}()}}function kb(){return cu&&!cu.destroyed?cu:null}let fE=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const T=function pE(t,r){let o;return o="noop"===t?new VC:("zone.js"===t?void 0:t)||new Ea({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),O=[{provide:Ea,useValue:T}];return T.run(()=>{const F=Rs.create({providers:O,parent:this.injector,name:o.moduleType.name}),$=o.create(F),Q=$.injector.get(El,null);if(!Q)throw new dt(402,"");return T.runOutsideAngular(()=>{const ue=T.onError.subscribe({next:Oe=>{Q.handleError(Oe)}});$.onDestroy(()=>{xy(this._modules,$),ue.unsubscribe()})}),function kw(t,r,o){try{const d=o();return ep(d)?d.catch(h=>{throw r.runOutsideAngular(()=>t.handleError(h)),h}):d}catch(d){throw r.runOutsideAngular(()=>t.handleError(d)),d}}(Q,T,()=>{const ue=$.injector.get(rf);return ue.runInitializers(),ue.donePromise.then(()=>(function $v(t){Kt(t,"Expected localeId to be defined"),"string"==typeof t&&(ag=t.toLowerCase().replace(/_/g,"-"))}($.injector.get(My,Mc)||Mc),this._moduleDoBootstrap($),$))})})}bootstrapModule(o,d=[]){const h=mE({},d);return function jC(t,r,o){const d=new Gu(o);return Promise.resolve(d)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(o){const d=o.injector.get(wg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new dt(403,"");o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(o){return new(o||t)(Ai(Rs))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();function mE(t,r){return Array.isArray(r)?r.reduce(mE,t):Object.assign(Object.assign({},t),r)}let wg=(()=>{class t{constructor(o,d,h,m,E){this._zone=o,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new me.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),O=new me.y(F=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{Ea.assertNotInAngularZone(),Mb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{Ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{$.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,be.T)(T,O.pipe((0,Ae.B)()))}bootstrap(o,d){if(!this._initStatus.done)throw new dt(405,"");let h;h=o instanceof Ap?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(h.componentType);const m=function Sw(t){return t.isBoundToModule}(h)?void 0:this._injector.get(vt),T=h.create(Rs.NULL,[],d||h.selector,m),O=T.location.nativeElement,F=T.injector.get(Dw,null),$=F&&T.injector.get(Aw);return F&&$&&$.registerApplication(O,F),T.onDestroy(()=>{this.detachView(T.hostView),xy(this.components,T),$&&$.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new dt(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;xy(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(sE,[]).concat(this._bootstrapListeners).forEach(h=>h(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(o){return new(o||t)(Ai(Ea),Ai(Rs),Ai(El),Ai(Sp),Ai(rf))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();function xy(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}let _E=!0,Pw=!1;function Fw(){return Pw=!0,_E}function Lw(){if(Pw)throw new Error("Cannot enable prod mode after platform setup.");_E=!1}let Bw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uw,t})();function Uw(t){return function jw(t,r,o){if(Xn(t)&&!o){const d=Te(t.index,r);return new s(d,d)}return 47&t.type?new s(r[16],r):null}(Wr(),Et(),16==(16&t))}class wE{constructor(){}supports(r){return Ec(r)}create(r){return new qw(r)}}const Ww=(t,r)=>r;class qw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Ww}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,d=this._removalsHead,h=0,m=null;for(;o||d;){const E=!d||o&&o.currentIndex<IE(d,h,m)?o:d,T=IE(E,h,m),O=E.currentIndex;if(E===d)h--,d=d._nextRemoved;else if(o=o._next,null==E.previousIndex)h++;else{m||(m=[]);const F=T-h,$=O-h;if(F!=$){for(let ue=0;ue<F;ue++){const Oe=ue<m.length?m[ue]:m[ue]=0,Ke=Oe+ue;$<=Ke&&Ke<F&&(m[ue]=Oe+1)}m[E.previousIndex]=$-F}}T!==O&&r(E,T,O)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Ec(r))throw new dt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,m,E,o=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)m=r[T],E=this._trackByFn(T,m),null!==o&&Object.is(o.trackById,E)?(d&&(o=this._verifyReinsertion(o,m,E,T)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,E,T),d=!0),o=o._next}else h=0,function _d(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Xa()]();let d;for(;!(d=o.next()).done;)r(d.value)}}(r,T=>{E=this._trackByFn(h,T),null!==o&&Object.is(o.trackById,E)?(d&&(o=this._verifyReinsertion(o,T,E,h)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,E,h),d=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,d,h){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,m,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,m,h)):r=this._addAfter(new Kw(o,d),m,h),r}_verifyReinsertion(r,o,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?r=this._reinsertAfter(m,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,m=r._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(r,o,d),this._addToMoves(r,d),r}_moveAfter(r,o,d){return this._unlink(r),this._insertAfter(r,o,d),this._addToMoves(r,d),r}_addAfter(r,o,d){return this._insertAfter(r,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,d){const h=null===o?this._itHead:o._next;return r._next=h,r._prev=o,null===h?this._itTail=r:h._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new CE),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,d=r._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Kw{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const o=r._prevDup,d=r._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class CE{constructor(){this.map=new Map}put(r){const o=r.trackById;let d=this.map.get(o);d||(d=new Zw,this.map.set(o,d)),d.add(r)}get(r,o){const h=this.map.get(r);return h?h.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IE(t,r,o){const d=t.previousIndex;if(null===d)return d;let h=0;return o&&d<o.length&&(h=o[d]),d+r+h}class TE{constructor(){}supports(r){return r instanceof Map||Gf(r)}create(){return new Yw}}class Yw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Gf(r)))throw new dt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(h,d);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const d=r._prev;return o._next=r,o._prev=d,r._prev=o,d&&(d._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,o);const m=h._prev,E=h._next;return m&&(m._next=E),E&&(E._prev=m),h._next=null,h._prev=null,h}const d=new DE(r);return this._records.set(r,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(d=>o(r[d],d))}}class DE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AE(){return new ky([new wE])}let ky=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(null!=d){const h=d.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||AE()),deps:[[t,new aa,new Ba]]}}find(o){const d=this.factories.find(h=>h.supports(o));if(null!=d)return d;throw new dt(901,"")}}return t.\u0275prov=yt({token:t,providedIn:"root",factory:AE}),t})();function SE(){return new Np([new TE])}let Np=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(d){const h=d.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||SE()),deps:[[t,new aa,new Ba]]}}find(o){const d=this.factories.find(m=>m.supports(o));if(d)return d;throw new dt(901,"")}}return t.\u0275prov=yt({token:t,providedIn:"root",factory:SE}),t})();const ME=[new TE],XC=new ky([new wE]),Lb=new Np(ME),Jw=Rb(null,"core",[{provide:iE,useValue:"unknown"},{provide:fE,deps:[Rs]},{provide:Aw,deps:[]},{provide:oE,deps:[]}]),tI=[{provide:wg,useClass:wg,deps:[Ea,Rs,El,Sp,rf]},{provide:k,deps:[Ea],useFactory:function nI(t){let r=[];return t.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(o){r.push(o)}}},{provide:rf,useClass:rf,deps:[[new Ba,Ab]]},{provide:Sb,useClass:Sb,deps:[]},kC,{provide:ky,useFactory:function Xw(){return XC},deps:[]},{provide:Np,useFactory:function eC(){return Lb},deps:[]},{provide:My,useFactory:function tC(t){return t||function nC(){return"undefined"!=typeof $localize&&$localize.locale||Mc}()},deps:[[new Va(My),new Ba,new aa]]},{provide:aE,useValue:"USD"}];let rC=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(Ai(wg))},t.\u0275mod=Nn({type:t}),t.\u0275inj=Be({providers:tI}),t})()},2313:(Bt,Ge,U)=>{U.d(Ge,{b2:()=>wt,H7:()=>Mn,q6:()=>Yn,se:()=>it});var C=U(9808),g=U(5e3);class me extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends me{static makeCurrent(){(0,C.HT)(new be)}onAndCancel(_e,X,Ce){return _e.addEventListener(X,Ce,!1),()=>{_e.removeEventListener(X,Ce,!1)}}dispatchEvent(_e,X){_e.dispatchEvent(X)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,X){return(X=X||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,X){return"window"===X?window:"document"===X?_e:"body"===X?_e.body:null}getBaseHref(_e){const X=function Le(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==X?null:function Ve(Pe){K=K||document.createElement("a"),K.setAttribute("href",Pe);const _e=K.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(X)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,C.Mx)(document.cookie,_e)}}let K,Ae=null;const ze=new g.OlP("TRANSITION_ID"),le=[{provide:g.ip1,useFactory:function ne(Pe,_e,X){return()=>{X.get(g.CZH).donePromise.then(()=>{const Ce=(0,C.q)(),ot=_e.querySelectorAll(`style[ng-transition="${Pe}"]`);for(let Ft=0;Ft<ot.length;Ft++)Ce.remove(ot[Ft])})}},deps:[ze,C.K0,g.zs3],multi:!0}];class Se{static init(){(0,g.VLi)(new Se)}addToWindow(_e){g.dqk.getAngularTestability=(Ce,ot=!0)=>{const Ft=_e.findTestabilityInTree(Ce,ot);if(null==Ft)throw new Error("Could not find testability for element.");return Ft},g.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(Ce=>{const ot=g.dqk.getAllAngularTestabilities();let Ft=ot.length,dn=!1;const _r=function(Ir){dn=dn||Ir,Ft--,0==Ft&&Ce(dn)};ot.forEach(function(Ir){Ir.whenStable(_r)})})}findTestabilityInTree(_e,X,Ce){if(null==X)return null;const ot=_e.getTestability(X);return null!=ot?ot:Ce?(0,C.q)().isShadowRoot(X)?this.findTestabilityInTree(_e,X.host,!0):this.findTestabilityInTree(_e,X.parentElement,!0):null}}let mt=(()=>{class Pe{build(){return new XMLHttpRequest}}return Pe.\u0275fac=function(X){return new(X||Pe)},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const We=new g.OlP("EventManagerPlugins");let dt=(()=>{class Pe{constructor(X,Ce){this._zone=Ce,this._eventNameToPlugin=new Map,X.forEach(ot=>ot.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,Ce,ot){return this._findPluginFor(Ce).addEventListener(X,Ce,ot)}addGlobalEventListener(X,Ce,ot){return this._findPluginFor(Ce).addGlobalEventListener(X,Ce,ot)}getZone(){return this._zone}_findPluginFor(X){const Ce=this._eventNameToPlugin.get(X);if(Ce)return Ce;const ot=this._plugins;for(let Ft=0;Ft<ot.length;Ft++){const dn=ot[Ft];if(dn.supports(X))return this._eventNameToPlugin.set(X,dn),dn}throw new Error(`No event manager plugin found for event ${X}`)}}return Pe.\u0275fac=function(X){return new(X||Pe)(g.LFG(We),g.LFG(g.R0b))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class at{constructor(_e){this._doc=_e}addGlobalEventListener(_e,X,Ce){const ot=(0,C.q)().getGlobalEventTarget(this._doc,_e);if(!ot)throw new Error(`Unsupported event target ${ot} for event ${X}`);return this.addEventListener(ot,X,Ce)}}let He=(()=>{class Pe{constructor(){this._stylesSet=new Set}addStyles(X){const Ce=new Set;X.forEach(ot=>{this._stylesSet.has(ot)||(this._stylesSet.add(ot),Ce.add(ot))}),this.onStylesAdded(Ce)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}return Pe.\u0275fac=function(X){return new(X||Pe)},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),Ze=(()=>{class Pe extends He{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,Ce,ot){X.forEach(Ft=>{const dn=this._doc.createElement("style");dn.textContent=Ft,ot.push(Ce.appendChild(dn))})}addHost(X){const Ce=[];this._addStylesToHost(this._stylesSet,X,Ce),this._hostNodes.set(X,Ce)}removeHost(X){const Ce=this._hostNodes.get(X);Ce&&Ce.forEach(Tt),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((Ce,ot)=>{this._addStylesToHost(X,ot,Ce)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(Tt))}}return Pe.\u0275fac=function(X){return new(X||Pe)(g.LFG(C.K0))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();function Tt(Pe){(0,C.q)().remove(Pe)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qe=/%COMP%/g;function Me(Pe,_e,X){for(let Ce=0;Ce<_e.length;Ce++){let ot=_e[Ce];Array.isArray(ot)?Me(Pe,ot,X):(ot=ot.replace(qe,Pe),X.push(ot))}return X}function Fe(Pe){return _e=>{if("__ngUnwrap__"===_e)return Pe;!1===Pe(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let it=(()=>{class Pe{constructor(X,Ce,ot){this.eventManager=X,this.sharedStylesHost=Ce,this.appId=ot,this.rendererByCompId=new Map,this.defaultRenderer=new $e(X)}createRenderer(X,Ce){if(!X||!Ce)return this.defaultRenderer;switch(Ce.encapsulation){case g.ifc.Emulated:{let ot=this.rendererByCompId.get(Ce.id);return ot||(ot=new Wn(this.eventManager,this.sharedStylesHost,Ce,this.appId),this.rendererByCompId.set(Ce.id,ot)),ot.applyToHost(X),ot}case 1:case g.ifc.ShadowDom:return new Kt(this.eventManager,this.sharedStylesHost,X,Ce);default:if(!this.rendererByCompId.has(Ce.id)){const ot=Me(Ce.id,Ce.styles,[]);this.sharedStylesHost.addStyles(ot),this.rendererByCompId.set(Ce.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Pe.\u0275fac=function(X){return new(X||Pe)(g.LFG(dt),g.LFG(Ze),g.LFG(g.AFp))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class $e{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,X){return X?document.createElementNS(bt[X]||X,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,X){_e.appendChild(X)}insertBefore(_e,X,Ce){_e&&_e.insertBefore(X,Ce)}removeChild(_e,X){_e&&_e.removeChild(X)}selectRootElement(_e,X){let Ce="string"==typeof _e?document.querySelector(_e):_e;if(!Ce)throw new Error(`The selector "${_e}" did not match any elements`);return X||(Ce.textContent=""),Ce}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,X,Ce,ot){if(ot){X=ot+":"+X;const Ft=bt[ot];Ft?_e.setAttributeNS(Ft,X,Ce):_e.setAttribute(X,Ce)}else _e.setAttribute(X,Ce)}removeAttribute(_e,X,Ce){if(Ce){const ot=bt[Ce];ot?_e.removeAttributeNS(ot,X):_e.removeAttribute(`${Ce}:${X}`)}else _e.removeAttribute(X)}addClass(_e,X){_e.classList.add(X)}removeClass(_e,X){_e.classList.remove(X)}setStyle(_e,X,Ce,ot){ot&(g.JOm.DashCase|g.JOm.Important)?_e.style.setProperty(X,Ce,ot&g.JOm.Important?"important":""):_e.style[X]=Ce}removeStyle(_e,X,Ce){Ce&g.JOm.DashCase?_e.style.removeProperty(X):_e.style[X]=""}setProperty(_e,X,Ce){_e[X]=Ce}setValue(_e,X){_e.nodeValue=X}listen(_e,X,Ce){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,X,Fe(Ce)):this.eventManager.addEventListener(_e,X,Fe(Ce))}}class Wn extends $e{constructor(_e,X,Ce,ot){super(_e),this.component=Ce;const Ft=Me(ot+"-"+Ce.id,Ce.styles,[]);X.addStyles(Ft),this.contentAttr=function je(Pe){return"_ngcontent-%COMP%".replace(qe,Pe)}(ot+"-"+Ce.id),this.hostAttr=function se(Pe){return"_nghost-%COMP%".replace(qe,Pe)}(ot+"-"+Ce.id)}applyToHost(_e){super.setAttribute(_e,this.hostAttr,"")}createElement(_e,X){const Ce=super.createElement(_e,X);return super.setAttribute(Ce,this.contentAttr,""),Ce}}class Kt extends $e{constructor(_e,X,Ce,ot){super(_e),this.sharedStylesHost=X,this.hostEl=Ce,this.shadowRoot=Ce.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ft=Me(ot.id,ot.styles,[]);for(let dn=0;dn<Ft.length;dn++){const _r=document.createElement("style");_r.textContent=Ft[dn],this.shadowRoot.appendChild(_r)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(_e,X){return super.appendChild(this.nodeOrShadowRoot(_e),X)}insertBefore(_e,X,Ce){return super.insertBefore(this.nodeOrShadowRoot(_e),X,Ce)}removeChild(_e,X){return super.removeChild(this.nodeOrShadowRoot(_e),X)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}}let rn=(()=>{class Pe extends at{constructor(X){super(X)}supports(X){return!0}addEventListener(X,Ce,ot){return X.addEventListener(Ce,ot,!1),()=>this.removeEventListener(X,Ce,ot)}removeEventListener(X,Ce,ot){return X.removeEventListener(Ce,ot)}}return Pe.\u0275fac=function(X){return new(X||Pe)(g.LFG(C.K0))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const sn=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xe={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let Be=(()=>{class Pe extends at{constructor(X){super(X)}supports(X){return null!=Pe.parseEventName(X)}addEventListener(X,Ce,ot){const Ft=Pe.parseEventName(Ce),dn=Pe.eventCallback(Ft.fullKey,ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(X,Ft.domEventName,dn))}static parseEventName(X){const Ce=X.toLowerCase().split("."),ot=Ce.shift();if(0===Ce.length||"keydown"!==ot&&"keyup"!==ot)return null;const Ft=Pe._normalizeKey(Ce.pop());let dn="";if(sn.forEach(Ir=>{const Lr=Ce.indexOf(Ir);Lr>-1&&(Ce.splice(Lr,1),dn+=Ir+".")}),dn+=Ft,0!=Ce.length||0===Ft.length)return null;const _r={};return _r.domEventName=ot,_r.fullKey=dn,_r}static getEventFullKey(X){let Ce="",ot=function St(Pe){let _e=Pe.key;if(null==_e){if(_e=Pe.keyIdentifier,null==_e)return"Unidentified";_e.startsWith("U+")&&(_e=String.fromCharCode(parseInt(_e.substring(2),16)),3===Pe.location&&yt.hasOwnProperty(_e)&&(_e=yt[_e]))}return ut[_e]||_e}(X);return ot=ot.toLowerCase()," "===ot?ot="space":"."===ot&&(ot="dot"),sn.forEach(Ft=>{Ft!=ot&&xe[Ft](X)&&(Ce+=Ft+".")}),Ce+=ot,Ce}static eventCallback(X,Ce,ot){return Ft=>{Pe.getEventFullKey(Ft)===X&&ot.runGuarded(()=>Ce(Ft))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return Pe.\u0275fac=function(X){return new(X||Pe)(g.LFG(C.K0))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Yn=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:C.bD},{provide:g.g9A,useValue:function un(){be.makeCurrent(),Se.init()},multi:!0},{provide:C.K0,useFactory:function Tn(){return(0,g.RDi)(document),document},deps:[]}]),nr=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Cn(){return new g.qLn},deps:[]},{provide:We,useClass:rn,multi:!0,deps:[C.K0,g.R0b,g.Lbi]},{provide:We,useClass:Be,multi:!0,deps:[C.K0]},{provide:it,useClass:it,deps:[dt,Ze,g.AFp]},{provide:g.FYo,useExisting:it},{provide:He,useExisting:Ze},{provide:Ze,useClass:Ze,deps:[C.K0]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:dt,useClass:dt,deps:[We,g.R0b]},{provide:C.JF,useClass:mt,deps:[]}];let wt=(()=>{class Pe{constructor(X){if(X)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(X){return{ngModule:Pe,providers:[{provide:g.AFp,useValue:X.appId},{provide:ze,useExisting:g.AFp},le]}}}return Pe.\u0275fac=function(X){return new(X||Pe)(g.LFG(Pe,12))},Pe.\u0275mod=g.oAB({type:Pe}),Pe.\u0275inj=g.cJS({providers:nr,imports:[C.ez,g.hGG]}),Pe})();"undefined"!=typeof window&&window;let Mn=(()=>{class Pe{}return Pe.\u0275fac=function(X){return new(X||Pe)},Pe.\u0275prov=g.Yz7({token:Pe,factory:function(X){let Ce=null;return Ce=X?new(X||Pe):g.LFG(Nn),Ce},providedIn:"root"}),Pe})(),Nn=(()=>{class Pe extends Mn{constructor(X){super(),this._doc=X}sanitize(X,Ce){if(null==Ce)return null;switch(X){case g.q3G.NONE:return Ce;case g.q3G.HTML:return(0,g.qzn)(Ce,"HTML")?(0,g.z3N)(Ce):(0,g.EiD)(this._doc,String(Ce)).toString();case g.q3G.STYLE:return(0,g.qzn)(Ce,"Style")?(0,g.z3N)(Ce):Ce;case g.q3G.SCRIPT:if((0,g.qzn)(Ce,"Script"))return(0,g.z3N)(Ce);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(Ce),(0,g.qzn)(Ce,"URL")?(0,g.z3N)(Ce):(0,g.mCW)(String(Ce));case g.q3G.RESOURCE_URL:if((0,g.qzn)(Ce,"ResourceURL"))return(0,g.z3N)(Ce);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${X} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(X){return(0,g.JVY)(X)}bypassSecurityTrustStyle(X){return(0,g.L6k)(X)}bypassSecurityTrustScript(X){return(0,g.eBb)(X)}bypassSecurityTrustUrl(X){return(0,g.LAX)(X)}bypassSecurityTrustResourceUrl(X){return(0,g.pB0)(X)}}return Pe.\u0275fac=function(X){return new(X||Pe)(g.LFG(C.K0))},Pe.\u0275prov=g.Yz7({token:Pe,factory:function(X){let Ce=null;return Ce=X?new X:function sr(Pe){return new Nn(Pe.get(C.K0))}(g.LFG(g.zs3)),Ce},providedIn:"root"}),Pe})()},338:(Bt,Ge,U)=>{U.d(Ge,{F0:()=>Ur,rH:()=>Vs,yS:()=>Ao,Bz:()=>fl,lC:()=>Io});var C=U(5e3),g=U(8306),me=U(4742),be=U(8996),Ae=U(4671),Le=U(3268),K=U(7669),Ve=U(1810),ze=U(5403),ne=U(9672);function mt(N,x,D){N?(0,ne.f)(D,N,x):x()}var We=U(8189);function at(...N){return function dt(){return(0,We.J)(1)}()((0,be.D)(N,(0,K.yG)(N)))}var He=U(8421);function Ze(N){return new g.y(x=>{(0,He.Xf)(N()).subscribe(x)})}var Tt=U(727),bt=U(4482);function qe(){return(0,bt.e)((N,x)=>{let D=null;N._refCount++;const P=new ze.Q(x,void 0,void 0,void 0,()=>{if(!N||N._refCount<=0||0<--N._refCount)return void(D=null);const B=N._connection,q=D;D=null,B&&(!q||B===q)&&B.unsubscribe(),x.unsubscribe()});N.subscribe(P),P.closed||(D=N.connect())})}class Ue extends g.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,bt.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Tt.w0;const D=this.getSubject();x.add(this.source.subscribe(new ze.Q(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Tt.w0.EMPTY)}return x}refCount(){return qe()(this)}}var De=U(9646),Mt=U(1135),ct=U(6805),je=U(515),se=U(7579);function Fe(N,x,D,P,B){return(q,te)=>{let pe=D,st=x,Jt=0;q.subscribe(new ze.Q(te,$n=>{const hn=Jt++;st=pe?N(st,$n,hn):(pe=!0,$n),P&&te.next(st)},B&&(()=>{pe&&te.next(st),te.complete()})))}}function tt(N,x){return(0,bt.e)(Fe(N,x,arguments.length>=2,!0))}function it(N){return(0,bt.e)((x,D)=>{let q,P=null,B=!1;P=x.subscribe(new ze.Q(D,void 0,void 0,te=>{q=(0,He.Xf)(N(te,it(N)(x))),P?(P.unsubscribe(),P=null,q.subscribe(D)):B=!0})),B&&(P.unsubscribe(),P=null,q.subscribe(D))})}var $e=U(9300);function Qt(N){return N<=0?()=>je.E:(0,bt.e)((x,D)=>{let P=[];x.subscribe(new ze.Q(D,B=>{P.push(B),N<P.length&&P.shift()},()=>{for(const B of P)D.next(B);D.complete()},void 0,()=>{P=null}))})}var pn=U(8068),Wn=U(6590),sn=U(4004),Vn=U(3900),ut=U(5698),yt=U(4351),xe=U(590),Be=U(5577),St=U(8505),un=U(9808);class Cn{constructor(x,D){this.id=x,this.url=D}}class Tn extends Cn{constructor(x,D,P="imperative",B=null){super(x,D),this.navigationTrigger=P,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qn extends Cn{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yn extends Cn{constructor(x,D,P){super(x,D),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nr extends Cn{constructor(x,D,P){super(x,D),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wt extends Cn{constructor(x,D,P,B){super(x,D),this.urlAfterRedirects=P,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends Cn{constructor(x,D,P,B){super(x,D),this.urlAfterRedirects=P,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xt extends Cn{constructor(x,D,P,B,q){super(x,D),this.urlAfterRedirects=P,this.state=B,this.shouldActivate=q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cr extends Cn{constructor(x,D,P,B){super(x,D),this.urlAfterRedirects=P,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends Cn{constructor(x,D,P,B){super(x,D),this.urlAfterRedirects=P,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir{constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pr{constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ht{constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ge{constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ve{constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class It{constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const lt="primary";class Rt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function jt(N){return new Rt(N)}const wn="ngNavigationCancelingError";function Qn(N){const x=Error("NavigationCancelingError: "+N);return x[wn]=!0,x}function Bn(N,x,D){const P=D.path.split("/");if(P.length>N.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<N.length))return null;const B={};for(let q=0;q<P.length;q++){const te=P[q],pe=N[q];if(te.startsWith(":"))B[te.substring(1)]=pe;else if(te!==pe.path)return null}return{consumed:N.slice(0,P.length),posParams:B}}function cn(N,x){const D=N?Object.keys(N):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let B;for(let q=0;q<D.length;q++)if(B=D[q],!Je(N[B],x[B]))return!1;return!0}function Je(N,x){if(Array.isArray(N)&&Array.isArray(x)){if(N.length!==x.length)return!1;const D=[...N].sort(),P=[...x].sort();return D.every((B,q)=>P[q]===B)}return N===x}function Gn(N){return Array.prototype.concat.apply([],N)}function ie(N){return N.length>0?N[N.length-1]:null}function ee(N,x){for(const D in N)N.hasOwnProperty(D)&&x(N[D],D)}function ae(N){return(0,C.CqO)(N)?N:(0,C.QGY)(N)?(0,be.D)(Promise.resolve(N)):(0,De.of)(N)}const Ne={exact:function Mn(N,x,D){if(!Ft(N.segments,x.segments)||!Pe(N.segments,x.segments,D)||N.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!N.children[P]||!Mn(N.children[P],x.children[P],D))return!1;return!0},subset:Nn},Lt={exact:function Hn(N,x){return cn(N,x)},subset:function sr(N,x){return Object.keys(x).length<=Object.keys(N).length&&Object.keys(x).every(D=>Je(N[D],x[D]))},ignored:()=>!0};function At(N,x,D){return Ne[D.paths](N.root,x.root,D.matrixParams)&&Lt[D.queryParams](N.queryParams,x.queryParams)&&!("exact"===D.fragment&&N.fragment!==x.fragment)}function Nn(N,x,D){return Fr(N,x,x.segments,D)}function Fr(N,x,D,P){if(N.segments.length>D.length){const B=N.segments.slice(0,D.length);return!(!Ft(B,D)||x.hasChildren()||!Pe(B,D,P))}if(N.segments.length===D.length){if(!Ft(N.segments,D)||!Pe(N.segments,D,P))return!1;for(const B in x.children)if(!N.children[B]||!Nn(N.children[B],x.children[B],P))return!1;return!0}{const B=D.slice(0,N.segments.length),q=D.slice(N.segments.length);return!!(Ft(N.segments,B)&&Pe(N.segments,B,P)&&N.children[lt])&&Fr(N.children[lt],x,q,P)}}function Pe(N,x,D){return x.every((P,B)=>Lt[D](N[B].parameters,P.parameters))}class _e{constructor(x,D,P){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jt(this.queryParams)),this._queryParamMap}toString(){return Lr.serialize(this)}}class X{constructor(x,D){this.segments=x,this.children=D,this.parent=null,ee(D,(P,B)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yr(this)}}class Ce{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=jt(this.parameters)),this._parameterMap}toString(){return Xe(this)}}function Ft(N,x){return N.length===x.length&&N.every((D,P)=>D.path===x[P].path)}class _r{}class Ir{parse(x){const D=new ti(x);return new _e(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${Ie(x.root,!0)}`,P=function Pn(N){const x=Object.keys(N).map(D=>{const P=N[D];return Array.isArray(P)?P.map(B=>`${Pt(D)}=${Pt(B)}`).join("&"):`${Pt(D)}=${Pt(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function Ht(N){return encodeURI(N)}(x.fragment)}`:""}`}}const Lr=new Ir;function yr(N){return N.segments.map(x=>Xe(x)).join("/")}function Ie(N,x){if(!N.hasChildren())return yr(N);if(x){const D=N.children[lt]?Ie(N.children[lt],!1):"",P=[];return ee(N.children,(B,q)=>{q!==lt&&P.push(`${q}:${Ie(B,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function dn(N,x){let D=[];return ee(N.children,(P,B)=>{B===lt&&(D=D.concat(x(P,B)))}),ee(N.children,(P,B)=>{B!==lt&&(D=D.concat(x(P,B)))}),D}(N,(P,B)=>B===lt?[Ie(N.children[lt],!1)]:[`${B}:${Ie(P,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[lt]?`${yr(N)}/${D[0]}`:`${yr(N)}/(${D.join("//")})`}}function ke(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pt(N){return ke(N).replace(/%3B/gi,";")}function pt(N){return ke(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(N){return decodeURIComponent(N)}function Re(N){return re(N.replace(/\+/g,"%20"))}function Xe(N){return`${pt(N.path)}${function zt(N){return Object.keys(N).map(x=>`;${pt(x)}=${pt(N[x])}`).join("")}(N.parameters)}`}const Dn=/^[^\/()?;=#]+/;function $t(N){const x=N.match(Dn);return x?x[0]:""}const lr=/^[^=?&#]+/,_n=/^[^&#]+/;class ti{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[lt]=new X(x,D)),P}parseSegment(){const x=$t(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(x),new Ce(re(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=$t(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const B=$t(this.remaining);B&&(P=B,this.capture(P))}x[re(D)]=re(P)}parseQueryParam(x){const D=function Hr(N){const x=N.match(lr);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const te=function ji(N){const x=N.match(_n);return x?x[0]:""}(this.remaining);te&&(P=te,this.capture(P))}const B=Re(D),q=Re(P);if(x.hasOwnProperty(B)){let te=x[B];Array.isArray(te)||(te=[te],x[B]=te),te.push(q)}else x[B]=q}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=$t(this.remaining),B=this.remaining[P.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let q;P.indexOf(":")>-1?(q=P.substr(0,P.indexOf(":")),this.capture(q),this.capture(":")):x&&(q=lt);const te=this.parseChildren();D[q]=1===Object.keys(te).length?te[lt]:new X([],te),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new Error(`Expected "${x}".`)}}class Hi{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=_i(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=_i(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=$r(x,this._root);return D.length<2?[]:D[D.length-2].children.map(B=>B.value).filter(B=>B!==x)}pathFromRoot(x){return $r(x,this._root).map(D=>D.value)}}function _i(N,x){if(N===x.value)return x;for(const D of x.children){const P=_i(N,D);if(P)return P}return null}function $r(N,x){if(N===x.value)return[x];for(const D of x.children){const P=$r(N,D);if(P.length)return P.unshift(x),P}return[]}class ni{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function ye(N){const x={};return N&&N.children.forEach(D=>x[D.value.outlet]=D),x}class he extends Hi{constructor(x,D){super(x),this.snapshot=D,yn(this,x)}toString(){return this.snapshot.toString()}}function Ee(N,x){const D=function ft(N,x){const te=new dr([],{},{},"",{},lt,x,null,N.root,-1,{});return new Xn("",new ni(te,[]))}(N,x),P=new Mt.X([new Ce("",{})]),B=new Mt.X({}),q=new Mt.X({}),te=new Mt.X({}),pe=new Mt.X(""),st=new _t(P,B,te,pe,q,lt,x,D.root);return st.snapshot=D.root,new he(new ni(st,[]),D)}class _t{constructor(x,D,P,B,q,te,pe,st){this.url=x,this.params=D,this.queryParams=P,this.fragment=B,this.data=q,this.outlet=te,this.component=pe,this._futureSnapshot=st}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(x=>jt(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(x=>jt(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wt(N,x="emptyOnly"){const D=N.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const B=D[P],q=D[P-1];if(B.routeConfig&&""===B.routeConfig.path)P--;else{if(q.component)break;P--}}return function On(N){return N.reduce((x,D)=>({params:Object.assign(Object.assign({},x.params),D.params),data:Object.assign(Object.assign({},x.data),D.data),resolve:Object.assign(Object.assign({},x.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(P))}class dr{constructor(x,D,P,B,q,te,pe,st,Jt,$n,hn){this.url=x,this.params=D,this.queryParams=P,this.fragment=B,this.data=q,this.outlet=te,this.component=pe,this.routeConfig=st,this._urlSegment=Jt,this._lastPathIndex=$n,this._resolve=hn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xn extends Hi{constructor(x,D){super(D),this.url=x,yn(this,D)}toString(){return gn(this._root)}}function yn(N,x){x.value._routerState=N,x.children.forEach(D=>yn(N,D))}function gn(N){const x=N.children.length>0?` { ${N.children.map(gn).join(", ")} } `:"";return`${N.value}${x}`}function Vr(N){if(N.snapshot){const x=N.snapshot,D=N._futureSnapshot;N.snapshot=D,cn(x.queryParams,D.queryParams)||N.queryParams.next(D.queryParams),x.fragment!==D.fragment&&N.fragment.next(D.fragment),cn(x.params,D.params)||N.params.next(D.params),function Jn(N,x){if(N.length!==x.length)return!1;for(let D=0;D<N.length;++D)if(!cn(N[D],x[D]))return!1;return!0}(x.url,D.url)||N.url.next(D.url),cn(x.data,D.data)||N.data.next(D.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function Ns(N,x){const D=cn(N.params,x.params)&&function ot(N,x){return Ft(N,x)&&N.every((D,P)=>cn(D.parameters,x[P].parameters))}(N.url,x.url);return D&&!(!N.parent!=!x.parent)&&(!N.parent||Ns(N.parent,x.parent))}function hr(N,x,D){if(D&&N.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const B=function wa(N,x,D){return x.children.map(P=>{for(const B of D.children)if(N.shouldReuseRoute(P.value,B.value.snapshot))return hr(N,P,B);return hr(N,P)})}(N,x,D);return new ni(P,B)}{if(N.shouldAttach(x.value)){const q=N.retrieve(x.value);if(null!==q){const te=q.route;return te.value._futureSnapshot=x.value,te.children=x.children.map(pe=>hr(N,pe)),te}}const P=function ls(N){return new _t(new Mt.X(N.url),new Mt.X(N.params),new Mt.X(N.queryParams),new Mt.X(N.fragment),new Mt.X(N.data),N.outlet,N.component,N)}(x.value),B=x.children.map(q=>hr(N,q));return new ni(P,B)}}function bs(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function Mi(N){return"object"==typeof N&&null!=N&&N.outlets}function Gs(N,x,D,P,B){let q={};return P&&ee(P,(te,pe)=>{q[pe]=Array.isArray(te)?te.map(st=>`${st}`):`${te}`}),new _e(D.root===N?x:us(D.root,N,x),q,B)}function us(N,x,D){const P={};return ee(N.children,(B,q)=>{P[q]=B===x?D:us(B,x,D)}),new X(N.segments,P)}class qo{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&bs(P[0]))throw new Error("Root segment cannot have matrix parameters");const B=P.find(Mi);if(B&&B!==ie(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Co{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function $i(N,x,D){if(N||(N=new X([],{})),0===N.segments.length&&N.hasChildren())return Fn(N,x,D);const P=function Yi(N,x,D){let P=0,B=x;const q={match:!1,pathIndex:0,commandIndex:0};for(;B<N.segments.length;){if(P>=D.length)return q;const te=N.segments[B],pe=D[P];if(Mi(pe))break;const st=`${pe}`,Jt=P<D.length-1?D[P+1]:null;if(B>0&&void 0===st)break;if(st&&Jt&&"object"==typeof Jt&&void 0===Jt.outlets){if(!li(st,Jt,te))return q;P+=2}else{if(!li(st,{},te))return q;P++}B++}return{match:!0,pathIndex:B,commandIndex:P}}(N,x,D),B=D.slice(P.commandIndex);if(P.match&&P.pathIndex<N.segments.length){const q=new X(N.segments.slice(0,P.pathIndex),{});return q.children[lt]=new X(N.segments.slice(P.pathIndex),N.children),Fn(q,0,B)}return P.match&&0===B.length?new X(N.segments,{}):P.match&&!N.hasChildren()?Br(N,x,D):P.match?Fn(N,0,B):Br(N,x,D)}function Fn(N,x,D){if(0===D.length)return new X(N.segments,{});{const P=function hu(N){return Mi(N[0])?N[0].outlets:{[lt]:N}}(D),B={};return ee(P,(q,te)=>{"string"==typeof q&&(q=[q]),null!==q&&(B[te]=$i(N.children[te],x,q))}),ee(N.children,(q,te)=>{void 0===P[te]&&(B[te]=q)}),new X(N.segments,B)}}function Br(N,x,D){const P=N.segments.slice(0,x);let B=0;for(;B<D.length;){const q=D[B];if(Mi(q)){const st=Kr(q.outlets);return new X(P,st)}if(0===B&&bs(D[0])){P.push(new Ce(N.segments[x].path,yi(D[0]))),B++;continue}const te=Mi(q)?q.outlets[lt]:`${q}`,pe=B<D.length-1?D[B+1]:null;te&&pe&&bs(pe)?(P.push(new Ce(te,yi(pe))),B+=2):(P.push(new Ce(te,{})),B++)}return new X(P,{})}function Kr(N){const x={};return ee(N,(D,P)=>{"string"==typeof D&&(D=[D]),null!==D&&(x[P]=Br(new X([],{}),0,D))}),x}function yi(N){const x={};return ee(N,(D,P)=>x[P]=`${D}`),x}function li(N,x,D){return N==D.path&&cn(x,D.parameters)}class Es{constructor(x,D,P,B){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=B}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),Vr(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const B=ye(D);x.children.forEach(q=>{const te=q.value.outlet;this.deactivateRoutes(q,B[te],P),delete B[te]}),ee(B,(q,te)=>{this.deactivateRouteAndItsChildren(q,P)})}deactivateRoutes(x,D,P){const B=x.value,q=D?D.value:null;if(B===q)if(B.component){const te=P.getContext(B.outlet);te&&this.deactivateChildRoutes(x,D,te.children)}else this.deactivateChildRoutes(x,D,P);else q&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),B=P&&x.value.component?P.children:D,q=ye(x);for(const te of Object.keys(q))this.deactivateRouteAndItsChildren(q[te],B);if(P&&P.outlet){const te=P.outlet.detach(),pe=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:te,route:x,contexts:pe})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),B=P&&x.value.component?P.children:D,q=ye(x);for(const te of Object.keys(q))this.deactivateRouteAndItsChildren(q[te],B);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(x,D,P){const B=ye(D);x.children.forEach(q=>{this.activateRoutes(q,B[q.value.outlet],P),this.forwardEvent(new It(q.value.snapshot))}),x.children.length&&this.forwardEvent(new ge(x.value.snapshot))}activateRoutes(x,D,P){const B=x.value,q=D?D.value:null;if(Vr(B),B===q)if(B.component){const te=P.getOrCreateContext(B.outlet);this.activateChildRoutes(x,D,te.children)}else this.activateChildRoutes(x,D,P);else if(B.component){const te=P.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const pe=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),te.children.onOutletReAttached(pe.contexts),te.attachRef=pe.componentRef,te.route=pe.route.value,te.outlet&&te.outlet.attach(pe.componentRef,pe.route.value),Vr(pe.route.value),this.activateChildRoutes(x,null,te.children)}else{const pe=function Zr(N){for(let x=N.parent;x;x=x.parent){const D=x.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(B.snapshot),st=pe?pe.module.componentFactoryResolver:null;te.attachRef=null,te.route=B,te.resolver=st,te.outlet&&te.outlet.activateWith(B,st),this.activateChildRoutes(x,null,te.children)}}else this.activateChildRoutes(x,null,P)}}class zs{constructor(x,D){this.routes=x,this.module=D}}function vi(N){return"function"==typeof N}function Gi(N){return N instanceof _e}const Qi=Symbol("INITIAL_VALUE");function cs(){return(0,Vn.w)(N=>function le(...N){const x=(0,K.yG)(N),D=(0,K.jO)(N),{args:P,keys:B}=(0,me.D)(N);if(0===P.length)return(0,be.D)([],x);const q=new g.y(function Se(N,x,D=Ae.y){return P=>{mt(x,()=>{const{length:B}=N,q=new Array(B);let te=B,pe=B;for(let st=0;st<B;st++)mt(x,()=>{const Jt=(0,be.D)(N[st],x);let $n=!1;Jt.subscribe(new ze.Q(P,hn=>{q[st]=hn,$n||($n=!0,pe--),pe||P.next(D(q.slice()))},()=>{--te||P.complete()}))},P)},P)}}(P,x,B?te=>(0,Ve.n)(B,te):Ae.y));return D?q.pipe((0,Le.Z)(D)):q}(N.map(x=>x.pipe((0,ut.q)(1),function Me(...N){const x=(0,K.yG)(N);return(0,bt.e)((D,P)=>{(x?at(N,D,x):at(N,D)).subscribe(P)})}(Qi)))).pipe(tt((x,D)=>{let P=!1;return D.reduce((B,q,te)=>B!==Qi?B:(q===Qi&&(P=!0),P||!1!==q&&te!==D.length-1&&!Gi(q)?B:q),x)},Qi),(0,$e.h)(x=>x!==Qi),(0,sn.U)(x=>Gi(x)?x:!0===x),(0,ut.q)(1)))}class Zo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ri,this.attachRef=null}}class Ri{constructor(){this.contexts=new Map}onChildOutletCreated(x,D){const P=this.getOrCreateContext(x);P.outlet=D,this.contexts.set(x,P)}onChildOutletDestroyed(x){const D=this.getContext(x);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let D=this.getContext(x);return D||(D=new Zo,this.contexts.set(x,D)),D}getContext(x){return this.contexts.get(x)||null}}let Io=(()=>{class N{constructor(D,P,B,q,te){this.parentContexts=D,this.location=P,this.resolver=B,this.changeDetector=te,this.activated=null,this._activatedRoute=null,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.name=q||lt,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const te=(P=P||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),pe=this.parentContexts.getOrCreateContext(this.name).children,st=new Kn(D,pe,this.location.injector);this.activated=this.location.createComponent(te,this.location.length,st),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(D){return new(D||N)(C.Y36(Ri),C.Y36(C.s_b),C.Y36(C._Vd),C.$8M("name"),C.Y36(C.sBO))},N.\u0275dir=C.lG2({type:N,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),N})();class Kn{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===_t?this.route:x===Ri?this.childContexts:this.parent.get(x,D)}}let vr=(()=>{class N{}return N.\u0275fac=function(D){return new(D||N)},N.\u0275cmp=C.Xpm({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,P){1&D&&C._UZ(0,"router-outlet")},directives:[Io],encapsulation:2}),N})();function ws(N,x=""){for(let D=0;D<N.length;D++){const P=N[D];To(P,Tr(x,P))}}function To(N,x){N.children&&ws(N.children,x)}function Tr(N,x){return x?N||x.path?N&&!x.path?`${N}/`:!N&&x.path?x.path:`${N}/${x.path}`:"":N}function L(N){const x=N.children&&N.children.map(L),D=x?Object.assign(Object.assign({},N),{children:x}):Object.assign({},N);return!D.component&&(x||D.loadChildren)&&D.outlet&&D.outlet!==lt&&(D.component=vr),D}function W(N){return N.outlet||lt}function S(N,x){const D=N.filter(P=>W(P)===x);return D.push(...N.filter(P=>W(P)!==x)),D}const R={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function H(N,x,D){var P;if(""===x.path)return"full"===x.pathMatch&&(N.hasChildren()||D.length>0)?Object.assign({},R):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const q=(x.matcher||Bn)(D,N,x);if(!q)return Object.assign({},R);const te={};ee(q.posParams,(st,Jt)=>{te[Jt]=st.path});const pe=q.consumed.length>0?Object.assign(Object.assign({},te),q.consumed[q.consumed.length-1].parameters):te;return{matched:!0,consumedSegments:q.consumed,lastChild:q.consumed.length,parameters:pe,positionalParamSegments:null!==(P=q.posParams)&&void 0!==P?P:{}}}function J(N,x,D,P,B="corrected"){if(D.length>0&&function xt(N,x,D){return D.some(P=>on(N,x,P)&&W(P)!==lt)}(N,D,P)){const te=new X(x,function Te(N,x,D,P){const B={};B[lt]=P,P._sourceSegment=N,P._segmentIndexShift=x.length;for(const q of D)if(""===q.path&&W(q)!==lt){const te=new X([],{});te._sourceSegment=N,te._segmentIndexShift=x.length,B[W(q)]=te}return B}(N,x,P,new X(D,N.children)));return te._sourceSegment=N,te._segmentIndexShift=x.length,{segmentGroup:te,slicedSegments:[]}}if(0===D.length&&function Yt(N,x,D){return D.some(P=>on(N,x,P))}(N,D,P)){const te=new X(N.segments,function ce(N,x,D,P,B,q){const te={};for(const pe of P)if(on(N,D,pe)&&!B[W(pe)]){const st=new X([],{});st._sourceSegment=N,st._segmentIndexShift="legacy"===q?N.segments.length:x.length,te[W(pe)]=st}return Object.assign(Object.assign({},B),te)}(N,x,D,P,N.children,B));return te._sourceSegment=N,te._segmentIndexShift=x.length,{segmentGroup:te,slicedSegments:D}}const q=new X(N.segments,N.children);return q._sourceSegment=N,q._segmentIndexShift=x.length,{segmentGroup:q,slicedSegments:D}}function on(N,x,D){return(!(N.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}function Ut(N,x,D,P){return!!(W(N)===P||P!==lt&&on(x,D,N))&&("**"===N.path||H(x,N,D).matched)}function vn(N,x,D){return 0===x.length&&!N.children[D]}class bn{constructor(x){this.segmentGroup=x||null}}class Gt{constructor(x){this.urlTree=x}}function Gr(N){return new g.y(x=>x.error(new bn(N)))}function Dr(N){return new g.y(x=>x.error(new Gt(N)))}function Ji(N){return new g.y(x=>x.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${N}'`)))}class Ii{constructor(x,D,P,B,q){this.configLoader=D,this.urlSerializer=P,this.urlTree=B,this.config=q,this.allowRedirects=!0,this.ngModule=x.get(C.h0i)}apply(){const x=J(this.urlTree.root,[],[],this.config).segmentGroup,D=new X(x.segments,x.children);return this.expandSegmentGroup(this.ngModule,this.config,D,lt).pipe((0,sn.U)(q=>this.createUrlTree(Et(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(it(q=>{if(q instanceof Gt)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof bn?this.noMatchError(q):q}))}match(x){return this.expandSegmentGroup(this.ngModule,this.config,x.root,lt).pipe((0,sn.U)(B=>this.createUrlTree(Et(B),x.queryParams,x.fragment))).pipe(it(B=>{throw B instanceof bn?this.noMatchError(B):B}))}noMatchError(x){return new Error(`Cannot match any routes. URL Segment: '${x.segmentGroup}'`)}createUrlTree(x,D,P){const B=x.segments.length>0?new X([],{[lt]:x}):x;return new _e(B,D,P)}expandSegmentGroup(x,D,P,B){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(x,D,P).pipe((0,sn.U)(q=>new X([],q))):this.expandSegment(x,P,D,P.segments,B,!0)}expandChildren(x,D,P){const B=[];for(const q of Object.keys(P.children))"primary"===q?B.unshift(q):B.push(q);return(0,be.D)(B).pipe((0,yt.b)(q=>{const te=P.children[q],pe=S(D,q);return this.expandSegmentGroup(x,pe,te,q).pipe((0,sn.U)(st=>({segment:st,outlet:q})))}),tt((q,te)=>(q[te.outlet]=te.segment,q),{}),function Kt(N,x){const D=arguments.length>=2;return P=>P.pipe(N?(0,$e.h)((B,q)=>N(B,q,P)):Ae.y,Qt(1),D?(0,Wn.d)(x):(0,pn.T)(()=>new ct.K))}())}expandSegment(x,D,P,B,q,te){return(0,be.D)(P).pipe((0,yt.b)(pe=>this.expandSegmentAgainstRoute(x,D,P,pe,B,q,te).pipe(it(Jt=>{if(Jt instanceof bn)return(0,De.of)(null);throw Jt}))),(0,xe.P)(pe=>!!pe),it((pe,st)=>{if(pe instanceof ct.K||"EmptyError"===pe.name){if(vn(D,B,q))return(0,De.of)(new X([],{}));throw new bn(D)}throw pe}))}expandSegmentAgainstRoute(x,D,P,B,q,te,pe){return Ut(B,D,q,te)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(x,D,B,q,te):pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,D,P,B,q,te):Gr(D):Gr(D)}expandSegmentAgainstRouteUsingRedirect(x,D,P,B,q,te){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,B,te):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,B,q,te)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,B){const q=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Dr(q):this.lineralizeSegments(P,q).pipe((0,Be.z)(te=>{const pe=new X(te,{});return this.expandSegment(x,pe,D,te,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,B,q,te){const{matched:pe,consumedSegments:st,lastChild:Jt,positionalParamSegments:$n}=H(D,B,q);if(!pe)return Gr(D);const hn=this.applyRedirectCommands(st,B.redirectTo,$n);return B.redirectTo.startsWith("/")?Dr(hn):this.lineralizeSegments(B,hn).pipe((0,Be.z)(rr=>this.expandSegment(x,D,P,rr.concat(q.slice(Jt)),te,!1)))}matchSegmentAgainstRoute(x,D,P,B,q){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,De.of)(P._loadedConfig):this.configLoader.load(x.injector,P)).pipe((0,sn.U)(rr=>(P._loadedConfig=rr,new X(B,{})))):(0,De.of)(new X(B,{}));const{matched:te,consumedSegments:pe,lastChild:st}=H(D,P,B);if(!te)return Gr(D);const Jt=B.slice(st);return this.getChildConfig(x,P,B).pipe((0,Be.z)(hn=>{const rr=hn.module,mr=hn.routes,{segmentGroup:fr,slicedSegments:Fi}=J(D,pe,Jt,mr),Li=new X(fr.segments,fr.children);if(0===Fi.length&&Li.hasChildren())return this.expandChildren(rr,mr,Li).pipe((0,sn.U)(ri=>new X(pe,ri)));if(0===mr.length&&0===Fi.length)return(0,De.of)(new X(pe,{}));const ps=W(P)===q;return this.expandSegment(rr,Li,mr,Fi,ps?lt:q,!0).pipe((0,sn.U)(ms=>new X(pe.concat(ms.segments),ms.children)))}))}getChildConfig(x,D,P){return D.children?(0,De.of)(new zs(D.children,x)):D.loadChildren?void 0!==D._loadedConfig?(0,De.of)(D._loadedConfig):this.runCanLoadGuards(x.injector,D,P).pipe((0,Be.z)(B=>B?this.configLoader.load(x.injector,D).pipe((0,sn.U)(q=>(D._loadedConfig=q,q))):function ki(N){return new g.y(x=>x.error(Qn(`Cannot load children because the guard of the route "path: '${N.path}'" returned false`)))}(D))):(0,De.of)(new zs([],x))}runCanLoadGuards(x,D,P){const B=D.canLoad;if(!B||0===B.length)return(0,De.of)(!0);const q=B.map(te=>{const pe=x.get(te);let st;if(function Pl(N){return N&&vi(N.canLoad)}(pe))st=pe.canLoad(D,P);else{if(!vi(pe))throw new Error("Invalid CanLoad guard");st=pe(D,P)}return ae(st)});return(0,De.of)(q).pipe(cs(),(0,St.b)(te=>{if(!Gi(te))return;const pe=Qn(`Redirecting to "${this.urlSerializer.serialize(te)}"`);throw pe.url=te,pe}),(0,sn.U)(te=>!0===te))}lineralizeSegments(x,D){let P=[],B=D.root;for(;;){if(P=P.concat(B.segments),0===B.numberOfChildren)return(0,De.of)(P);if(B.numberOfChildren>1||!B.children[lt])return Ji(x.redirectTo);B=B.children[lt]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreatreUrlTree(x,D,P,B){const q=this.createSegmentGroup(x,D.root,P,B);return new _e(q,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return ee(x,(B,q)=>{if("string"==typeof B&&B.startsWith(":")){const pe=B.substring(1);P[q]=D[pe]}else P[q]=B}),P}createSegmentGroup(x,D,P,B){const q=this.createSegments(x,D.segments,P,B);let te={};return ee(D.children,(pe,st)=>{te[st]=this.createSegmentGroup(x,pe,P,B)}),new X(q,te)}createSegments(x,D,P,B){return D.map(q=>q.path.startsWith(":")?this.findPosParam(x,q,B):this.findOrReturn(q,P))}findPosParam(x,D,P){const B=P[D.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${x}'. Cannot find '${D.path}'.`);return B}findOrReturn(x,D){let P=0;for(const B of D){if(B.path===x.path)return D.splice(P),B;P++}return x}}function Et(N){const x={};for(const P of Object.keys(N.children)){const q=Et(N.children[P]);(q.segments.length>0||q.hasChildren())&&(x[P]=q)}return function Ni(N){if(1===N.numberOfChildren&&N.children[lt]){const x=N.children[lt];return new X(N.segments.concat(x.segments),x.children)}return N}(new X(N.segments,x))}class zi{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class Wr{constructor(x,D){this.component=x,this.route=D}}function sl(N,x,D){const P=N._root;return Ps(P,x?x._root:null,D,[P.value])}function Ti(N,x,D){const P=function ol(N){if(!N)return null;for(let x=N.parent;x;x=x.parent){const D=x.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(x);return(P?P.module.injector:D).get(N)}function Ps(N,x,D,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const q=ye(x);return N.children.forEach(te=>{(function Rc(N,x,D,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const q=N.value,te=x?x.value:null,pe=D?D.getContext(N.value.outlet):null;if(te&&q.routeConfig===te.routeConfig){const st=function al(N,x,D){if("function"==typeof D)return D(N,x);switch(D){case"pathParamsChange":return!Ft(N.url,x.url);case"pathParamsOrQueryParamsChange":return!Ft(N.url,x.url)||!cn(N.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ns(N,x)||!cn(N.queryParams,x.queryParams);default:return!Ns(N,x)}}(te,q,q.routeConfig.runGuardsAndResolvers);st?B.canActivateChecks.push(new zi(P)):(q.data=te.data,q._resolvedData=te._resolvedData),Ps(N,x,q.component?pe?pe.children:null:D,P,B),st&&pe&&pe.outlet&&pe.outlet.isActivated&&B.canDeactivateChecks.push(new Wr(pe.outlet.component,te))}else te&&Ws(x,pe,B),B.canActivateChecks.push(new zi(P)),Ps(N,null,q.component?pe?pe.children:null:D,P,B)})(te,q[te.value.outlet],D,P.concat([te.value]),B),delete q[te.value.outlet]}),ee(q,(te,pe)=>Ws(te,D.getContext(pe),B)),B}function Ws(N,x,D){const P=ye(N),B=N.value;ee(P,(q,te)=>{Ws(q,B.component?x?x.children.getContext(te):null:x,D)}),D.canDeactivateChecks.push(new Wr(B.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,B))}class ll{}function ul(N){return new g.y(x=>x.error(N))}class Is{constructor(x,D,P,B,q,te){this.rootComponentType=x,this.config=D,this.urlTree=P,this.url=B,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=te}recognize(){const x=J(this.urlTree.root,[],[],this.config.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,x,lt);if(null===D)return null;const P=new dr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new ni(P,D),q=new Xn(this.url,B);return this.inheritParamsAndData(q._root),q}inheritParamsAndData(x){const D=x.value,P=Wt(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(x,D,P){return 0===D.segments.length&&D.hasChildren()?this.processChildren(x,D):this.processSegment(x,D,D.segments,P)}processChildren(x,D){const P=[];for(const q of Object.keys(D.children)){const te=D.children[q],pe=S(x,q),st=this.processSegmentGroup(pe,te,q);if(null===st)return null;P.push(...st)}const B=Pi(P);return function co(N){N.sort((x,D)=>x.value.outlet===lt?-1:D.value.outlet===lt?1:x.value.outlet.localeCompare(D.value.outlet))}(B),B}processSegment(x,D,P,B){for(const q of x){const te=this.processSegmentAgainstRoute(q,D,P,B);if(null!==te)return te}return vn(D,P,B)?[]:null}processSegmentAgainstRoute(x,D,P,B){if(x.redirectTo||!Ut(x,D,P,B))return null;let q,te=[],pe=[];if("**"===x.path){const mr=P.length>0?ie(P).parameters:{};q=new dr(P,mr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fs(x),W(x),x.component,x,ho(D),fo(D)+P.length,Da(x))}else{const mr=H(D,x,P);if(!mr.matched)return null;te=mr.consumedSegments,pe=P.slice(mr.lastChild),q=new dr(te,mr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fs(x),W(x),x.component,x,ho(D),fo(D)+te.length,Da(x))}const st=function Qo(N){return N.children?N.children:N.loadChildren?N._loadedConfig.routes:[]}(x),{segmentGroup:Jt,slicedSegments:$n}=J(D,te,pe,st.filter(mr=>void 0===mr.redirectTo),this.relativeLinkResolution);if(0===$n.length&&Jt.hasChildren()){const mr=this.processChildren(st,Jt);return null===mr?null:[new ni(q,mr)]}if(0===st.length&&0===$n.length)return[new ni(q,[])];const hn=W(x)===B,rr=this.processSegment(st,Jt,$n,hn?lt:B);return null===rr?null:[new ni(q,rr)]}}function pu(N){const x=N.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function Pi(N){const x=[],D=new Set;for(const P of N){if(!pu(P)){x.push(P);continue}const B=x.find(q=>P.value.routeConfig===q.value.routeConfig);void 0!==B?(B.children.push(...P.children),D.add(B)):x.push(P)}for(const P of D){const B=Pi(P.children);x.push(new ni(P.value,B))}return x.filter(P=>!D.has(P))}function ho(N){let x=N;for(;x._sourceSegment;)x=x._sourceSegment;return x}function fo(N){let x=N,D=x._segmentIndexShift?x._segmentIndexShift:0;for(;x._sourceSegment;)x=x._sourceSegment,D+=x._segmentIndexShift?x._segmentIndexShift:0;return D-1}function Fs(N){return N.data||{}}function Da(N){return N.resolve||{}}function ur(N){return(0,Vn.w)(x=>{const D=N(x);return D?(0,be.D)(D).pipe((0,sn.U)(()=>x)):(0,De.of)(x)})}class Aa extends class kc{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}{}const ea=new C.OlP("ROUTES");class mo{constructor(x,D,P,B){this.injector=x,this.compiler=D,this.onLoadStartListener=P,this.onLoadEndListener=B}load(x,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const B=this.loadModuleFactory(D.loadChildren).pipe((0,sn.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(D);const te=q.create(x);return new zs(Gn(te.injector.get(ea,void 0,C.XFs.Self|C.XFs.Optional)).map(L),te)}),it(q=>{throw D._loader$=void 0,q}));return D._loader$=new Ue(B,()=>new se.x).pipe(qe()),D._loader$}loadModuleFactory(x){return ae(x()).pipe((0,Be.z)(D=>D instanceof C.YKP?(0,De.of)(D):(0,be.D)(this.compiler.compileModuleAsync(D))))}}class Ls{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,D){return x}}function Sa(N){throw N}function dl(N,x,D){return x.parse("/")}function br(N,x){return(0,De.of)(null)}const ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ma={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ur=(()=>{class N{constructor(D,P,B,q,te,pe,st){this.rootComponentType=D,this.urlSerializer=P,this.rootContexts=B,this.location=q,this.config=st,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new se.x,this.errorHandler=Sa,this.malformedUriErrorHandler=dl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:br,afterPreactivation:br},this.urlHandlingStrategy=new Ls,this.routeReuseStrategy=new Aa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=te.get(C.h0i),this.console=te.get(C.c2e);const hn=te.get(C.R0b);this.isNgZoneEnabled=hn instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(st),this.currentUrlTree=function de(){return new _e(new X([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mo(te,pe,rr=>this.triggerEvent(new ir(rr)),rr=>this.triggerEvent(new Pr(rr))),this.routerState=Ee(this.currentUrlTree,this.rootComponentType),this.transitions=new Mt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const P=this.events;return D.pipe((0,$e.h)(B=>0!==B.id),(0,sn.U)(B=>Object.assign(Object.assign({},B),{extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,Vn.w)(B=>{let q=!1,te=!1;return(0,De.of)(B).pipe((0,St.b)(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.currentRawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Vn.w)(pe=>{const st=this.browserUrlTree.toString(),Jt=!this.navigated||pe.extractedUrl.toString()!==st||st!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Jt)&&this.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl))return Do(pe.source)&&(this.browserUrlTree=pe.extractedUrl),(0,De.of)(pe).pipe((0,Vn.w)(hn=>{const rr=this.transitions.getValue();return P.next(new Tn(hn.id,this.serializeUrl(hn.extractedUrl),hn.source,hn.restoredState)),rr!==this.transitions.getValue()?je.E:Promise.resolve(hn)}),function Un(N,x,D,P){return(0,Vn.w)(B=>function Ci(N,x,D,P,B){return new Ii(N,x,D,P,B).apply()}(N,x,D,B.extractedUrl,P).pipe((0,sn.U)(q=>Object.assign(Object.assign({},B),{urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,St.b)(hn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:hn.urlAfterRedirects})}),function Ts(N,x,D,P,B){return(0,Be.z)(q=>function Fl(N,x,D,P,B="emptyOnly",q="legacy"){try{const te=new Is(N,x,D,P,B,q).recognize();return null===te?ul(new ll):(0,De.of)(te)}catch(te){return ul(te)}}(N,x,q.urlAfterRedirects,D(q.urlAfterRedirects),P,B).pipe((0,sn.U)(te=>Object.assign(Object.assign({},q),{targetSnapshot:te}))))}(this.rootComponentType,this.config,hn=>this.serializeUrl(hn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,St.b)(hn=>{if("eager"===this.urlUpdateStrategy){if(!hn.extras.skipLocationChange){const mr=this.urlHandlingStrategy.merge(hn.urlAfterRedirects,hn.rawUrl);this.setBrowserUrl(mr,hn)}this.browserUrlTree=hn.urlAfterRedirects}const rr=new wt(hn.id,this.serializeUrl(hn.extractedUrl),this.serializeUrl(hn.urlAfterRedirects),hn.targetSnapshot);P.next(rr)}));if(Jt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:rr,extractedUrl:mr,source:fr,restoredState:Fi,extras:Li}=pe,ps=new Tn(rr,this.serializeUrl(mr),fr,Fi);P.next(ps);const ia=Ee(mr,this.rootComponentType).snapshot;return(0,De.of)(Object.assign(Object.assign({},pe),{targetSnapshot:ia,urlAfterRedirects:mr,extras:Object.assign(Object.assign({},Li),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=pe.rawUrl,pe.resolve(null),je.E}),ur(pe=>{const{targetSnapshot:st,id:Jt,extractedUrl:$n,rawUrl:hn,extras:{skipLocationChange:rr,replaceUrl:mr}}=pe;return this.hooks.beforePreactivation(st,{navigationId:Jt,appliedUrlTree:$n,rawUrlTree:hn,skipLocationChange:!!rr,replaceUrl:!!mr})}),(0,St.b)(pe=>{const st=new ar(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot);this.triggerEvent(st)}),(0,sn.U)(pe=>Object.assign(Object.assign({},pe),{guards:sl(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)})),function Cs(N,x){return(0,Be.z)(D=>{const{targetSnapshot:P,currentSnapshot:B,guards:{canActivateChecks:q,canDeactivateChecks:te}}=D;return 0===te.length&&0===q.length?(0,De.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function Di(N,x,D,P){return(0,be.D)(N).pipe((0,Be.z)(B=>function fu(N,x,D,P,B){const q=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,De.of)(!0);const te=q.map(pe=>{const st=Ti(pe,x,B);let Jt;if(function Mr(N){return N&&vi(N.canDeactivate)}(st))Jt=ae(st.canDeactivate(N,x,D,P));else{if(!vi(st))throw new Error("Invalid CanDeactivate guard");Jt=ae(st(N,x,D,P))}return Jt.pipe((0,xe.P)())});return(0,De.of)(te).pipe(cs())}(B.component,B.route,D,x,P)),(0,xe.P)(B=>!0!==B,!0))}(te,P,B,N).pipe((0,Be.z)(pe=>pe&&function Oi(N){return"boolean"==typeof N}(pe)?function Xi(N,x,D,P){return(0,be.D)(x).pipe((0,yt.b)(B=>at(function ds(N,x){return null!==N&&x&&x(new ht(N)),(0,De.of)(!0)}(B.route.parent,P),function uo(N,x){return null!==N&&x&&x(new ve(N)),(0,De.of)(!0)}(B.route,P),function Yo(N,x,D){const P=x[x.length-1],q=x.slice(0,x.length-1).reverse().map(te=>function lo(N){const x=N.routeConfig?N.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:N,guards:x}:null}(te)).filter(te=>null!==te).map(te=>Ze(()=>{const pe=te.guards.map(st=>{const Jt=Ti(st,te.node,D);let $n;if(function Ta(N){return N&&vi(N.canActivateChild)}(Jt))$n=ae(Jt.canActivateChild(P,N));else{if(!vi(Jt))throw new Error("Invalid CanActivateChild guard");$n=ae(Jt(P,N))}return $n.pipe((0,xe.P)())});return(0,De.of)(pe).pipe(cs())}));return(0,De.of)(q).pipe(cs())}(N,B.path,D),function hs(N,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,De.of)(!0);const B=P.map(q=>Ze(()=>{const te=Ti(q,x,D);let pe;if(function bi(N){return N&&vi(N.canActivate)}(te))pe=ae(te.canActivate(x,N));else{if(!vi(te))throw new Error("Invalid CanActivate guard");pe=ae(te(x,N))}return pe.pipe((0,xe.P)())}));return(0,De.of)(B).pipe(cs())}(N,B.route,D))),(0,xe.P)(B=>!0!==B,!0))}(P,q,N,x):(0,De.of)(pe)),(0,sn.U)(pe=>Object.assign(Object.assign({},D),{guardsResult:pe})))})}(this.ngModule.injector,pe=>this.triggerEvent(pe)),(0,St.b)(pe=>{if(Gi(pe.guardsResult)){const Jt=Qn(`Redirecting to "${this.serializeUrl(pe.guardsResult)}"`);throw Jt.url=pe.guardsResult,Jt}const st=new Xt(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.triggerEvent(st)}),(0,$e.h)(pe=>!!pe.guardsResult||(this.restoreHistory(pe),this.cancelNavigationTransition(pe,""),!1)),ur(pe=>{if(pe.guards.canActivateChecks.length)return(0,De.of)(pe).pipe((0,St.b)(st=>{const Jt=new cr(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(Jt)}),(0,Vn.w)(st=>{let Jt=!1;return(0,De.of)(st).pipe(function cl(N,x){return(0,Be.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:B}}=D;if(!B.length)return(0,De.of)(D);let q=0;return(0,be.D)(B).pipe((0,yt.b)(te=>function po(N,x,D,P){return function es(N,x,D,P){const B=Object.keys(N);if(0===B.length)return(0,De.of)({});const q={};return(0,be.D)(B).pipe((0,Be.z)(te=>function Jo(N,x,D,P){const B=Ti(N,x,P);return ae(B.resolve?B.resolve(x,D):B(x,D))}(N[te],x,D,P).pipe((0,St.b)(pe=>{q[te]=pe}))),Qt(1),(0,Be.z)(()=>Object.keys(q).length===B.length?(0,De.of)(q):je.E))}(N._resolve,N,x,P).pipe((0,sn.U)(q=>(N._resolvedData=q,N.data=Object.assign(Object.assign({},N.data),Wt(N,D).resolve),null)))}(te.route,P,N,x)),(0,St.b)(()=>q++),Qt(1),(0,Be.z)(te=>q===B.length?(0,De.of)(D):je.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,St.b)({next:()=>Jt=!0,complete:()=>{Jt||(this.restoreHistory(st),this.cancelNavigationTransition(st,"At least one route resolver didn't emit any value."))}}))}),(0,St.b)(st=>{const Jt=new An(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(Jt)}))}),ur(pe=>{const{targetSnapshot:st,id:Jt,extractedUrl:$n,rawUrl:hn,extras:{skipLocationChange:rr,replaceUrl:mr}}=pe;return this.hooks.afterPreactivation(st,{navigationId:Jt,appliedUrlTree:$n,rawUrlTree:hn,skipLocationChange:!!rr,replaceUrl:!!mr})}),(0,sn.U)(pe=>{const st=function as(N,x,D){const P=hr(N,x._root,D?D._root:void 0);return new he(P,x)}(this.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return Object.assign(Object.assign({},pe),{targetRouterState:st})}),(0,St.b)(pe=>{this.currentUrlTree=pe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(pe.urlAfterRedirects,pe.rawUrl),this.routerState=pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(pe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,pe),this.browserUrlTree=pe.urlAfterRedirects)}),((N,x,D)=>(0,sn.U)(P=>(new Es(x,P.targetRouterState,P.currentRouterState,D).activate(N),P)))(this.rootContexts,this.routeReuseStrategy,pe=>this.triggerEvent(pe)),(0,St.b)({next(){q=!0},complete(){q=!0}}),function rn(N){return(0,bt.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(N)}})}(()=>{var pe;q||te||this.cancelNavigationTransition(B,`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`),(null===(pe=this.currentNavigation)||void 0===pe?void 0:pe.id)===B.id&&(this.currentNavigation=null)}),it(pe=>{if(te=!0,function en(N){return N&&N[wn]}(pe)){const st=Gi(pe.url);st||(this.navigated=!0,this.restoreHistory(B,!0));const Jt=new Yn(B.id,this.serializeUrl(B.extractedUrl),pe.message);P.next(Jt),st?setTimeout(()=>{const $n=this.urlHandlingStrategy.merge(pe.url,this.rawUrlTree),hn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Do(B.source)};this.scheduleNavigation($n,"imperative",null,hn,{resolve:B.resolve,reject:B.reject,promise:B.promise})},0):B.resolve(!1)}else{this.restoreHistory(B,!0);const st=new nr(B.id,this.serializeUrl(B.extractedUrl),pe);P.next(st);try{B.resolve(this.errorHandler(pe))}catch(Jt){B.reject(Jt)}}return je.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var B;const q={replaceUrl:!0},te=(null===(B=D.state)||void 0===B?void 0:B.navigationId)?D.state:null;if(te){const st=Object.assign({},te);delete st.navigationId,delete st.\u0275routerPageId,0!==Object.keys(st).length&&(q.state=st)}const pe=this.parseUrl(D.url);this.scheduleNavigation(pe,P,te,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){ws(D),this.config=D.map(L),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,P={}){const{relativeTo:B,queryParams:q,fragment:te,queryParamsHandling:pe,preserveFragment:st}=P,Jt=B||this.routerState.root,$n=st?this.currentUrlTree.fragment:te;let hn=null;switch(pe){case"merge":hn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),q);break;case"preserve":hn=this.currentUrlTree.queryParams;break;default:hn=q||null}return null!==hn&&(hn=this.removeEmptyProps(hn)),function Ca(N,x,D,P,B){if(0===D.length)return Gs(x.root,x.root,x,P,B);const q=function il(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new qo(!0,0,N);let x=0,D=!1;const P=N.reduce((B,q,te)=>{if("object"==typeof q&&null!=q){if(q.outlets){const pe={};return ee(q.outlets,(st,Jt)=>{pe[Jt]="string"==typeof st?st.split("/"):st}),[...B,{outlets:pe}]}if(q.segmentPath)return[...B,q.segmentPath]}return"string"!=typeof q?[...B,q]:0===te?(q.split("/").forEach((pe,st)=>{0==st&&"."===pe||(0==st&&""===pe?D=!0:".."===pe?x++:""!=pe&&B.push(pe))}),B):[...B,q]},[]);return new qo(D,x,P)}(D);if(q.toRoot())return Gs(x.root,new X([],{}),x,P,B);const te=function Ko(N,x,D){if(N.isAbsolute)return new Co(x.root,!0,0);if(-1===D.snapshot._lastPathIndex){const q=D.snapshot._urlSegment;return new Co(q,q===x.root,0)}const P=bs(N.commands[0])?0:1;return function Ia(N,x,D){let P=N,B=x,q=D;for(;q>B;){if(q-=B,P=P.parent,!P)throw new Error("Invalid number of '../'");B=P.segments.length}return new Co(P,!1,B-q)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+P,N.numberOfDoubleDots)}(q,x,N),pe=te.processChildren?Fn(te.segmentGroup,te.index,q.commands):$i(te.segmentGroup,te.index,q.commands);return Gs(te.segmentGroup,pe,x,P,B)}(Jt,this.currentUrlTree,D,hn,null!=$n?$n:null)}navigateByUrl(D,P={skipLocationChange:!1}){const B=Gi(D)?D:this.parseUrl(D),q=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,P)}navigate(D,P={skipLocationChange:!1}){return function xa(N){for(let x=0;x<N.length;x++){const D=N[x];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${x}`)}}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(B){P=this.malformedUriErrorHandler(B,this.urlSerializer,D)}return P}isActive(D,P){let B;if(B=!0===P?Object.assign({},ts):!1===P?Object.assign({},Ma):P,Gi(D))return At(this.currentUrlTree,D,B);const q=this.parseUrl(D);return At(this.currentUrlTree,q,B)}removeEmptyProps(D){return Object.keys(D).reduce((P,B)=>{const q=D[B];return null!=q&&(P[B]=q),P},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new qn(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,P,B,q,te){var pe,st,Jt;if(this.disposed)return Promise.resolve(!1);const $n=this.transitions.value,hn=Do(P)&&$n&&!Do($n.source),rr=$n.rawUrl.toString()===D.toString(),mr=$n.id===(null===(pe=this.currentNavigation)||void 0===pe?void 0:pe.id);if(hn&&rr&&mr)return Promise.resolve(!0);let Fi,Li,ps;te?(Fi=te.resolve,Li=te.reject,ps=te.promise):ps=new Promise((ri,Pc)=>{Fi=ri,Li=Pc});const ia=++this.navigationId;let ms;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),ms=B&&B.\u0275routerPageId?B.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?null!==(st=this.browserPageId)&&void 0!==st?st:0:(null!==(Jt=this.browserPageId)&&void 0!==Jt?Jt:0)+1):ms=0,this.setTransition({id:ia,targetPageId:ms,source:P,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:q,resolve:Fi,reject:Li,promise:ps,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ps.catch(ri=>Promise.reject(ri))}setBrowserUrl(D,P){const B=this.urlSerializer.serialize(D),q=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo(B)||P.extras.replaceUrl?this.location.replaceState(B,"",q):this.location.go(B,"",q)}restoreHistory(D,P=!1){var B,q;if("computed"===this.canceledNavigationResolution){const te=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)||0===te?this.currentUrlTree===(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)&&0===te&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(te)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,P){const B=new Yn(D.id,this.serializeUrl(D.extractedUrl),P);this.triggerEvent(B),D.resolve(!1)}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}}return N.\u0275fac=function(D){C.$Z()},N.\u0275prov=C.Yz7({token:N,factory:N.\u0275fac}),N})();function Do(N){return"imperative"!==N}let Vs=(()=>{class N{constructor(D,P,B,q,te){this.router=D,this.route=P,this.tabIndexAttribute=B,this.renderer=q,this.el=te,this.commands=null,this.onChanges=new se.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const P=this.renderer,B=this.el.nativeElement;null!==D?P.setAttribute(B,"tabindex",D):P.removeAttribute(B,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const D={skipLocationChange:Wi(this.skipLocationChange),replaceUrl:Wi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wi(this.preserveFragment)})}}return N.\u0275fac=function(D){return new(D||N)(C.Y36(Ur),C.Y36(_t),C.$8M("tabindex"),C.Y36(C.Qsj),C.Y36(C.SBq))},N.\u0275dir=C.lG2({type:N,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,P){1&D&&C.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[C.TTD]}),N})(),Ao=(()=>{class N{constructor(D,P,B){this.router=D,this.route=P,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new se.x,this.subscription=D.events.subscribe(q=>{q instanceof qn&&this.updateTargetUrlAndHref()})}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:null}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,P,B,q,te){if(0!==D||P||B||q||te||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const pe={skipLocationChange:Wi(this.skipLocationChange),replaceUrl:Wi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,pe),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wi(this.preserveFragment)})}}return N.\u0275fac=function(D){return new(D||N)(C.Y36(Ur),C.Y36(_t),C.Y36(un.S$))},N.\u0275dir=C.lG2({type:N,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,P){1&D&&C.NdJ("click",function(q){return P.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&D&&C.uIk("target",P.target)("href",P.href,C.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[C.TTD]}),N})();function Wi(N){return""===N||!!N}class qs{}class Ra{preload(x,D){return(0,De.of)(null)}}let gu=(()=>{class N{constructor(D,P,B,q){this.router=D,this.injector=B,this.preloadingStrategy=q,this.loader=new mo(B,P,st=>D.triggerEvent(new ir(st)),st=>D.triggerEvent(new Pr(st)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.h)(D=>D instanceof qn),(0,yt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(C.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const B=[];for(const q of P)if(q.loadChildren&&!q.canLoad&&q._loadedConfig){const te=q._loadedConfig;B.push(this.processRoutes(te.module,te.routes))}else q.loadChildren&&!q.canLoad?B.push(this.preloadConfig(D,q)):q.children&&B.push(this.processRoutes(D,q.children));return(0,be.D)(B).pipe((0,We.J)(),(0,sn.U)(q=>{}))}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,De.of)(P._loadedConfig):this.loader.load(D.injector,P)).pipe((0,Be.z)(q=>(P._loadedConfig=q,this.processRoutes(q.module,q.routes)))))}}return N.\u0275fac=function(D){return new(D||N)(C.LFG(Ur),C.LFG(C.Sil),C.LFG(C.zs3),C.LFG(qs))},N.\u0275prov=C.Yz7({token:N,factory:N.\u0275fac}),N})(),Mo=(()=>{class N{constructor(D,P,B={}){this.router=D,this.viewportScroller=P,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Tn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof qn&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof rt&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.router.triggerEvent(new rt(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return N.\u0275fac=function(D){C.$Z()},N.\u0275prov=C.Yz7({token:N,factory:N.\u0275fac}),N})();const ta=new C.OlP("ROUTER_CONFIGURATION"),ui=new C.OlP("ROUTER_FORROOT_GUARD"),hl=[un.Ye,{provide:_r,useClass:Ir},{provide:Ur,useFactory:function Na(N,x,D,P,B,q,te={},pe,st){const Jt=new Ur(null,N,x,D,P,B,Gn(q));return pe&&(Jt.urlHandlingStrategy=pe),st&&(Jt.routeReuseStrategy=st),function na(N,x){N.errorHandler&&(x.errorHandler=N.errorHandler),N.malformedUriErrorHandler&&(x.malformedUriErrorHandler=N.malformedUriErrorHandler),N.onSameUrlNavigation&&(x.onSameUrlNavigation=N.onSameUrlNavigation),N.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=N.paramsInheritanceStrategy),N.relativeLinkResolution&&(x.relativeLinkResolution=N.relativeLinkResolution),N.urlUpdateStrategy&&(x.urlUpdateStrategy=N.urlUpdateStrategy),N.canceledNavigationResolution&&(x.canceledNavigationResolution=N.canceledNavigationResolution)}(te,Jt),te.enableTracing&&Jt.events.subscribe($n=>{var hn,rr;null===(hn=console.group)||void 0===hn||hn.call(console,`Router Event: ${$n.constructor.name}`),console.log($n.toString()),console.log($n),null===(rr=console.groupEnd)||void 0===rr||rr.call(console)}),Jt},deps:[_r,Ri,un.Ye,C.zs3,C.Sil,ea,ta,[class mu{},new C.FiY],[class Xo{},new C.FiY]]},Ri,{provide:_t,useFactory:function fs(N){return N.routerState.root},deps:[Ur]},gu,Ra,class Oa{preload(x,D){return D().pipe(it(()=>(0,De.of)(null)))}},{provide:ta,useValue:{enableTracing:!1}}];function kd(){return new C.PXZ("Router",Ur)}let fl=(()=>{class N{constructor(D,P){}static forRoot(D,P){return{ngModule:N,providers:[hl,Ku(D),{provide:ui,useFactory:Nd,deps:[[Ur,new C.FiY,new C.tp0]]},{provide:ta,useValue:P||{}},{provide:un.S$,useFactory:_u,deps:[un.lw,[new C.tBr(un.mr),new C.FiY],ta]},{provide:Mo,useFactory:Nc,deps:[Ur,un.EM,ta]},{provide:qs,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:Ra},{provide:C.PXZ,multi:!0,useFactory:kd},[go,{provide:C.ip1,multi:!0,useFactory:Vl,deps:[go]},{provide:xo,useFactory:ra,deps:[go]},{provide:C.tb,multi:!0,useExisting:xo}]]}}static forChild(D){return{ngModule:N,providers:[Ku(D)]}}}return N.\u0275fac=function(D){return new(D||N)(C.LFG(ui,8),C.LFG(Ur,8))},N.\u0275mod=C.oAB({type:N}),N.\u0275inj=C.cJS({}),N})();function Nc(N,x,D){return D.scrollOffset&&x.setOffset(D.scrollOffset),new Mo(N,x,D)}function _u(N,x,D={}){return D.useHash?new un.Do(N,x):new un.b0(N,x)}function Nd(N){return"guarded"}function Ku(N){return[{provide:C.deG,multi:!0,useValue:N},{provide:ea,multi:!0,useValue:N}]}let go=(()=>{class N{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new se.x}appInitializer(){return this.injector.get(un.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const B=new Promise(pe=>P=pe),q=this.injector.get(Ur),te=this.injector.get(ta);return"disabled"===te.initialNavigation?(q.setUpLocationChangeListener(),P(!0)):"enabled"===te.initialNavigation||"enabledBlocking"===te.initialNavigation?(q.hooks.afterPreactivation=()=>this.initNavigation?(0,De.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),q.initialNavigation()):P(!0),B})}bootstrapListener(D){const P=this.injector.get(ta),B=this.injector.get(gu),q=this.injector.get(Mo),te=this.injector.get(Ur),pe=this.injector.get(C.z2F);D===pe.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&te.initialNavigation(),B.setUpPreloading(),q.init(),te.resetRootComponentType(pe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return N.\u0275fac=function(D){return new(D||N)(C.LFG(C.zs3))},N.\u0275prov=C.Yz7({token:N,factory:N.\u0275fac}),N})();function Vl(N){return N.appInitializer.bind(N)}function ra(N){return N.bootstrapListener.bind(N)}const xo=new C.OlP("Router Initializer")},3942:(Bt,Ge,U)=>{U.d(Ge,{Z:()=>dt});var C=U(2090),g=U(4859),me=U(9681),be=U(1877);class Ae{constructor(He,Ze){this._delegate=He,this.firebase=Ze,(0,me._addComponent)(He,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=He.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this._delegate.automaticDataCollectionEnabled=He}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(He=>{this._delegate.checkDestroyed(),He()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,me.deleteApp)(this._delegate)))}_getService(He,Ze=me._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(He);return!bt.isInitialized()&&"EXPLICIT"===(null===(Tt=bt.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:Ze})}_removeServiceInstance(He,Ze=me._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(He).clearInstance(Ze)}_addComponent(He){(0,me._addComponent)(this._delegate,He)}_addOrOverwriteComponent(He){(0,me._addOrOverwriteComponent)(this._delegate,He)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const K=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function ze(){const at=function Ve(at){const He={},Ze={__esModule:!0,initializeApp:function qe(ct,je={}){const se=me.initializeApp(ct,je);if((0,C.r3)(He,se.name))return He[se.name];const Me=new at(se,Ze);return He[se.name]=Me,Me},app:bt,registerVersion:me.registerVersion,setLogLevel:me.setLogLevel,onLog:me.onLog,apps:null,SDK_VERSION:me.SDK_VERSION,INTERNAL:{registerComponent:function De(ct){const je=ct.name,se=je.replace("-compat","");if(me._registerComponent(ct)&&"PUBLIC"===ct.type){const Me=(Fe=bt())=>{if("function"!=typeof Fe[se])throw K.create("invalid-app-argument",{appName:je});return Fe[se]()};void 0!==ct.serviceProps&&(0,C.ZB)(Me,ct.serviceProps),Ze[se]=Me,at.prototype[se]=function(...Fe){return this._getService.bind(this,je).apply(this,ct.multipleInstances?Fe:[])}}return"PUBLIC"===ct.type?Ze[se]:null},removeApp:function Tt(ct){delete He[ct]},useAsService:function Mt(ct,je){return"serverAuth"===je?null:je},modularAPIs:me}};function bt(ct){if(!(0,C.r3)(He,ct=ct||me._DEFAULT_ENTRY_NAME))throw K.create("no-app",{appName:ct});return He[ct]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function Ue(){return Object.keys(He).map(ct=>He[ct])}}),bt.App=at,Ze}(Ae);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function He(Ze){(0,C.ZB)(at,Ze)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),at}(),le=new be.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=ne;!function We(at){(0,me.registerVersion)("@firebase/app-compat","0.1.34",at)}()},9681:(Bt,Ge,U)=>{U.r(Ge),U.d(Ge,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>Yn,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>ut,_addOrOverwriteComponent:()=>yt,_apps:()=>sn,_clearComponents:()=>un,_components:()=>Vn,_getProvider:()=>Be,_registerComponent:()=>xe,_removeServiceInstance:()=>St,deleteApp:()=>Xt,getApp:()=>wt,getApps:()=>ar,initializeApp:()=>nr,onLog:()=>ir,registerVersion:()=>An,setLogLevel:()=>Pr});var C=U(5861),g=U(4859),me=U(1877),be=U(2090),Ae=U(8766);class Le{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function K(ee){const ae=ee.getComponent();return"VERSION"===(null==ae?void 0:ae.type)}(de)){const Ne=de.getImmediate();return`${Ne.library}/${Ne.version}`}return null}).filter(de=>de).join(" ")}}const Ve="@firebase/app",ne=new me.Yd("@firebase/app"),Kt="[DEFAULT]",rn={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,Vn=new Map;function ut(ee,ae){try{ee.container.addComponent(ae)}catch(de){ne.debug(`Component ${ae.name} failed to register with FirebaseApp ${ee.name}`,de)}}function yt(ee,ae){ee.container.addOrOverwriteComponent(ae)}function xe(ee){const ae=ee.name;if(Vn.has(ae))return ne.debug(`There were multiple attempts to register component ${ae}.`),!1;Vn.set(ae,ee);for(const de of sn.values())ut(de,ee);return!0}function Be(ee,ae){const de=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return de&&de.triggerHeartbeat(),ee.container.getProvider(ae)}function St(ee,ae,de=Kt){Be(ee,ae).clearInstance(de)}function un(){Vn.clear()}const Tn=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qn{constructor(ae,de,Ne){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=Ne,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const Yn="9.10.0";function nr(ee,ae={}){"object"!=typeof ae&&(ae={name:ae});const de=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},ae),Ne=de.name;if("string"!=typeof Ne||!Ne)throw Tn.create("bad-app-name",{appName:String(Ne)});const Lt=sn.get(Ne);if(Lt){if((0,be.vZ)(ee,Lt.options)&&(0,be.vZ)(de,Lt.config))return Lt;throw Tn.create("duplicate-app",{appName:Ne})}const At=new g.H0(Ne);for(const Mn of Vn.values())At.addComponent(Mn);const Hn=new qn(ee,de,At);return sn.set(Ne,Hn),Hn}function wt(ee=Kt){const ae=sn.get(ee);if(!ae)throw Tn.create("no-app",{appName:ee});return ae}function ar(){return Array.from(sn.values())}function Xt(ee){return cr.apply(this,arguments)}function cr(){return(cr=(0,C.Z)(function*(ee){const ae=ee.name;sn.has(ae)&&(sn.delete(ae),yield Promise.all(ee.container.getProviders().map(de=>de.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function An(ee,ae,de){var Ne;let Lt=null!==(Ne=rn[ee])&&void 0!==Ne?Ne:ee;de&&(Lt+=`-${de}`);const At=Lt.match(/\s|\//),Hn=ae.match(/\s|\//);if(At||Hn){const Mn=[`Unable to register library "${Lt}" with version "${ae}":`];return At&&Mn.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),At&&Hn&&Mn.push("and"),Hn&&Mn.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void ne.warn(Mn.join(" "))}xe(new g.wA(`${Lt}-version`,()=>({library:Lt,version:ae}),"VERSION"))}function ir(ee,ae){if(null!==ee&&"function"!=typeof ee)throw Tn.create("invalid-log-argument");(0,me.Am)(ee,ae)}function Pr(ee){(0,me.Ub)(ee)}const ve="firebase-heartbeat-store";let It=null;function rt(){return It||(It=(0,Ae.X3)("firebase-heartbeat-database",1,{upgrade:(ee,ae)=>{0===ae&&ee.createObjectStore(ve)}}).catch(ee=>{throw Tn.create("idb-open",{originalErrorMessage:ee.message})})),It}function Rt(){return(Rt=(0,C.Z)(function*(ee){var ae;try{return(yield rt()).transaction(ve).objectStore(ve).get(Qn(ee))}catch(de){if(de instanceof be.ZR)ne.warn(de.message);else{const Ne=Tn.create("idb-get",{originalErrorMessage:null===(ae=de)||void 0===ae?void 0:ae.message});ne.warn(Ne.message)}}})).apply(this,arguments)}function jt(ee,ae){return wn.apply(this,arguments)}function wn(){return(wn=(0,C.Z)(function*(ee,ae){var de;try{const Lt=(yield rt()).transaction(ve,"readwrite");return yield Lt.objectStore(ve).put(ae,Qn(ee)),Lt.done}catch(Ne){if(Ne instanceof be.ZR)ne.warn(Ne.message);else{const Lt=Tn.create("idb-set",{originalErrorMessage:null===(de=Ne)||void 0===de?void 0:de.message});ne.warn(Lt.message)}}})).apply(this,arguments)}function Qn(ee){return`${ee.name}!${ee.options.appId}`}class Jn{constructor(ae){this.container=ae,this._heartbeatsCache=null;const de=this.container.getProvider("app").getImmediate();this._storage=new Gn(de),this._heartbeatsCachePromise=this._storage.read().then(Ne=>(this._heartbeatsCache=Ne,Ne))}triggerHeartbeat(){var ae=this;return(0,C.Z)(function*(){const Ne=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=cn();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!ae._heartbeatsCache.heartbeats.some(At=>At.date===Lt))return ae._heartbeatsCache.heartbeats.push({date:Lt,agent:Ne}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(At=>{const Hn=new Date(At.date).valueOf();return Date.now()-Hn<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,C.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const de=cn(),{heartbeatsToSend:Ne,unsentEntries:Lt}=function Je(ee,ae=1024){const de=[];let Ne=ee.slice();for(const Lt of ee){const At=de.find(Hn=>Hn.agent===Lt.agent);if(At){if(At.dates.push(Lt.date),ie(de)>ae){At.dates.pop();break}}else if(de.push({agent:Lt.agent,dates:[Lt.date]}),ie(de)>ae){de.pop();break}Ne=Ne.slice(1)}return{heartbeatsToSend:de,unsentEntries:Ne}}(ae._heartbeatsCache.heartbeats),At=(0,be.L)(JSON.stringify({version:2,heartbeats:Ne}));return ae._heartbeatsCache.lastSentHeartbeatDate=de,Lt.length>0?(ae._heartbeatsCache.heartbeats=Lt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),At})()}}function cn(){return(new Date).toISOString().substring(0,10)}class Gn{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,C.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function lt(ee){return Rt.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var de=this;return(0,C.Z)(function*(){var Ne;if(yield de._canUseIndexedDBPromise){const At=yield de.read();return jt(de.app,{lastSentHeartbeatDate:null!==(Ne=ae.lastSentHeartbeatDate)&&void 0!==Ne?Ne:At.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var de=this;return(0,C.Z)(function*(){var Ne;if(yield de._canUseIndexedDBPromise){const At=yield de.read();return jt(de.app,{lastSentHeartbeatDate:null!==(Ne=ae.lastSentHeartbeatDate)&&void 0!==Ne?Ne:At.lastSentHeartbeatDate,heartbeats:[...At.heartbeats,...ae.heartbeats]})}})()}}function ie(ee){return(0,be.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function oe(ee){xe(new g.wA("platform-logger",ae=>new Le(ae),"PRIVATE")),xe(new g.wA("heartbeat",ae=>new Jn(ae),"PRIVATE")),An(Ve,"0.7.33",ee),An(Ve,"0.7.33","esm2017"),An("fire-js","")}("")},4859:(Bt,Ge,U)=>{U.d(Ge,{wA:()=>me,H0:()=>Ve});var C=U(5861),g=U(2090);class me{constructor(ne,le,Se){this.name=ne,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const be="[DEFAULT]";class Ae{constructor(ne,le){this.name=ne,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const le=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(le)){const Se=new g.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:le});mt&&Se.resolve(mt)}catch(mt){}}return this.instancesDeferred.get(le).promise}getImmediate(ne){var le;const Se=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),mt=null!==(le=null==ne?void 0:ne.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(We){if(mt)return null;throw We}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function K(ze){return"EAGER"===ze.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:be})}catch(le){}for(const[le,Se]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(le);try{const We=this.getOrInitializeService({instanceIdentifier:mt});Se.resolve(We)}catch(We){}}}}clearInstance(ne=be){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,C.Z)(function*(){const le=Array.from(ne.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=be){return this.instances.has(ne)}getOptions(ne=be){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:le={}}=ne,Se=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[We,dt]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(We)&&dt.resolve(mt);return mt}onInit(ne,le){var Se;const mt=this.normalizeInstanceIdentifier(le),We=null!==(Se=this.onInitCallbacks.get(mt))&&void 0!==Se?Se:new Set;We.add(ne),this.onInitCallbacks.set(mt,We);const dt=this.instances.get(mt);return dt&&ne(dt,mt),()=>{We.delete(ne)}}invokeOnInitCallbacks(ne,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const mt of Se)try{mt(ne,le)}catch(We){}}getOrInitializeService({instanceIdentifier:ne,options:le={}}){let Se=this.instances.get(ne);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=ne,ze===be?void 0:ze),options:le}),this.instances.set(ne,Se),this.instancesOptions.set(ne,le),this.invokeOnInitCallbacks(Se,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Se)}catch(mt){}var ze;return Se||null}normalizeInstanceIdentifier(ne=be){return this.component?this.component.multipleInstances?ne:be:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const le=this.getProvider(ne.name);if(le.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);le.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const le=new Ae(ne,this);return this.providers.set(ne,le),le}getProviders(){return Array.from(this.providers.values())}}},2833:(Bt,Ge,U)=>{var C=U(5861),g=U(9681),me=U(4859),be=U(2090),Ae=U(8766);const Le="@firebase/installations",K="0.5.12",ze=`w:${K}`,ne="FIS_v2",at=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(re){return re instanceof be.ZR&&re.code.includes("request-failed")}function Ze({projectId:re}){return`https://firebaseinstallations.googleapis.com/v1/projects/${re}/installations`}function Tt(re){return{token:re.token,requestStatus:2,expiresIn:je(re.expiresIn),creationTime:Date.now()}}function bt(re,Re){return qe.apply(this,arguments)}function qe(){return(qe=(0,C.Z)(function*(re,Re){const zt=(yield Re.json()).error;return at.create("request-failed",{requestName:re,serverCode:zt.code,serverMessage:zt.message,serverStatus:zt.status})})).apply(this,arguments)}function Ue({apiKey:re}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":re})}function De(re,{refreshToken:Re}){const Xe=Ue(re);return Xe.append("Authorization",function se(re){return`${ne} ${re}`}(Re)),Xe}function Mt(re){return ct.apply(this,arguments)}function ct(){return(ct=(0,C.Z)(function*(re){const Re=yield re();return Re.status>=500&&Re.status<600?re():Re})).apply(this,arguments)}function je(re){return Number(re.replace("s","000"))}function Me(re,Re){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,C.Z)(function*({appConfig:re,heartbeatServiceProvider:Re},{fid:Xe}){const zt=Ze(re),Pn=Ue(re),Dn=Re.getImmediate({optional:!0});if(Dn){const _n=yield Dn.getHeartbeatsHeader();_n&&Pn.append("x-firebase-client",_n)}const lr={method:"POST",headers:Pn,body:JSON.stringify({fid:Xe,authVersion:ne,appId:re.appId,sdkVersion:ze})},Hr=yield Mt(()=>fetch(zt,lr));if(Hr.ok){const _n=yield Hr.json();return{fid:_n.fid||Xe,registrationStatus:2,refreshToken:_n.refreshToken,authToken:Tt(_n.authToken)}}throw yield bt("Create Installation",Hr)})).apply(this,arguments)}function tt(re){return new Promise(Re=>{setTimeout(Re,re)})}const $e=/^[cdef][\w-]{21}$/;function pn(){try{const re=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(re),re[0]=112+re[0]%16;const Xe=function Wn(re){return function it(re){return btoa(String.fromCharCode(...re)).replace(/\+/g,"-").replace(/\//g,"_")}(re).substr(0,22)}(re);return $e.test(Xe)?Xe:""}catch(re){return""}}function Kt(re){return`${re.appName}!${re.appId}`}const rn=new Map;function sn(re,Re){const Xe=Kt(re);yt(Xe,Re),function xe(re,Re){const Xe=function St(){return!Be&&"BroadcastChannel"in self&&(Be=new BroadcastChannel("[Firebase] FID Change"),Be.onmessage=re=>{yt(re.data.key,re.data.fid)}),Be}();Xe&&Xe.postMessage({key:re,fid:Re}),function un(){0===rn.size&&Be&&(Be.close(),Be=null)}()}(Xe,Re)}function yt(re,Re){const Xe=rn.get(re);if(Xe)for(const zt of Xe)zt(Re)}let Be=null;const qn="firebase-installations-store";let Yn=null;function nr(){return Yn||(Yn=(0,Ae.X3)("firebase-installations-database",1,{upgrade:(re,Re)=>{0===Re&&re.createObjectStore(qn)}})),Yn}function wt(re,Re){return ar.apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(re,Re){const Xe=Kt(re),Pn=(yield nr()).transaction(qn,"readwrite"),Dn=Pn.objectStore(qn),$t=yield Dn.get(Xe);return yield Dn.put(Re,Xe),yield Pn.done,(!$t||$t.fid!==Re.fid)&&sn(re,Re.fid),Re})).apply(this,arguments)}function Xt(re){return cr.apply(this,arguments)}function cr(){return(cr=(0,C.Z)(function*(re){const Re=Kt(re),zt=(yield nr()).transaction(qn,"readwrite");yield zt.objectStore(qn).delete(Re),yield zt.done})).apply(this,arguments)}function An(re,Re){return ir.apply(this,arguments)}function ir(){return(ir=(0,C.Z)(function*(re,Re){const Xe=Kt(re),Pn=(yield nr()).transaction(qn,"readwrite"),Dn=Pn.objectStore(qn),$t=yield Dn.get(Xe),lr=Re($t);return void 0===lr?yield Dn.delete(Xe):yield Dn.put(lr,Xe),yield Pn.done,lr&&(!$t||$t.fid!==lr.fid)&&sn(re,lr.fid),lr})).apply(this,arguments)}function Pr(re){return ht.apply(this,arguments)}function ht(){return(ht=(0,C.Z)(function*(re){let Re;const Xe=yield An(re.appConfig,zt=>{const Pn=ge(zt),Dn=ve(re,Pn);return Re=Dn.registrationPromise,Dn.installationEntry});return""===Xe.fid?{installationEntry:yield Re}:{installationEntry:Xe,registrationPromise:Re}})).apply(this,arguments)}function ge(re){return wn(re||{fid:pn(),registrationStatus:0})}function ve(re,Re){if(0===Re.registrationStatus){if(!navigator.onLine)return{installationEntry:Re,registrationPromise:Promise.reject(at.create("app-offline"))};const Xe={fid:Re.fid,registrationStatus:1,registrationTime:Date.now()},zt=function It(re,Re){return rt.apply(this,arguments)}(re,Xe);return{installationEntry:Xe,registrationPromise:zt}}return 1===Re.registrationStatus?{installationEntry:Re,registrationPromise:lt(re)}:{installationEntry:Re}}function rt(){return(rt=(0,C.Z)(function*(re,Re){try{const Xe=yield Me(re,Re);return wt(re.appConfig,Xe)}catch(Xe){throw He(Xe)&&409===Xe.customData.serverCode?yield Xt(re.appConfig):yield wt(re.appConfig,{fid:Re.fid,registrationStatus:0}),Xe}})).apply(this,arguments)}function lt(re){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,C.Z)(function*(re){let Re=yield jt(re.appConfig);for(;1===Re.registrationStatus;)yield tt(100),Re=yield jt(re.appConfig);if(0===Re.registrationStatus){const{installationEntry:Xe,registrationPromise:zt}=yield Pr(re);return zt||Xe}return Re})).apply(this,arguments)}function jt(re){return An(re,Re=>{if(!Re)throw at.create("installation-not-found");return wn(Re)})}function wn(re){return function Qn(re){return 1===re.registrationStatus&&re.registrationTime+1e4<Date.now()}(re)?{fid:re.fid,registrationStatus:0}:re}function en(re,Re){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,C.Z)(function*({appConfig:re,heartbeatServiceProvider:Re},Xe){const zt=Jn(re,Xe),Pn=De(re,Xe),Dn=Re.getImmediate({optional:!0});if(Dn){const _n=yield Dn.getHeartbeatsHeader();_n&&Pn.append("x-firebase-client",_n)}const lr={method:"POST",headers:Pn,body:JSON.stringify({installation:{sdkVersion:ze,appId:re.appId}})},Hr=yield Mt(()=>fetch(zt,lr));if(Hr.ok)return Tt(yield Hr.json());throw yield bt("Generate Auth Token",Hr)})).apply(this,arguments)}function Jn(re,{fid:Re}){return`${Ze(re)}/${Re}/authTokens:generate`}function cn(re){return Je.apply(this,arguments)}function Je(){return(Je=(0,C.Z)(function*(re,Re=!1){let Xe;const zt=yield An(re.appConfig,Dn=>{if(!de(Dn))throw at.create("not-registered");const $t=Dn.authToken;if(!Re&&Ne($t))return Dn;if(1===$t.requestStatus)return Xe=Gn(re,Re),Dn;{if(!navigator.onLine)throw at.create("app-offline");const lr=At(Dn);return Xe=ee(re,lr),lr}});return Xe?yield Xe:zt.authToken})).apply(this,arguments)}function Gn(re,Re){return ie.apply(this,arguments)}function ie(){return(ie=(0,C.Z)(function*(re,Re){let Xe=yield oe(re.appConfig);for(;1===Xe.authToken.requestStatus;)yield tt(100),Xe=yield oe(re.appConfig);const zt=Xe.authToken;return 0===zt.requestStatus?cn(re,Re):zt})).apply(this,arguments)}function oe(re){return An(re,Re=>{if(!de(Re))throw at.create("not-registered");return function Hn(re){return 1===re.requestStatus&&re.requestTime+1e4<Date.now()}(Re.authToken)?Object.assign(Object.assign({},Re),{authToken:{requestStatus:0}}):Re})}function ee(re,Re){return ae.apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(re,Re){try{const Xe=yield en(re,Re),zt=Object.assign(Object.assign({},Re),{authToken:Xe});return yield wt(re.appConfig,zt),Xe}catch(Xe){if(!He(Xe)||401!==Xe.customData.serverCode&&404!==Xe.customData.serverCode){const zt=Object.assign(Object.assign({},Re),{authToken:{requestStatus:0}});yield wt(re.appConfig,zt)}else yield Xt(re.appConfig);throw Xe}})).apply(this,arguments)}function de(re){return void 0!==re&&2===re.registrationStatus}function Ne(re){return 2===re.requestStatus&&!function Lt(re){const Re=Date.now();return Re<re.creationTime||re.creationTime+re.expiresIn<Re+36e5}(re)}function At(re){const Re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},re),{authToken:Re})}function sr(){return(sr=(0,C.Z)(function*(re){const Re=re,{installationEntry:Xe,registrationPromise:zt}=yield Pr(Re);return zt?zt.catch(console.error):cn(Re).catch(console.error),Xe.fid})).apply(this,arguments)}function Fr(){return(Fr=(0,C.Z)(function*(re,Re=!1){const Xe=re;return yield Pe(Xe),(yield cn(Xe,Re)).token})).apply(this,arguments)}function Pe(re){return _e.apply(this,arguments)}function _e(){return(_e=(0,C.Z)(function*(re){const{registrationPromise:Re}=yield Pr(re);Re&&(yield Re)})).apply(this,arguments)}function yr(re){return at.create("missing-app-config-values",{valueName:re})}const Ie="installations",Pt=re=>{const Re=re.getProvider("app").getImmediate(),Xe=function Lr(re){if(!re||!re.options)throw yr("App Configuration");if(!re.name)throw yr("App Name");const Re=["projectId","apiKey","appId"];for(const Xe of Re)if(!re.options[Xe])throw yr(Xe);return{appName:re.name,projectId:re.options.projectId,apiKey:re.options.apiKey,appId:re.options.appId}}(Re);return{app:Re,appConfig:Xe,heartbeatServiceProvider:(0,g._getProvider)(Re,"heartbeat"),_delete:()=>Promise.resolve()}},Ht=re=>{const Re=re.getProvider("app").getImmediate(),Xe=(0,g._getProvider)(Re,Ie).getImmediate();return{getId:()=>function Mn(re){return sr.apply(this,arguments)}(Xe),getToken:Pn=>function Nn(re){return Fr.apply(this,arguments)}(Xe,Pn)}};(function pt(){(0,g._registerComponent)(new me.wA(Ie,Pt,"PUBLIC")),(0,g._registerComponent)(new me.wA("installations-internal",Ht,"PRIVATE"))})(),(0,g.registerVersion)(Le,K),(0,g.registerVersion)(Le,K,"esm2017")},1877:(Bt,Ge,U)=>{U.d(Ge,{in:()=>g,Yd:()=>K,Ub:()=>Ve,Am:()=>ze});const C=[];var g=(()=>{return(ne=g||(g={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",g;var ne})();const me={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},be=g.INFO,Ae={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},Le=(ne,le,...Se)=>{if(le<ne.logLevel)return;const mt=(new Date).toISOString(),We=Ae[le];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[We](`[${mt}]  ${ne.name}:`,...Se)};class K{constructor(le){this.name=le,this._logLevel=be,this._logHandler=Le,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in g))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?me[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...le),this._logHandler(this,g.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...le),this._logHandler(this,g.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,g.INFO,...le),this._logHandler(this,g.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,g.WARN,...le),this._logHandler(this,g.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...le),this._logHandler(this,g.ERROR,...le)}}function Ve(ne){C.forEach(le=>{le.setLogLevel(ne)})}function ze(ne,le){for(const Se of C){let mt=null;le&&le.level&&(mt=me[le.level]),Se.userLogHandler=null===ne?null:(We,dt,...at)=>{const He=at.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch(Tt){return null}}).filter(Ze=>Ze).join(" ");dt>=(null!=mt?mt:We.logLevel)&&ne({level:g[dt].toLowerCase(),message:He,args:at,type:We.name})}}}},8766:(Bt,Ge,U)=>{U.d(Ge,{Lj:()=>qe,X3:()=>bt});var C=U(5861);let me,be;const K=new WeakMap,Ve=new WeakMap,ze=new WeakMap,ne=new WeakMap,le=new WeakMap;let We={get(je,se,Me){if(je instanceof IDBTransaction){if("done"===se)return Ve.get(je);if("objectStoreNames"===se)return je.objectStoreNames||ze.get(je);if("store"===se)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return Ze(je[se])},set:(je,se,Me)=>(je[se]=Me,!0),has:(je,se)=>je instanceof IDBTransaction&&("done"===se||"store"===se)||se in je};function He(je){return"function"==typeof je?function at(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...se){return je.apply(Tt(this),se),Ze(K.get(this))}:function(...se){return Ze(je.apply(Tt(this),se))}:function(se,...Me){const Fe=je.call(Tt(this),se,...Me);return ze.set(Fe,se.sort?se.sort():[se]),Ze(Fe)}}(je):(je instanceof IDBTransaction&&function mt(je){if(Ve.has(je))return;const se=new Promise((Me,Fe)=>{const tt=()=>{je.removeEventListener("complete",it),je.removeEventListener("error",$e),je.removeEventListener("abort",$e)},it=()=>{Me(),tt()},$e=()=>{Fe(je.error||new DOMException("AbortError","AbortError")),tt()};je.addEventListener("complete",it),je.addEventListener("error",$e),je.addEventListener("abort",$e)});Ve.set(je,se)}(je),((je,se)=>se.some(Me=>je instanceof Me))(je,function Ae(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,We):je)}function Ze(je){if(je instanceof IDBRequest)return function Se(je){const se=new Promise((Me,Fe)=>{const tt=()=>{je.removeEventListener("success",it),je.removeEventListener("error",$e)},it=()=>{Me(Ze(je.result)),tt()},$e=()=>{Fe(je.error),tt()};je.addEventListener("success",it),je.addEventListener("error",$e)});return se.then(Me=>{Me instanceof IDBCursor&&K.set(Me,je)}).catch(()=>{}),le.set(se,je),se}(je);if(ne.has(je))return ne.get(je);const se=He(je);return se!==je&&(ne.set(je,se),le.set(se,je)),se}const Tt=je=>le.get(je);function bt(je,se,{blocked:Me,upgrade:Fe,blocking:tt,terminated:it}={}){const $e=indexedDB.open(je,se),Qt=Ze($e);return Fe&&$e.addEventListener("upgradeneeded",pn=>{Fe(Ze($e.result),pn.oldVersion,pn.newVersion,Ze($e.transaction))}),Me&&$e.addEventListener("blocked",()=>Me()),Qt.then(pn=>{it&&pn.addEventListener("close",()=>it()),tt&&pn.addEventListener("versionchange",()=>tt())}).catch(()=>{}),Qt}function qe(je,{blocked:se}={}){const Me=indexedDB.deleteDatabase(je);return se&&Me.addEventListener("blocked",()=>se()),Ze(Me).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Mt=new Map;function ct(je,se){if(!(je instanceof IDBDatabase)||se in je||"string"!=typeof se)return;if(Mt.get(se))return Mt.get(se);const Me=se.replace(/FromIndex$/,""),Fe=se!==Me,tt=De.includes(Me);if(!(Me in(Fe?IDBIndex:IDBObjectStore).prototype)||!tt&&!Ue.includes(Me))return;const it=function(){var $e=(0,C.Z)(function*(Qt,...pn){const Wn=this.transaction(Qt,tt?"readwrite":"readonly");let Kt=Wn.store;return Fe&&(Kt=Kt.index(pn.shift())),(yield Promise.all([Kt[Me](...pn),tt&&Wn.done]))[0]});return function(pn){return $e.apply(this,arguments)}}();return Mt.set(se,it),it}!function dt(je){We=je(We)}(je=>uI(lI({},je),{get:(se,Me,Fe)=>ct(se,Me)||je.get(se,Me,Fe),has:(se,Me)=>!!ct(se,Me)||je.has(se,Me)}))},2290:(Bt,Ge,U)=>{U.d(Ge,{Rh:()=>Wn,_W:()=>$e});var C=U(5e3),g=U(1777),me=U(7579),be=U(9808),Ae=U(2313);const Le=["toast-component",""];function K(ut,yt){if(1&ut){const xe=C.EpF();C.TgZ(0,"button",5),C.NdJ("click",function(){return C.CHM(xe),C.oxw().remove()}),C.TgZ(1,"span",6),C._uU(2,"\xd7"),C.qZA(),C.qZA()}}function Ve(ut,yt){if(1&ut&&(C.ynx(0),C._uU(1),C.BQk()),2&ut){const xe=C.oxw(2);C.xp6(1),C.hij("[",xe.duplicatesCount+1,"]")}}function ze(ut,yt){if(1&ut&&(C.TgZ(0,"div"),C._uU(1),C.YNc(2,Ve,2,1,"ng-container",4),C.qZA()),2&ut){const xe=C.oxw();C.Tol(xe.options.titleClass),C.uIk("aria-label",xe.title),C.xp6(1),C.hij(" ",xe.title," "),C.xp6(1),C.Q6J("ngIf",xe.duplicatesCount)}}function ne(ut,yt){if(1&ut&&C._UZ(0,"div",7),2&ut){const xe=C.oxw();C.Tol(xe.options.messageClass),C.Q6J("innerHTML",xe.message,C.oJD)}}function le(ut,yt){if(1&ut&&(C.TgZ(0,"div",8),C._uU(1),C.qZA()),2&ut){const xe=C.oxw();C.Tol(xe.options.messageClass),C.uIk("aria-label",xe.message),C.xp6(1),C.hij(" ",xe.message," ")}}function Se(ut,yt){if(1&ut&&(C.TgZ(0,"div"),C._UZ(1,"div",9),C.qZA()),2&ut){const xe=C.oxw();C.xp6(1),C.Udp("width",xe.width+"%")}}function mt(ut,yt){if(1&ut){const xe=C.EpF();C.TgZ(0,"button",5),C.NdJ("click",function(){return C.CHM(xe),C.oxw().remove()}),C.TgZ(1,"span",6),C._uU(2,"\xd7"),C.qZA(),C.qZA()}}function We(ut,yt){if(1&ut&&(C.ynx(0),C._uU(1),C.BQk()),2&ut){const xe=C.oxw(2);C.xp6(1),C.hij("[",xe.duplicatesCount+1,"]")}}function dt(ut,yt){if(1&ut&&(C.TgZ(0,"div"),C._uU(1),C.YNc(2,We,2,1,"ng-container",4),C.qZA()),2&ut){const xe=C.oxw();C.Tol(xe.options.titleClass),C.uIk("aria-label",xe.title),C.xp6(1),C.hij(" ",xe.title," "),C.xp6(1),C.Q6J("ngIf",xe.duplicatesCount)}}function at(ut,yt){if(1&ut&&C._UZ(0,"div",7),2&ut){const xe=C.oxw();C.Tol(xe.options.messageClass),C.Q6J("innerHTML",xe.message,C.oJD)}}function He(ut,yt){if(1&ut&&(C.TgZ(0,"div",8),C._uU(1),C.qZA()),2&ut){const xe=C.oxw();C.Tol(xe.options.messageClass),C.uIk("aria-label",xe.message),C.xp6(1),C.hij(" ",xe.message," ")}}function Ze(ut,yt){if(1&ut&&(C.TgZ(0,"div"),C._UZ(1,"div",9),C.qZA()),2&ut){const xe=C.oxw();C.xp6(1),C.Udp("width",xe.width+"%")}}class qe{constructor(yt,xe){this.component=yt,this.injector=xe}attach(yt,xe){return this._attachedHost=yt,yt.attach(this,xe)}detach(){const yt=this._attachedHost;if(yt)return this._attachedHost=void 0,yt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(yt){this._attachedHost=yt}}class De{constructor(yt,xe,Be,St,un,Cn){this.toastId=yt,this.config=xe,this.message=Be,this.title=St,this.toastType=un,this.toastRef=Cn,this._onTap=new me.x,this._onAction=new me.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(yt){this._onAction.next(yt)}onAction(){return this._onAction.asObservable()}}const Mt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ct=new C.OlP("ToastConfig");class je{constructor(yt){this._overlayRef=yt,this.duplicatesCount=0,this._afterClosed=new me.x,this._activate=new me.x,this._manualClose=new me.x,this._resetTimeout=new me.x,this._countDuplicate=new me.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(yt,xe){yt&&this._resetTimeout.next(),xe&&this._countDuplicate.next(++this.duplicatesCount)}}class se{constructor(yt,xe){this._toastPackage=yt,this._parentInjector=xe}get(yt,xe,Be){return yt===De?this._toastPackage:this._parentInjector.get(yt,xe,Be)}}class Me extends class Ue{attach(yt,xe){return this._attachedPortal=yt,this.attachComponentPortal(yt,xe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(yt){this._disposeFn=yt}}{constructor(yt,xe,Be){super(),this._hostDomElement=yt,this._componentFactoryResolver=xe,this._appRef=Be}attachComponentPortal(yt,xe){const Be=this._componentFactoryResolver.resolveComponentFactory(yt.component);let St;return St=Be.create(yt.injector),this._appRef.attachView(St.hostView),this.setDisposeFn(()=>{this._appRef.detachView(St.hostView),St.destroy()}),xe?this._hostDomElement.insertBefore(this._getComponentRootNode(St),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(St)),St}_getComponentRootNode(yt){return yt.hostView.rootNodes[0]}}class Fe{constructor(yt){this._portalHost=yt}attach(yt,xe=!0){return this._portalHost.attach(yt,xe)}detach(){return this._portalHost.detach()}}let tt=(()=>{class ut{constructor(xe){this._document=xe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),xe.setAttribute("aria-live","polite"),this._document.body.appendChild(xe),this._containerElement=xe}}return ut.\u0275fac=function(xe){return new(xe||ut)(C.LFG(be.K0))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),it=(()=>{class ut{constructor(xe,Be,St,un){this._overlayContainer=xe,this._componentFactoryResolver=Be,this._appRef=St,this._document=un,this._paneElements=new Map}create(xe,Be){return this._createOverlayRef(this.getPaneElement(xe,Be))}getPaneElement(xe="",Be){return this._paneElements.get(Be)||this._paneElements.set(Be,{}),this._paneElements.get(Be)[xe]||(this._paneElements.get(Be)[xe]=this._createPaneElement(xe,Be)),this._paneElements.get(Be)[xe]}_createPaneElement(xe,Be){const St=this._document.createElement("div");return St.id="toast-container",St.classList.add(xe),St.classList.add("toast-container"),Be?Be.getContainerElement().appendChild(St):this._overlayContainer.getContainerElement().appendChild(St),St}_createPortalHost(xe){return new Me(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new Fe(this._createPortalHost(xe))}}return ut.\u0275fac=function(xe){return new(xe||ut)(C.LFG(tt),C.LFG(C._Vd),C.LFG(C.z2F),C.LFG(be.K0))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),$e=(()=>{class ut{constructor(xe,Be,St,un,Cn){this.overlay=Be,this._injector=St,this.sanitizer=un,this.ngZone=Cn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},xe.default),xe.config),xe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},xe.default.iconClasses),xe.config.iconClasses))}show(xe,Be,St={},un=""){return this._preBuildNotification(un,xe,Be,this.applyConfig(St))}success(xe,Be,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,Be,this.applyConfig(St))}error(xe,Be,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,Be,this.applyConfig(St))}info(xe,Be,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,Be,this.applyConfig(St))}warning(xe,Be,St={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,Be,this.applyConfig(St))}clear(xe){for(const Be of this.toasts)if(void 0!==xe){if(Be.toastId===xe)return void Be.toastRef.manualClose()}else Be.toastRef.manualClose()}remove(xe){const Be=this._findToast(xe);if(!Be||(Be.activeToast.toastRef.close(),this.toasts.splice(Be.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const St=this.toasts[this.currentlyActive].toastRef;St.isInactive()||(this.currentlyActive=this.currentlyActive+1,St.activate())}return!0}findDuplicate(xe="",Be="",St,un){const{includeTitleDuplicates:Cn}=this.toastrConfig;for(const Tn of this.toasts){const qn=Cn&&Tn.title===xe;if((!Cn||qn)&&Tn.message===Be)return Tn.toastRef.onDuplicate(St,un),Tn}return null}applyConfig(xe={}){return Object.assign(Object.assign({},this.toastrConfig),xe)}_findToast(xe){for(let Be=0;Be<this.toasts.length;Be++)if(this.toasts[Be].toastId===xe)return{index:Be,activeToast:this.toasts[Be]};return null}_preBuildNotification(xe,Be,St,un){return un.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,Be,St,un)):this._buildNotification(xe,Be,St,un)}_buildNotification(xe,Be,St,un){if(!un.toastComponent)throw new Error("toastComponent required");const Cn=this.findDuplicate(St,Be,this.toastrConfig.resetTimeoutOnDuplicate&&un.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&St||Be)&&this.toastrConfig.preventDuplicates&&null!==Cn)return Cn;this.previousToastMessage=Be;let Tn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const qn=this.overlay.create(un.positionClass,this.overlayContainer);this.index=this.index+1;let Yn=Be;Be&&un.enableHtml&&(Yn=this.sanitizer.sanitize(C.q3G.HTML,Be));const nr=new je(qn),wt=new De(this.index,un,Yn,St,xe,nr),ar=new se(wt,this._injector),Xt=new qe(un.toastComponent,ar),cr=qn.attach(Xt,this.toastrConfig.newestOnTop);nr.componentInstance=cr.instance;const An={toastId:this.index,title:St||"",message:Be||"",toastRef:nr,onShown:nr.afterActivate(),onHidden:nr.afterClosed(),onTap:wt.onTap(),onAction:wt.onAction(),portal:cr};return Tn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{An.toastRef.activate()})),this.toasts.push(An),An}}return ut.\u0275fac=function(xe){return new(xe||ut)(C.LFG(ct),C.LFG(it),C.LFG(C.zs3),C.LFG(Ae.H7),C.LFG(C.R0b))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),Qt=(()=>{class ut{constructor(xe,Be,St){this.toastrService=xe,this.toastPackage=Be,this.ngZone=St,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Be.message,this.title=Be.title,this.options=Be.config,this.originalTimeout=Be.config.timeOut,this.toastClasses=`${Be.toastType} ${Be.config.toastClass}`,this.sub=Be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Be.toastRef.countDuplicate().subscribe(un=>{this.duplicatesCount=un})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const xe=(new Date).getTime();this.width=(this.hideTime-xe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(xe,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(xe),Be)):this.timeout=setTimeout(()=>xe(),Be)}outsideInterval(xe,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(xe),Be)):this.intervalId=setInterval(()=>xe(),Be)}runInsideAngular(xe){this.ngZone?this.ngZone.run(()=>xe()):xe()}}return ut.\u0275fac=function(xe){return new(xe||ut)(C.Y36($e),C.Y36(De),C.Y36(C.R0b))},ut.\u0275cmp=C.Xpm({type:ut,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(xe,Be){1&xe&&C.NdJ("click",function(){return Be.tapToast()})("mouseenter",function(){return Be.stickAround()})("mouseleave",function(){return Be.delayedHideToast()}),2&xe&&(C.d8E("@flyInOut",Be.state),C.Tol(Be.toastClasses),C.Udp("display",Be.displayStyle))},attrs:Le,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(xe,Be){1&xe&&(C.YNc(0,K,3,0,"button",0),C.YNc(1,ze,3,5,"div",1),C.YNc(2,ne,1,3,"div",2),C.YNc(3,le,2,4,"div",3),C.YNc(4,Se,2,2,"div",4)),2&xe&&(C.Q6J("ngIf",Be.options.closeButton),C.xp6(1),C.Q6J("ngIf",Be.title),C.xp6(1),C.Q6J("ngIf",Be.message&&Be.options.enableHtml),C.xp6(1),C.Q6J("ngIf",Be.message&&!Be.options.enableHtml),C.xp6(1),C.Q6J("ngIf",Be.options.progressBar))},directives:[be.O5],encapsulation:2,data:{animation:[(0,g.X$)("flyInOut",[(0,g.SB)("inactive",(0,g.oB)({opacity:0})),(0,g.SB)("active",(0,g.oB)({opacity:1})),(0,g.SB)("removed",(0,g.oB)({opacity:0})),(0,g.eR)("inactive => active",(0,g.jt)("{{ easeTime }}ms {{ easing }}")),(0,g.eR)("active => removed",(0,g.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ut})();const pn=Object.assign(Object.assign({},Mt),{toastComponent:Qt});let Wn=(()=>{class ut{static forRoot(xe={}){return{ngModule:ut,providers:[{provide:ct,useValue:{default:pn,config:xe}}]}}}return ut.\u0275fac=function(xe){return new(xe||ut)},ut.\u0275mod=C.oAB({type:ut}),ut.\u0275inj=C.cJS({imports:[[be.ez]]}),ut})(),rn=(()=>{class ut{constructor(xe,Be,St){this.toastrService=xe,this.toastPackage=Be,this.appRef=St,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Be.message,this.title=Be.title,this.options=Be.config,this.originalTimeout=Be.config.timeOut,this.toastClasses=`${Be.toastType} ${Be.config.toastClass}`,this.sub=Be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Be.toastRef.countDuplicate().subscribe(un=>{this.duplicatesCount=un})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const xe=(new Date).getTime();this.width=(this.hideTime-xe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return ut.\u0275fac=function(xe){return new(xe||ut)(C.Y36($e),C.Y36(De),C.Y36(C.z2F))},ut.\u0275cmp=C.Xpm({type:ut,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(xe,Be){1&xe&&C.NdJ("click",function(){return Be.tapToast()})("mouseenter",function(){return Be.stickAround()})("mouseleave",function(){return Be.delayedHideToast()}),2&xe&&(C.Tol(Be.toastClasses),C.Udp("display",Be.displayStyle))},attrs:Le,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(xe,Be){1&xe&&(C.YNc(0,mt,3,0,"button",0),C.YNc(1,dt,3,5,"div",1),C.YNc(2,at,1,3,"div",2),C.YNc(3,He,2,4,"div",3),C.YNc(4,Ze,2,2,"div",4)),2&xe&&(C.Q6J("ngIf",Be.options.closeButton),C.xp6(1),C.Q6J("ngIf",Be.title),C.xp6(1),C.Q6J("ngIf",Be.message&&Be.options.enableHtml),C.xp6(1),C.Q6J("ngIf",Be.message&&!Be.options.enableHtml),C.xp6(1),C.Q6J("ngIf",Be.options.progressBar))},directives:[be.O5],encapsulation:2}),ut})();Object.assign(Object.assign({},Mt),{toastComponent:rn})},5861:(Bt,Ge,U)=>{function C(me,be,Ae,Le,K,Ve,ze){try{var ne=me[Ve](ze),le=ne.value}catch(Se){return void Ae(Se)}ne.done?be(le):Promise.resolve(le).then(Le,K)}function g(me){return function(){var be=this,Ae=arguments;return new Promise(function(Le,K){var Ve=me.apply(be,Ae);function ze(le){C(Ve,Le,K,ze,ne,"next",le)}function ne(le){C(Ve,Le,K,ze,ne,"throw",le)}ze(void 0)})}}U.d(Ge,{Z:()=>g})}},Bt=>{Bt(Bt.s=434)}]);